EDU("2e73dc8bbe4d0280d61ad99a01f23978",function(e,t){function n(){function e(e,t){var n=o.external||{};for(var i in n)if(e.test(t?n[i]:i))return!0;return!1}function t(){if(p||"undefined"!=typeof o.scrollMaxX||l.test(s.vendor||""))return"";if(u.test(navigator.userAgent))return"Edge";var t="track"in document.createElement("track");var n=o.chrome&&o.chrome.webstore?Object.keys(o.chrome.webstore).length:0;var i=o.chrome&&o.chrome.app?Object.keys(o.chrome.app).length:0;if(e(/^sogou/i,0))return"sogou";if(e(/^liebao/i,0))return"liebao";if(o.clientInformation&&o.clientInformation.languages&&o.clientInformation.languages.length>2)return"chrome";if(t)return Object.keys(window.chrome.app).join().indexOf("getDetailsForFrame")>-1?"360ee":"360se";else return""}function n(){var e=3,t=document.createElement("p"),n=t.getElementsByTagName("i");for(;t.innerHTML="<!--[if gt IE "+ ++e+"]><i></i><![endif]-->",n[0];);return e>4?e:0}function i(){var e=navigator.userAgent;var t=f.exec(e);return t[t.length-1]}var a={};var o=window;var s=o.navigator;var r=o.document;var d=o.ActiveXObject;var c=r.documentMode;var l=/^Apple/;var h=n()||c||0;var p=d||c;var u=/Edge/i;var f=/(?:Chrome\/)(\d+)(?:\.)/i;var _=t();return{isIE:function(){return!!h},ieVersion:function(){return h},isEdge:function(){return"Edge"===_},isChrome:function(){return"chrome"===_},chromeVersion:function(){return i()},is360se:function(){return"360se"===_},is360ee:function(){return"360ee"===_},isLiebao:function(){return"liebao"===_},isSogou:function(){return"sogou"===_},isQQ:function(){return"qq"===_}}}t=e;t._$getUserAgentInfoToString=function(){var e=n();if(e.isIE())return"IE:"+e.ieVersion();if(e.isEdge())return"Edge";if(e.isChrome())return"chrome:"+e.chromeVersion();if(e.is360se())return"360se";if(e.is360ee())return"360ee";if(e.isLiebao())return"liebao";if(e.isSogou())return"sogou";if(e.isQQ())return"qq";else return""};return t},"82e7117e8ad1be4e0c50b4780a67a492");EDU("b2313d8b4659325a325c2317c6af8d82",function(e,t,n,i,a,o){function s(e){var n=/(https?:)?(\/\/)(.*?\.)(com|net)([\/]+.*?\.)(jpg|jpeg|png)/g,i=/(https?%3A)?(%2F%2F)(.*?\.)(com|net)([%2F]+.*?\.)(jpg|jpeg|png)/g,a=window.location.protocol;if(e.data)e.data=t(e.data,function(e){if(/\.(jpg|jpeg|png)/i.test(e)){e=e.replace(n,a+"$2$3$4$5$6");if(/%2F/i.test(e))e=e.replace(i,encodeURIComponent(a)+"$2$3$4$5$6");return e}})}function r(e){s(e);var n=e.onload;e.onload=function(e){if(e)e=t(e);n(e)};return e}var d=window.navigator.userAgent;var c=o._$getUserAgentInfoToString();var l=e._$detect();var h=!(void 0!==window.__replaceGlobalUrls&&window.__replaceGlobalUrls!==!0||"false"!=window.isMobilePhone||a._$isWeixin()||e._$isIE()||/Firefox/.test(l.name)||/Safari/.test(l.name)||/Internet Explorer/.test(l.name)||/Microsoft Edge/.test(l.name)||"360se"==c||"360ee"==c||"sogou"==c||"liebao"==c||d.indexOf("LBBROWSER")!=-1||a._$isIosWebView()||a._$isIos());if(h)for(var p in window)if(window.hasOwnProperty(p)&&!$$$nativeWindowKeysCheckMap[p]&&window[p]!==window)window[p]=t(window[p]);if(void 0===window.__interceptHttpsRequests||window.__interceptHttpsRequests===!0){var u=n._$request;n._$request=function(e,t){t=r(t);return u.call(n,e,t)};var f=i._$request;i._$request=i._$requestByDWR=function(e,t){t=r(t);return f.call(i,e,t)}}},"82e7117e8ad1be4e0c50b4780a67a492","961c63ac85d0cab4a5e53718e5f9cd25","800ea8a1cef42e18667289b10f72d151","07f99d130a922888184dadadc95d8869","e166934020e176702f79f2e133662e05","2e73dc8bbe4d0280d61ad99a01f23978");EDU("2f706a118a45a5e26c5a080ebe822bff",function(e){e&&e.init&&e.init()},"11cbecd6899d45219928030013e842e2","ca2d544e3eee85d482f866167171850e","7fc03a59dcbdc2e1deb6f9592736fc4d");EDU("52a69d8cddfffb11df8efb5e1304298f",function(){var e=window,t=NEJ.P("nej.e"),n=NEJ.P("nej.v"),i=NEJ.P("nej.ut"),a=NEJ.P("edu.u");var o=localStorage.getItem("hasLearnWeixinWarn");if(!o){document.querySelector("#wxItemTab").classList.remove("hidden");localStorage.setItem("hasLearnWeixinWarn","1");document.body.addEventListener("click",function(){document.querySelector("#wxItemTab").classList.add("hidden")})}document.querySelector("#wxItemTab").addEventListener("hover",function(e){e.target.classList.remove("hidden")});document.querySelector("#appTab").addEventListener("hover",function(e){e.target.classList.remove("hidden")});if(window.isSpoc&&1==window.isSpoc)try{var s=e.courseDto.schoolPanel.name;var r=e.courseDto.schoolPanel.shortName;document.querySelector(".new-nav-spoc-logo").innerHTML='<a target="_blank" href="//www.icourse163.org/spoc/university/'+r+'">'+s+"</a>";document.querySelector(".u-navLogin-kaoyan").style.display="none";if(document.querySelector(".navLeft-func-f_div18")){document.querySelector(".navLeft-func-f_div18_div22").style.display="none";document.querySelector(".navLeft-func-f_div18_div29").style.display="none";document.querySelector(".navLeft-func-f_div18_div32").style.display="none";document.querySelector(".navLeft-func-f_div18_div35").style.display="none"}else{document.querySelector(".navLeft-func-t_div1_div5").style.display="none";document.querySelector(".navLeft-func-t_div1_div12").style.display="none";document.querySelector(".navLeft-func-t_div1_div15").style.display="none"}}catch(t){}if(a._$browserSupportedOrGo()){e.dispatcher=i._$$Dispatcher._$getInstance();e.dispatcher._$rule("config",location.config);e.dispatcher._$regist(a.umi("commonutil"),"shared/desktop/modules/commonutil/commonutil.html");e.dispatcher._$regist(a.umi("courseLearn"),"learn/index/desktop/modules/learn.html");e.dispatcher._$regist(a.umi("learnAnnounce"),"learn/index/desktop/modules/learn.html");e.dispatcher._$regist(a.umi("learnScore"),"learn/index/desktop/modules/learn.html");e.dispatcher._$regist(a.umi("learnCustom"),"learn/index/desktop/modules/learn.html");e.dispatcher._$regist(a.umi("learnContent"),"learn/index/desktop/modules/learn/content.html");e.dispatcher._$regist(a.umi("learnTestList"),"learn/index/desktop/modules/learn/task.html");e.dispatcher._$regist(a.umi("learnQuiz"),"learn/index/desktop/modules/learn/task.html");e.dispatcher._$regist(a.umi("learnQuizScore"),"learn/index/desktop/modules/learn/task.html");e.dispatcher._$regist(a.umi("learnHomework"),"learn/index/desktop/modules/learn/homework.html");e.dispatcher._$regist(a.umi("learnOJHomework"),"learn/index/desktop/modules/learn/oj.html");e.dispatcher._$regist(a.umi("learnExamList"),"learn/index/desktop/modules/learn/exam.html");e.dispatcher._$regist(a.umi("learnExamObjective"),"learn/index/desktop/modules/learn/task.html");e.dispatcher._$regist(a.umi("learnExamObjectScore"),"learn/index/desktop/modules/learn/task.html");e.dispatcher._$regist(a.umi("learnExamSubjective"),"learn/index/desktop/modules/learn/homework.html");e.dispatcher._$regist(a.umi("learnExamOJ"),"learn/index/desktop/modules/learn/oj.html");e.dispatcher._$regist(a.umi("notEnroll"),"learn/index/desktop/modules/learn/notEnroll.html");e.dispatcher._$regist(a.umi("learnForumIndex"),"learn/index/desktop/modules/learn/forum.html");e.dispatcher._$regist(a.umi("learnForumPanel"),"learn/index/desktop/modules/learn/forum.html");e.dispatcher._$regist(a.umi("learnForumSearch"),"learn/index/desktop/modules/learn/forum.html");e.dispatcher._$regist(a.umi("learnForumPersonal"),"learn/index/desktop/modules/learn/forum.html");e.dispatcher._$regist(a.umi("learnForumDetail"),"learn/index/desktop/modules/learn/forum.html");e.dispatcher._$regist(a.umi("learnForumTopic"),"learn/index/desktop/modules/learn/forum.html");e.dispatcher._$regist(a.umi("learnForumEasyTopic"),"learn/index/desktop/modules/learn/forum.html");e.dispatcher._$regist(a.umi("forumNoticeDetail"),"learn/index/desktop/modules/learn/forum.html");e.dispatcher._$regist(a.umi("forumUserRanking"),"learn/index/desktop/modules/learn/forum.html");e.dispatcher._$active();var d=e.decodeURIComponent(location.hash);if(d&&a._$isRightUMI(d,[a.umi("learnAnnounce"),a.umi("learnScore"),a.umi("learnCustom"),a.umi("learnContent"),a.umi("learnTestList"),a.umi("learnQuiz"),a.umi("learnQuizScore"),a.umi("learnHomework"),a.umi("learnOJHomework"),a.umi("learnExamObjective"),a.umi("learnExamList"),a.umi("learnExamObjectScore"),a.umi("learnExamSubjective"),a.umi("learnExamOJ"),a.umi("learnForumIndex"),a.umi("learnForumPanel"),a.umi("learnForumPersonal"),a.umi("learnForumSearch"),a.umi("learnForumDetail"),a.umi("learnForumTopic"),a.umi("learnForumEasyTopic"),a.umi("forumNoticeDetail"),a.umi("forumUserRanking")]))e.dispatcher._$redirect(d,!0);else e.dispatcher._$redirect(a.umi("learnAnnounce"),!0)}},"50613f577e049ebebdbafc96cb18be4d","72204bda11a03bf0defa357fe3f0e830","2be3af20e336123dd0b9f47ab576c0f7","764bbc344cb088414e6cd2b4853db5ee","dda531c5afbe865e3b800beb4d9e3342","cfe82217a1f0c7b966710246940e6539");!function t(e,n){if("object"==typeof exports&&"object"==typeof module)module.exports=n();else if("function"==typeof define&&define.amd)define([],n);else if("object"==typeof exports)exports["echarts"]=n();else e["echarts"]=n()}(this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var a=n[i]={exports:{},id:i,loaded:!1};e[i].call(a.exports,a,a.exports,t);a.loaded=!0;return a.exports}var n={};t.m=e;t.c=n;t.p="";return t(0)}([function(e,t,n){e.exports=n(1);n(99);n(133);n(138);n(147);n(151);n(161);n(182);n(194);n(215);n(219);n(223);n(238);n(244);n(251);n(257);n(261);n(269);n(112);n(273);n(279);n(283);n(294);n(224);n(297);n(303);n(315);n(316);n(330);n(345);n(351);n(354);n(357);n(366);n(379)},function(e,t,n){function i(e){return function(t,n,i){t=t&&t.toLowerCase();k.prototype[e].call(this,t,n,i)}}function a(){k.call(this)}function o(e,t,n){function i(e,t){return e.prio-t.prio}n=n||{};if("string"==typeof t)t=X[t];this.id;this.group;this._dom=e;this._zr=T.init(e,{renderer:n.renderer||"canvas",devicePixelRatio:n.devicePixelRatio});this._theme=N.clone(t);this._chartsViews=[];this._chartsMap={};this._componentsViews=[];this._componentsMap={};this._api=new v(this);this._coordSysMgr=new C;k.call(this);this._messageCenter=new a;this._initEvents();this.resize=N.bind(this.resize,this);
this._pendingActions=[];D(K,i);D(Y,i);this._zr.animation.on("frame",this._onframe,this)}function s(e,t){var n=this._model;if(n)n.eachComponent({mainType:"series",query:t},function(i,a){var o=this._chartsMap[i.__viewId];if(o&&o.__alive)o[e](i,n,this._api,t)},this)}function r(e,t,n){var i=this._api;U(this._componentsViews,function(a){var o=a.__model;a[e](o,t,i,n);m(o,a)},this);t.eachSeries(function(a,o){var s=this._chartsMap[a.__viewId];s[e](a,t,i,n);m(a,s);_(a,s)},this);f(this._zr,t)}function d(e,t){var n="component"===e;var i=n?this._componentsViews:this._chartsViews;var a=n?this._componentsMap:this._chartsMap;var o=this._zr;for(var s=0;s<i.length;s++)i[s].__alive=!1;t[n?"eachComponent":"eachSeries"](function(e,s){if(n){if("series"===e)return}else s=e;var r=s.id+"_"+s.type;var d=a[r];if(!d){var c=I.parseClassType(s.type);var l=n?$.getClass(c.main,c.sub):A.getClass(c.sub);if(l){d=new l;d.init(t,this._api);a[r]=d;i.push(d);o.add(d.group)}else return}s.__viewId=r;d.__alive=!0;d.__id=r;d.__model=s},this);for(var s=0;s<i.length;){var r=i[s];if(!r.__alive){o.remove(r.group);r.dispose(t,this._api);i.splice(s,1);delete a[r.__id]}else s++}}function c(e,t){U(Y,function(n){n.func(e,t)})}function l(e){var t={};e.eachSeries(function(e){var n=e.get("stack");var i=e.getData();if(n&&"list"===i.type){var a=t[n];if(a)i.stackedOn=a;t[n]=i}})}function h(e,t){var n=this._api;U(K,function(i){if(i.isLayout)i.func(e,n,t)})}function p(e,t){var n=this._api;e.clearColorPalette();e.eachSeries(function(e){e.clearColorPalette()});U(K,function(i){i.func(e,n,t)})}function u(e,t){var n=this._api;U(this._componentsViews,function(i){var a=i.__model;i.render(a,e,n,t);m(a,i)},this);U(this._chartsViews,function(e){e.__alive=!1},this);e.eachSeries(function(i,a){var o=this._chartsMap[i.__viewId];o.__alive=!0;o.render(i,e,n,t);o.group.silent=!!i.get("silent");m(i,o);_(i,o)},this);f(this._zr,e);U(this._chartsViews,function(t){if(!t.__alive)t.remove(e,n)},this)}function f(e,t){var n=e.storage;var i=0;n.traverse(function(e){if(!e.isGroup)i++});if(i>t.get("hoverLayerThreshold")&&!b.node)n.traverse(function(e){if(!e.isGroup)e.useHoverLayer=!0})}function _(e,t){var n=0;t.group.traverse(function(e){if("group"!==e.type&&!e.ignore)n++});var i=+e.get("progressive");var a=n>e.get("progressiveThreshold")&&i&&!b.node;if(a)t.group.traverse(function(e){if(!e.isGroup){e.progressive=a?Math.floor(n++/i):-1;if(a)e.stopAnimation(!0)}});var o=e.get("blendMode")||null;if(!0)if(!b.canvasSupported&&o&&"source-over"!==o)console.warn("Only canvas support blendMode");t.group.traverse(function(e){if(!e.isGroup)e.setStyle("blend",o)})}function m(e,t){var n=e.get("z");var i=e.get("zlevel");t.group.traverse(function(e){if("group"!==e.type){null!=n&&(e.z=n);null!=i&&(e.zlevel=i)}})}function g(e){function t(e,t){for(var n=0;n<e.length;n++){var i=e[n];i[o]=t}}var n=0;var i=1;var a=2;var o="__connectUpdateStatus";N.each(q,function(s,r){e._messageCenter.on(r,function(s){if(te[e.group]&&e[o]!==n){var r=e.makeActionFromEvent(s);var d=[];for(var c in ee){var l=ee[c];if(l!==e&&l.group===e.group)d.push(l)}t(d,n);U(d,function(e){if(e[o]!==i)e.dispatchAction(r)});t(d,a)}})})}if(!1)if("undefined"!=typeof window)window.__DEV__=!0;else if("undefined"!=typeof global)global.__DEV__=!0;var b=n(2);var x=n(3);var v=n(25);var C=n(26);var w=n(27);var I=n(19);var y=n(28);var $=n(29);var A=n(42);var E=n(43);var T=n(81);var N=n(4);var S=n(39);var k=n(33);var D=n(85);var U=N.each;var z=1e3;var P=5e3;var L=1e3;var O=2e3;var M=3e3;var B=4e3;var R=5e3;var j="__flag_in_main_process";var F="_hasGradientOrPatternBg";var H="_optionUpdated";a.prototype.on=i("on");a.prototype.off=i("off");a.prototype.one=i("one");N.mixin(a,k);var V=o.prototype;V._onframe=function(){if(this[H]){this[j]=!0;G.prepareAndUpdate.call(this);this[j]=!1;this[H]=!1}};V.getDom=function(){return this._dom};V.getZr=function(){return this._zr};V.setOption=function(e,t,n){if(!0)N.assert(!this[j],"`setOption` should not be called during main process.");this[j]=!0;if(!this._model||t){var i=new w(this._api);var a=this._theme;var o=this._model=new x(null,null,a,i);o.init(null,null,a,i)}this._model.setOption(e,Q);if(n)this[H]=!0;else{G.prepareAndUpdate.call(this);this._zr.refreshImmediately();this[H]=!1}this[j]=!1;this._flushPendingActions()};V.setTheme=function(){console.log("ECharts#setTheme() is DEPRECATED in ECharts 3.0")};V.getModel=function(){return this._model};V.getOption=function(){return this._model&&this._model.getOption()};V.getWidth=function(){return this._zr.getWidth()};V.getHeight=function(){return this._zr.getHeight()};V.getRenderedCanvas=function(e){if(b.canvasSupported){e=e||{};e.pixelRatio=e.pixelRatio||1;e.backgroundColor=e.backgroundColor||this._model.get("backgroundColor");var t=this._zr;var n=t.storage.getDisplayList();N.each(n,function(e){e.stopAnimation(!0)});return t.painter.getRenderedCanvas(e)}};V.getDataURL=function(e){e=e||{};var t=e.excludeComponents;var n=this._model;var i=[];var a=this;U(t,function(e){n.eachComponent({mainType:e},function(e){var t=a._componentsMap[e.__viewId];if(!t.group.ignore){i.push(t);t.group.ignore=!0}})});var o=this.getRenderedCanvas(e).toDataURL("image/"+(e&&e.type||"png"));U(i,function(e){e.group.ignore=!1});return o};V.getConnectedDataURL=function(e){if(b.canvasSupported){var t=this.group;var n=Math.min;var i=Math.max;var a=1/0;if(te[t]){var o=a;var s=a;var r=-a;var d=-a;var c=[];var l=e&&e.pixelRatio||1;for(var h in ee){var p=ee[h];if(p.group===t){var u=p.getRenderedCanvas(N.clone(e));var f=p.getDom().getBoundingClientRect();o=n(f.left,o);s=n(f.top,s);r=i(f.right,r);d=i(f.bottom,d);c.push({dom:u,left:f.left,top:f.top})}}o*=l;s*=l;r*=l;d*=l;var _=r-o;var m=d-s;var g=N.createCanvas();g.width=_;g.height=m;var x=T.init(g);U(c,function(e){var t=new E.Image({style:{x:e.left*l-o,y:e.top*l-s,image:e.dom}});x.add(t)});x.refreshImmediately();return g.toDataURL("image/"+(e&&e.type||"png"))}else return this.getDataURL(e)}};var G={update:function(e){var t=this._model;var n=this._api;var i=this._coordSysMgr;var a=this._zr;if(t){t.restoreData();i.create(this._model,this._api);c.call(this,t,n);l.call(this,t);i.update(t,n);p.call(this,t,e);u.call(this,t,e);var o=t.get("backgroundColor")||"transparent";var s=a.painter;if(s.isSingleCanvas&&s.isSingleCanvas())a.configLayer(0,{clearColor:o});else{if(!b.canvasSupported){var r=S.parse(o);o=S.stringify(r,"rgb");if(0===r[3])o="transparent"}if(o.colorStops||o.image){a.configLayer(0,{clearColor:o});this[F]=!0;this._dom.style.background="transparent"}else{if(this[F])a.configLayer(0,{clearColor:null});this[F]=!1;this._dom.style.background=o}}}},updateView:function(e){var t=this._model;if(t){t.eachSeries(function(e){e.getData().clearAllVisual()});p.call(this,t,e);r.call(this,"updateView",t,e)}},updateVisual:function(e){var t=this._model;if(t){t.eachSeries(function(e){e.getData().clearAllVisual()});p.call(this,t,e);r.call(this,"updateVisual",t,e)}},updateLayout:function(e){var t=this._model;if(t){h.call(this,t,e);r.call(this,"updateLayout",t,e)}},highlight:function(e){s.call(this,"highlight",e)},downplay:function(e){s.call(this,"downplay",e)},prepareAndUpdate:function(e){var t=this._model;d.call(this,"component",t);d.call(this,"chart",t);G.update.call(this,e)}};V.resize=function(){if(!0)N.assert(!this[j],"`resize` should not be called during main process.");this[j]=!0;this._zr.resize();var e=this._model&&this._model.resetOption("media");G[e?"prepareAndUpdate":"update"].call(this);this._loadingFX&&this._loadingFX.resize();this[j]=!1;this._flushPendingActions()};V.showLoading=function(e,t){if(N.isObject(e)){t=e;e=""}e=e||"default";this.hideLoading();if(Z[e]){var n=Z[e](this._api,t);var i=this._zr;this._loadingFX=n;i.add(n)}else if(!0)console.warn("Loading effects "+e+" not exists.")};V.hideLoading=function(){this._loadingFX&&this._zr.remove(this._loadingFX);this._loadingFX=null};V.makeActionFromEvent=function(e){var t=N.extend({},e);t.type=q[e.type];return t};V.dispatchAction=function(e,t){var n=W[e.type];if(n){var i=n.actionInfo;var a=i.update||"update";if(!this[j]){this[j]=!0;var o=[e];var s=!1;if(e.batch){s=!0;o=N.map(e.batch,function(t){t=N.defaults(N.extend({},t),e);t.batch=null;return t})}var r=[];var d;var c="highlight"===e.type||"downplay"===e.type;for(var l=0;l<o.length;l++){var h=o[l];d=n.action(h,this._model);d=d||N.extend({},h);d.type=i.event||d.type;r.push(d);c&&G[a].call(this,h)}if("none"!==a&&!c)if(this[H]){G.prepareAndUpdate.call(this,e);this[H]=!1}else G[a].call(this,e);if(s)d={type:i.event||e.type,batch:r};else d=r[0];this[j]=!1;!t&&this._messageCenter.trigger(d.type,d);this._flushPendingActions()}else this._pendingActions.push(e)}};V._flushPendingActions=function(){var e=this._pendingActions;for(;e.length;){var t=e.shift();this.dispatchAction(t)}};V.on=i("on");V.off=i("off");V.one=i("one");var J=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout"];V._initEvents=function(){U(J,function(e){this._zr.on(e,function(t){var n=this.getModel();var i=t.target;if(i&&null!=i.dataIndex){var a=i.dataModel||n.getSeriesByIndex(i.seriesIndex);var o=a&&a.getDataParams(i.dataIndex,i.dataType)||{};o.event=t;o.type=e;this.trigger(e,o)}else if(i&&i.eventData)this.trigger(e,i.eventData)},this)},this);U(q,function(e,t){this._messageCenter.on(t,function(e){this.trigger(t,e)},this)},this)};V.isDisposed=function(){return this._disposed};V.clear=function(){this.setOption({series:[]},!0)};V.dispose=function(){if(!this._disposed){this._disposed=!0;var e=this._api;var t=this._model;U(this._componentsViews,function(n){n.dispose(t,e)});U(this._chartsViews,function(n){n.dispose(t,e)});this._zr.dispose();delete ee[this.id]}else if(!0)console.warn("Instance "+this.id+" has been disposed")};N.mixin(o,k);var W=[];var q={};var Y=[];var Q=[];var K=[];var X={};var Z={};var ee={};var te={};var ne=new Date-0;var ie=new Date-0;var ae="_echarts_instance_";var oe={version:"3.2.3",dependencies:{zrender:"3.1.3"}};oe.init=function(e,t,n){if(!0){if(T.version.replace(".","")-0<oe.dependencies.zrender.replace(".","")-0)throw new Error("ZRender "+T.version+" is too old for ECharts "+oe.version+". Current version need ZRender "+oe.dependencies.zrender+"+");
if(!e)throw new Error("Initialize failed: invalid dom.");if(N.isDom(e)&&"CANVAS"!==e.nodeName.toUpperCase()&&(!e.clientWidth||!e.clientHeight))console.warn("Can't get dom width or height")}var i=new o(e,t,n);i.id="ec_"+ne++;ee[i.id]=i;e.setAttribute&&e.setAttribute(ae,i.id);g(i);return i};oe.connect=function(e){if(N.isArray(e)){var t=e;e=null;N.each(t,function(t){if(null!=t.group)e=t.group});e=e||"g_"+ie++;N.each(t,function(t){t.group=e})}te[e]=!0;return e};oe.disConnect=function(e){te[e]=!1};oe.dispose=function(e){if(N.isDom(e))e=oe.getInstanceByDom(e);else if("string"==typeof e)e=ee[e];if(e instanceof o&&!e.isDisposed())e.dispose()};oe.getInstanceByDom=function(e){var t=e.getAttribute(ae);return ee[t]};oe.getInstanceById=function(e){return ee[e]};oe.registerTheme=function(e,t){X[e]=t};oe.registerPreprocessor=function(e){Q.push(e)};oe.registerProcessor=function(e,t){if("function"==typeof e){t=e;e=z}if(!0)if(isNaN(e))throw new Error("Unkown processor priority");Y.push({prio:e,func:t})};oe.registerAction=function(e,t,n){if("function"==typeof t){n=t;t=""}var i=N.isObject(e)?e.type:[e,e={event:t}][0];e.event=(e.event||i).toLowerCase();t=e.event;if(!W[i])W[i]={action:n,actionInfo:e};q[t]=i};oe.registerCoordinateSystem=function(e,t){C.register(e,t)};oe.registerLayout=function(e,t){if("function"==typeof e){t=e;e=L}if(!0)if(isNaN(e))throw new Error("Unkown layout priority");K.push({prio:e,func:t,isLayout:!0})};oe.registerVisual=function(e,t){if("function"==typeof e){t=e;e=M}if(!0)if(isNaN(e))throw new Error("Unkown visual priority");K.push({prio:e,func:t})};oe.registerLoading=function(e,t){Z[e]=t};var se=I.parseClassType;oe.extendComponentModel=function(e,t){var n=I;if(t){var i=se(t);n=I.getClass(i.main,i.sub,!0)}return n.extend(e)};oe.extendComponentView=function(e,t){var n=$;if(t){var i=se(t);n=$.getClass(i.main,i.sub,!0)}return n.extend(e)};oe.extendSeriesModel=function(e,t){var n=y;if(t){t="series."+t.replace("series.","");var i=se(t);n=y.getClass(i.main,i.sub,!0)}return n.extend(e)};oe.extendChartView=function(e,t){var n=A;if(t){t.replace("series.","");var i=se(t);n=A.getClass(i.main,!0)}return n.extend(e)};oe.setCanvasCreator=function(e){N.createCanvas=e};oe.registerVisual(O,n(93));oe.registerPreprocessor(n(94));oe.registerLoading("default",n(96));oe.registerAction({type:"highlight",event:"highlight",update:"highlight"},N.noop);oe.registerAction({type:"downplay",event:"downplay",update:"downplay"},N.noop);oe.List=n(97);oe.Model=n(12);oe.graphic=n(43);oe.number=n(7);oe.format=n(6);oe.matrix=n(11);oe.vector=n(10);oe.color=n(39);oe.util={};U(["map","each","filter","indexOf","inherits","reduce","filter","bind","curry","isArray","isString","isObject","isFunction","extend","defaults"],function(e){oe.util[e]=N[e]});oe.PRIORITY={PROCESSOR:{FILTER:z,STATISTIC:P},VISUAL:{LAYOUT:L,GLOBAL:O,CHART:M,COMPONENT:B,BRUSH:R}};e.exports=oe},function(e,t){function n(e){var t={};var n={};var i=e.match(/Firefox\/([\d.]+)/);var a=e.match(/MSIE\s([\d.]+)/)||e.match(/Trident\/.+?rv:(([\d.]+))/);var o=e.match(/Edge\/([\d.]+)/);if(i)n.firefox=!0,n.version=i[1];if(a){n.ie=!0;n.version=a[1]}if(a){n.ie=!0;n.version=a[1]}if(o){n.edge=!0;n.version=o[1]}return{browser:n,os:t,node:!1,canvasSupported:document.createElement("canvas").getContext?!0:!1,touchEventsSupported:"ontouchstart"in window&&!n.ie&&!n.edge,pointerEventsSupported:"onpointerdown"in window&&(n.edge||n.ie&&n.version>=10)}}var i={};if("undefined"==typeof navigator)i={browser:{},os:{},node:!0,canvasSupported:!0};else i=n(navigator.userAgent);e.exports=i},function(e,t,n){function i(e,t){for(var n in t)if(!v.hasClass(n))if("object"==typeof t[n])e[n]=!e[n]?h.clone(t[n]):h.merge(e[n],t[n],!1);else if(null==e[n])e[n]=t[n]}function a(e){e=e;this.option={};this.option[w]=1;this._componentsMap={};this._seriesIndices=null;i(e,this._theme.option);h.merge(e,C,!1);this.mergeOption(e)}function o(e,t){if(!h.isArray(t))t=t?[t]:[];var n={};f(t,function(t){n[t]=(e[t]||[]).slice()});return n}function s(e,t){var n={};f(t,function(e,t){var i=e.exist;i&&(n[i.id]=e)});f(t,function(t,i){var a=t.option;h.assert(!a||null==a.id||!n[a.id]||n[a.id]===t,"id duplicates: "+(a&&a.id));a&&null!=a.id&&(n[a.id]=t);if(x(a)){var o=r(e,a,t.exist);t.keyInfo={mainType:e,subType:o}}});f(t,function(e,t){var i=e.exist;var a=e.option;var o=e.keyInfo;if(x(a)){o.name=null!=a.name?a.name+"":i?i.name:"\0-";if(i)o.id=i.id;else if(null!=a.id)o.id=a.id+"";else{var s=0;do o.id="\0"+o.name+"\0"+s++;while(n[o.id])}n[o.id]=e}})}function r(e,t,n){var i=t.type?t.type:n?n.subType:v.determineSubType(e,t);return i}function d(e){return m(e,function(e){return e.componentIndex})||[]}function c(e,t){return t.hasOwnProperty("subType")?_(e,function(e){return e.subType===t.subType}):e}function l(e){if(!0)if(!e._seriesIndices)throw new Error("Series has not been initialized yet.")}var h=n(4);var p=n(5);var u=n(12);var f=h.each;var _=h.filter;var m=h.map;var g=h.isArray;var b=h.indexOf;var x=h.isObject;var v=n(19);var C=n(23);var w="\0_ec_inner";var I=u.extend({constructor:I,init:function(e,t,n,i){n=n||{};this.option=null;this._theme=new u(n);this._optionManager=i},setOption:function(e,t){h.assert(!(w in e),"please use chart.getOption()");this._optionManager.setOption(e,t);this.resetOption()},resetOption:function(e){var t=!1;var n=this._optionManager;if(!e||"recreate"===e){var i=n.mountOption("recreate"===e);if(!this.option||"recreate"===e)a.call(this,i);else{this.restoreData();this.mergeOption(i)}t=!0}if("timeline"===e||"media"===e)this.restoreData();if(!e||"recreate"===e||"timeline"===e){var o=n.getTimelineOption(this);o&&(this.mergeOption(o),t=!0)}if(!e||"recreate"===e||"media"===e){var s=n.getMediaOption(this,this._api);if(s.length)f(s,function(e){this.mergeOption(e,t=!0)},this)}return t},mergeOption:function(e){function t(t,a){var r=p.normalizeToArray(e[t]);var c=p.mappingToExists(i[t],r);s(t,c);var l=o(i,a);n[t]=[];i[t]=[];f(c,function(e,a){var o=e.exist;var s=e.option;h.assert(x(s)||o,"Empty component definition");if(!s){o.mergeOption({},this);o.optionUpdated({},!1)}else{var r=v.getClass(t,e.keyInfo.subType,!0);if(o&&o instanceof r){o.mergeOption(s,this);o.optionUpdated(s,!1)}else{var d=h.extend({dependentModels:l,componentIndex:a},e.keyInfo);o=new r(s,this,this,d);o.init(s,this,this,d);o.optionUpdated(null,!0)}}i[t][a]=o;n[t][a]=o.option},this);if("series"===t)this._seriesIndices=d(i.series)}var n=this.option;var i=this._componentsMap;var a=[];f(e,function(e,t){if(null!=e)if(!v.hasClass(t))n[t]=null==n[t]?h.clone(e):h.merge(n[t],e,!0);else a.push(t)});v.topologicalTravel(a,v.getAllClassMainTypes(),t,this);this._seriesIndices=this._seriesIndices||[]},getOption:function(){var e=h.clone(this.option);f(e,function(t,n){if(v.hasClass(n)){var t=p.normalizeToArray(t);for(var i=t.length-1;i>=0;i--)if(p.isIdInner(t[i]))t.splice(i,1);e[n]=t}});delete e[w];return e},getTheme:function(){return this._theme},getComponent:function(e,t){var n=this._componentsMap[e];if(n)return n[t||0]},queryComponents:function(e){var t=e.mainType;if(!t)return[];var n=e.index;var i=e.id;var a=e.name;var o=this._componentsMap[t];if(!o||!o.length)return[];var s;if(null!=n){if(!g(n))n=[n];s=_(m(n,function(e){return o[e]}),function(e){return!!e})}else if(null!=i){var r=g(i);s=_(o,function(e){return r&&b(i,e.id)>=0||!r&&e.id===i})}else if(null!=a){var d=g(a);s=_(o,function(e){return d&&b(a,e.name)>=0||!d&&e.name===a})}else s=o;return c(s,e)},findComponents:function(e){function t(e){var t=a+"Index";var n=a+"Id";var i=a+"Name";return e&&(e.hasOwnProperty(t)||e.hasOwnProperty(n)||e.hasOwnProperty(i))?{mainType:a,index:e[t],id:e[n],name:e[i]}:null}function n(t){return e.filter?_(t,e.filter):t}var i=e.query;var a=e.mainType;var o=t(i);var s=o?this.queryComponents(o):this._componentsMap[a];return n(c(s,e))},eachComponent:function(e,t,n){var i=this._componentsMap;if("function"==typeof e){n=t;t=e;f(i,function(e,i){f(e,function(e,a){t.call(n,i,e,a)})})}else if(h.isString(e))f(i[e],t,n);else if(x(e)){var a=this.findComponents(e);f(a,t,n)}},getSeriesByName:function(e){var t=this._componentsMap.series;return _(t,function(t){return t.name===e})},getSeriesByIndex:function(e){return this._componentsMap.series[e]},getSeriesByType:function(e){var t=this._componentsMap.series;return _(t,function(t){return t.subType===e})},getSeries:function(){return this._componentsMap.series.slice()},eachSeries:function(e,t){l(this);f(this._seriesIndices,function(n){var i=this._componentsMap.series[n];e.call(t,i,n)},this)},eachRawSeries:function(e,t){f(this._componentsMap.series,e,t)},eachSeriesByType:function(e,t,n){l(this);f(this._seriesIndices,function(i){var a=this._componentsMap.series[i];if(a.subType===e)t.call(n,a,i)},this)},eachRawSeriesByType:function(e,t,n){return f(this.getSeriesByType(e),t,n)},isSeriesFiltered:function(e){l(this);return h.indexOf(this._seriesIndices,e.componentIndex)<0},filterSeries:function(e,t){l(this);var n=_(this._componentsMap.series,e,t);this._seriesIndices=d(n)},restoreData:function(){var e=this._componentsMap;this._seriesIndices=d(e.series);var t=[];f(e,function(e,n){t.push(n)});v.topologicalTravel(t,v.getAllClassMainTypes(),function(t,n){f(e[t],function(e){e.restoreData()})})}});h.mixin(I,n(24));e.exports=I},function(e,t){function n(e){if("object"==typeof e&&null!==e){var t=e;if(e instanceof Array){t=[];for(var i=0,a=e.length;i<a;i++)t[i]=n(e[i])}else if(!y(e)&&!$(e)){t={};for(var o in e)if(e.hasOwnProperty(o))t[o]=n(e[o])}return t}return e}function i(e,t,a){if(!I(t)||!I(e))return a?n(t):e;for(var o in t)if(t.hasOwnProperty(o)){var s=e[o];var r=t[o];if(I(r)&&I(s)&&!v(r)&&!v(s)&&!$(r)&&!$(s)&&!y(r)&&!y(s))i(s,r,a);else if(a||!(o in e))e[o]=n(t[o],!0)}return e}function a(e,t){var n=e[0];for(var a=1,o=e.length;a<o;a++)n=i(n,e[a],t);return n}function o(e,t){for(var n in t)if(t.hasOwnProperty(n))e[n]=t[n];return e}function s(e,t,n){for(var i in t)if(t.hasOwnProperty(i)&&(n?null!=t[i]:null==e[i]))e[i]=t[i];return e}function r(){return document.createElement("canvas")}function d(){if(!O)O=M.createCanvas().getContext("2d");
return O}function c(e,t){if(e){if(e.indexOf)return e.indexOf(t);for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n}return-1}function l(e,t){function n(){}var i=e.prototype;n.prototype=t.prototype;e.prototype=new n;for(var a in i)e.prototype[a]=i[a];e.prototype.constructor=e;e.superClass=t}function h(e,t,n){e="prototype"in e?e.prototype:e;t="prototype"in t?t.prototype:t;s(e,t,n)}function p(e){if(e)if("string"==typeof e)return!1;else return"number"==typeof e.length}function u(e,t,n){if(e&&t)if(e.forEach&&e.forEach===D)e.forEach(t,n);else if(e.length===+e.length)for(var i=0,a=e.length;i<a;i++)t.call(n,e[i],i,e);else for(var o in e)if(e.hasOwnProperty(o))t.call(n,e[o],o,e)}function f(e,t,n){if(e&&t)if(e.map&&e.map===P)return e.map(t,n);else{var i=[];for(var a=0,o=e.length;a<o;a++)i.push(t.call(n,e[a],a,e));return i}}function _(e,t,n,i){if(e&&t)if(e.reduce&&e.reduce===L)return e.reduce(t,n,i);else{for(var a=0,o=e.length;a<o;a++)n=t.call(i,n,e[a],a,e);return n}}function m(e,t,n){if(e&&t)if(e.filter&&e.filter===U)return e.filter(t,n);else{var i=[];for(var a=0,o=e.length;a<o;a++)if(t.call(n,e[a],a,e))i.push(e[a]);return i}}function g(e,t,n){if(e&&t)for(var i=0,a=e.length;i<a;i++)if(t.call(n,e[i],i,e))return e[i]}function b(e,t){var n=z.call(arguments,2);return function(){return e.apply(t,n.concat(z.call(arguments)))}}function x(e){var t=z.call(arguments,1);return function(){return e.apply(this,t.concat(z.call(arguments)))}}function v(e){return"[object Array]"===S.call(e)}function C(e){return"function"==typeof e}function w(e){return"[object String]"===S.call(e)}function I(e){var t=typeof e;return"function"===t||!!e&&"object"==t}function y(e){return!!N[S.call(e)]}function $(e){return e&&1===e.nodeType&&"string"==typeof e.nodeName}function A(e){for(var t=0,n=arguments.length;t<n;t++)if(null!=arguments[t])return arguments[t]}function E(){return Function.call.apply(z,arguments)}function T(e,t){if(!e)throw new Error(t)}var N={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1};var S=Object.prototype.toString;var k=Array.prototype;var D=k.forEach;var U=k.filter;var z=k.slice;var P=k.map;var L=k.reduce;var O;var M={inherits:l,mixin:h,clone:n,merge:i,mergeAll:a,extend:o,defaults:s,getContext:d,createCanvas:r,indexOf:c,slice:E,find:g,isArrayLike:p,each:u,map:f,reduce:_,filter:m,bind:b,curry:x,isArray:v,isString:w,isObject:I,isFunction:C,isBuildInObject:y,isDom:$,retrieve:A,assert:T,noop:function(){}};e.exports=M},function(e,t,n){var i=n(6);var a=n(7);var o=n(12);var s=n(4);var r={};r.normalizeToArray=function(e){return e instanceof Array?e:null==e?[]:[e]};r.defaultEmphasis=function(e,t){if(e){var n=e.emphasis=e.emphasis||{};var i=e.normal=e.normal||{};s.each(t,function(e){var t=s.retrieve(n[e],i[e]);if(null!=t)n[e]=t})}};r.LABEL_OPTIONS=["position","show","textStyle","distance","formatter"];r.getDataItemValue=function(e){return e&&(null==e.value?e:e.value)};r.isDataItemOption=function(e){return s.isObject(e)&&!(e instanceof Array)};r.converDataValue=function(e,t){var n=t&&t.type;if("ordinal"===n)return e;if("time"===n&&!isFinite(e)&&null!=e&&"-"!==e)e=+a.parseDate(e);return null==e||""===e?NaN:+e};r.createDataFormatModel=function(e,t){var n=new o;s.mixin(n,r.dataFormatMixin);n.seriesIndex=t.seriesIndex;n.name=t.name||"";n.mainType=t.mainType;n.subType=t.subType;n.getData=function(){return e};return n};r.dataFormatMixin={getDataParams:function(e,t){var n=this.getData(t);var i=this.seriesIndex;var a=this.name;var o=this.getRawValue(e,t);var s=n.getRawIndex(e);var r=n.getName(e,!0);var d=n.getRawDataItem(e);return{componentType:this.mainType,componentSubType:this.subType,seriesType:"series"===this.mainType?this.subType:null,seriesIndex:i,seriesName:a,name:r,dataIndex:s,data:d,dataType:t,value:o,color:n.getItemVisual(e,"color"),$vars:["seriesName","name","value"]}},getFormattedLabel:function(e,t,n,a){t=t||"normal";var o=this.getData(n);var s=o.getItemModel(e);var r=this.getDataParams(e,n);if(null!=a&&r.value instanceof Array)r.value=r.value[a];var d=s.get(["label",t,"formatter"]);if("function"==typeof d){r.status=t;return d(r)}else if("string"==typeof d)return i.formatTpl(d,r)},getRawValue:function(e,t){var n=this.getData(t);var i=n.getRawDataItem(e);if(null!=i)return s.isObject(i)&&!(i instanceof Array)?i.value:i},formatTooltip:s.noop};r.mappingToExists=function(e,t){t=(t||[]).slice();var n=s.map(e||[],function(e,t){return{exist:e}});s.each(t,function(e,i){if(s.isObject(e)){for(var a=0;a<n.length;a++)if(!n[a].option&&null!=e.id&&n[a].exist.id===e.id+""){n[a].option=e;t[i]=null;return}for(var a=0;a<n.length;a++){var o=n[a].exist;if(!(n[a].option||null!=o.id&&null!=e.id||null==e.name||r.isIdInner(e)||r.isIdInner(o)||o.name!==e.name+"")){n[a].option=e;t[i]=null;return}}}});s.each(t,function(e,t){if(s.isObject(e)){var i=0;for(;i<n.length;i++){var a=n[i].exist;if(!n[i].option&&!r.isIdInner(a)&&null==e.id){n[i].option=e;break}}if(i>=n.length)n.push({option:e})}});return n};r.isIdInner=function(e){return s.isObject(e)&&e.id&&0===(e.id+"").indexOf("\0_ec_\0")};r.compressBatches=function(e,t){function n(e,t,n){for(var i=0,a=e.length;i<a;i++){var o=e[i].seriesId;var s=r.normalizeToArray(e[i].dataIndex);var d=n&&n[o];for(var c=0,l=s.length;c<l;c++){var h=s[c];if(d&&d[h])d[h]=null;else(t[o]||(t[o]={}))[h]=1}}}function i(e,t){var n=[];for(var a in e)if(e.hasOwnProperty(a)&&null!=e[a])if(t)n.push(+a);else{var o=i(e[a],!0);o.length&&n.push({seriesId:a,dataIndex:o})}return n}var a={};var o={};n(e||[],a);n(t||[],o,a);return[i(a),i(o)]};e.exports=r},function(e,t,n){var i=n(4);var a=n(7);var o=n(8);var s={};s.addCommas=function(e){if(isNaN(e))return"-";e=(e+"").split(".");return e[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(e.length>1?"."+e[1]:"")};s.toCamelCase=function(e){return e.toLowerCase().replace(/-(.)/g,function(e,t){return t.toUpperCase()})};s.normalizeCssArray=function(e){var t=e.length;if("number"==typeof e)return[e,e,e,e];else if(2===t)return[e[0],e[1],e[0],e[1]];else if(3===t)return[e[0],e[1],e[2],e[1]];return e};s.encodeHTML=function(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")};var r=["a","b","c","d","e","f","g"];var d=function(e,t){return"{"+e+(null==t?"":t)+"}"};s.formatTpl=function(e,t){if(!i.isArray(t))t=[t];var n=t.length;if(!n)return"";var a=t[0].$vars||[];for(var o=0;o<a.length;o++){var s=r[o];e=e.replace(d(s),d(s,0))}for(var c=0;c<n;c++)for(var l=0;l<a.length;l++)e=e.replace(d(r[l],c),t[c][a[l]]);return e};var c=function(e){return e<10?"0"+e:e};s.formatTime=function(e,t){if("week"===e||"month"===e||"quarter"===e||"half-year"===e||"year"===e)e="MM-dd\nyyyy";var n=a.parseDate(t);var i=n.getFullYear();var o=n.getMonth()+1;var s=n.getDate();var r=n.getHours();var d=n.getMinutes();var l=n.getSeconds();e=e.replace("MM",c(o)).toLowerCase().replace("yyyy",i).replace("yy",i%100).replace("dd",c(s)).replace("d",s).replace("hh",c(r)).replace("h",r).replace("mm",c(d)).replace("m",d).replace("ss",c(l)).replace("s",l);return e};s.capitalFirst=function(e){return e?e.charAt(0).toUpperCase()+e.substr(1):e};s.truncateText=o.truncateText;e.exports=s},function(e,t){function n(e){return e.replace(/^\s+/,"").replace(/\s+$/,"")}var i={};var a=1e-4;i.linearMap=function(e,t,n,i){var a=t[1]-t[0];var o=n[1]-n[0];if(0===a)return 0===o?n[0]:(n[0]+n[1])/2;if(i){if(a>0){if(e<=t[0])return n[0];else if(e>=t[1])return n[1]}else if(e>=t[0])return n[0];else if(e<=t[1])return n[1]}else{if(e===t[0])return n[0];if(e===t[1])return n[1]}return(e-t[0])/a*o+n[0]};i.parsePercent=function(e,t){switch(e){case"center":case"middle":e="50%";break;case"left":case"top":e="0%";break;case"right":case"bottom":e="100%"}if("string"==typeof e)if(n(e).match(/%$/))return parseFloat(e)/100*t;else return parseFloat(e);return null==e?NaN:+e};i.round=function(e,t){if(null==t)t=10;return+(+e).toFixed(t)};i.asc=function(e){e.sort(function(e,t){return e-t});return e};i.getPrecision=function(e){e=+e;if(isNaN(e))return 0;var t=1;var n=0;for(;Math.round(e*t)/t!==e;){t*=10;n++}return n};i.getPrecisionSafe=function(e){var t=e.toString();var n=t.indexOf(".");if(n<0)return 0;else return t.length-1-n};i.getPixelPrecision=function(e,t){var n=Math.log;var i=Math.LN10;var a=Math.floor(n(e[1]-e[0])/i);var o=Math.round(n(Math.abs(t[1]-t[0]))/i);return Math.max(-a+o,0)};i.MAX_SAFE_INTEGER=9007199254740991;i.remRadian=function(e){var t=2*Math.PI;return(e%t+t)%t};i.isRadianAroundZero=function(e){return e>-a&&e<a};i.parseDate=function(e){if(e instanceof Date)return e;else if("string"==typeof e){var t=new Date(e);if(isNaN(+t))t=new Date(new Date(e.replace(/-/g,"/"))-new Date("1970/01/01"));return t}return new Date(Math.round(e))};i.quantity=function(e){return Math.pow(10,Math.floor(Math.log(e)/Math.LN10))};i.nice=function(e,t){var n=i.quantity(e);var a=e/n;var o;if(t)if(a<1.5)o=1;else if(a<2.5)o=2;else if(a<4)o=3;else if(a<7)o=5;else o=10;else if(a<1)o=1;else if(a<2)o=2;else if(a<3)o=3;else if(a<5)o=5;else o=10;return o*n};e.exports=i},function(e,t,n){function i(e,t){var n=e+":"+t;if(d[n])return d[n];var i=(e+"").split("\n");var a=0;for(var o=0,s=i.length;o<s;o++)a=Math.max(f.measureText(i[o],t).width,a);if(c>l){c=0;d={}}c++;d[n]=a;return a}function a(e,t,n,a){var o=((e||"")+"").split("\n").length;var s=i(e,t);var r=i("国",t);var d=o*r;var c=new p(0,0,s,d);c.lineHeight=r;switch(a){case"bottom":case"alphabetic":c.y-=r;break;case"middle":c.y-=r/2}switch(n){case"end":case"right":c.x-=c.width;break;case"center":c.x-=c.width/2}return c}function o(e,t,n,i){var a=t.x;var o=t.y;var s=t.height;var r=t.width;var d=n.height;var c=s/2-d/2;var l="left";switch(e){case"left":a-=i;o+=c;l="right";break;case"right":a+=i+r;o+=c;l="left";break;case"top":a+=r/2;o-=i+d;l="center";break;case"bottom":a+=r/2;o+=s+i;l="center";break;case"inside":a+=r/2;o+=c;l="center";break;case"insideLeft":a+=i;o+=c;l="left";break;case"insideRight":a+=r-i;o+=c;
l="right";break;case"insideTop":a+=r/2;o+=i;l="center";break;case"insideBottom":a+=r/2;o+=s-d-i;l="center";break;case"insideTopLeft":a+=i;o+=i;l="left";break;case"insideTopRight":a+=r-i;o+=i;l="right";break;case"insideBottomLeft":a+=i;o+=s-d-i;break;case"insideBottomRight":a+=r-i;o+=s-d-i;l="right"}return{x:a,y:o,textAlign:l,textBaseline:"top"}}function s(e,t,n,a,o){if(!t)return"";o=o||{};a=u(a,"...");var s=u(o.maxIterations,2);var d=u(o.minChar,0);var c=i("国",n);var l=i("a",n);var h=u(o.placeholder,"");var p=t=Math.max(0,t-1);for(var f=0;f<d&&p>=l;f++)p-=l;var _=i(a);if(_>p){a="";_=0}p=t-_;var m=(e+"").split("\n");for(var f=0,g=m.length;f<g;f++){var b=m[f];var x=i(b,n);if(!(x<=t)){for(var v=0;;v++){if(x<=p||v>=s){b+=a;break}var C=0===v?r(b,p,l,c):x>0?Math.floor(b.length*p/x):0;b=b.substr(0,C);x=i(b,n)}if(""===b)b=h;m[f]=b}else;}return m.join("\n")}function r(e,t,n,i){var a=0;var o=0;for(var s=e.length;o<s&&a<t;o++){var r=e.charCodeAt(o);a+=0<=r&&r<=127?n:i}return o}var d={};var c=0;var l=5e3;var h=n(4);var p=n(9);var u=h.retrieve;var f={getWidth:i,getBoundingRect:a,adjustTextPositionOnRect:o,truncateText:s,measureText:function(e,t){var n=h.getContext();n.font=t||"12px sans-serif";return n.measureText(e)}};e.exports=f},function(e,t,n){"use strict";function i(e,t,n,i){this.x=e;this.y=t;this.width=n;this.height=i}var a=n(10);var o=n(11);var s=a.applyTransform;var r=Math.min;var d=Math.abs;var c=Math.max;i.prototype={constructor:i,union:function(e){var t=r(e.x,this.x);var n=r(e.y,this.y);this.width=c(e.x+e.width,this.x+this.width)-t;this.height=c(e.y+e.height,this.y+this.height)-n;this.x=t;this.y=n},applyTransform:function(){var e=[];var t=[];return function(n){if(n){e[0]=this.x;e[1]=this.y;t[0]=this.x+this.width;t[1]=this.y+this.height;s(e,e,n);s(t,t,n);this.x=r(e[0],t[0]);this.y=r(e[1],t[1]);this.width=d(t[0]-e[0]);this.height=d(t[1]-e[1])}}}(),calculateTransform:function(e){var t=this;var n=e.width/t.width;var i=e.height/t.height;var a=o.create();o.translate(a,a,[-t.x,-t.y]);o.scale(a,a,[n,i]);o.translate(a,a,[e.x,e.y]);return a},intersect:function(e){var t=this;var n=t.x;var i=t.x+t.width;var a=t.y;var o=t.y+t.height;var s=e.x;var r=e.x+e.width;var d=e.y;var c=e.y+e.height;return!(i<s||r<n||o<d||c<a)},contain:function(e,t){var n=this;return e>=n.x&&e<=n.x+n.width&&t>=n.y&&t<=n.y+n.height},clone:function(){return new i(this.x,this.y,this.width,this.height)},copy:function(e){this.x=e.x;this.y=e.y;this.width=e.width;this.height=e.height}};e.exports=i},function(e,t){var n="undefined"==typeof Float32Array?Array:Float32Array;var i={create:function(e,t){var i=new n(2);if(null==e)e=0;if(null==t)t=0;i[0]=e;i[1]=t;return i},copy:function(e,t){e[0]=t[0];e[1]=t[1];return e},clone:function(e){var t=new n(2);t[0]=e[0];t[1]=e[1];return t},set:function(e,t,n){e[0]=t;e[1]=n;return e},add:function(e,t,n){e[0]=t[0]+n[0];e[1]=t[1]+n[1];return e},scaleAndAdd:function(e,t,n,i){e[0]=t[0]+n[0]*i;e[1]=t[1]+n[1]*i;return e},sub:function(e,t,n){e[0]=t[0]-n[0];e[1]=t[1]-n[1];return e},len:function(e){return Math.sqrt(this.lenSquare(e))},lenSquare:function(e){return e[0]*e[0]+e[1]*e[1]},mul:function(e,t,n){e[0]=t[0]*n[0];e[1]=t[1]*n[1];return e},div:function(e,t,n){e[0]=t[0]/n[0];e[1]=t[1]/n[1];return e},dot:function(e,t){return e[0]*t[0]+e[1]*t[1]},scale:function(e,t,n){e[0]=t[0]*n;e[1]=t[1]*n;return e},normalize:function(e,t){var n=i.len(t);if(0===n){e[0]=0;e[1]=0}else{e[0]=t[0]/n;e[1]=t[1]/n}return e},distance:function(e,t){return Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1]))},distanceSquare:function(e,t){return(e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1])},negate:function(e,t){e[0]=-t[0];e[1]=-t[1];return e},lerp:function(e,t,n,i){e[0]=t[0]+i*(n[0]-t[0]);e[1]=t[1]+i*(n[1]-t[1]);return e},applyTransform:function(e,t,n){var i=t[0];var a=t[1];e[0]=n[0]*i+n[2]*a+n[4];e[1]=n[1]*i+n[3]*a+n[5];return e},min:function(e,t,n){e[0]=Math.min(t[0],n[0]);e[1]=Math.min(t[1],n[1]);return e},max:function(e,t,n){e[0]=Math.max(t[0],n[0]);e[1]=Math.max(t[1],n[1]);return e}};i.length=i.len;i.lengthSquare=i.lenSquare;i.dist=i.distance;i.distSquare=i.distanceSquare;e.exports=i},function(e,t){var n="undefined"==typeof Float32Array?Array:Float32Array;var i={create:function(){var e=new n(6);i.identity(e);return e},identity:function(e){e[0]=1;e[1]=0;e[2]=0;e[3]=1;e[4]=0;e[5]=0;return e},copy:function(e,t){e[0]=t[0];e[1]=t[1];e[2]=t[2];e[3]=t[3];e[4]=t[4];e[5]=t[5];return e},mul:function(e,t,n){var i=t[0]*n[0]+t[2]*n[1];var a=t[1]*n[0]+t[3]*n[1];var o=t[0]*n[2]+t[2]*n[3];var s=t[1]*n[2]+t[3]*n[3];var r=t[0]*n[4]+t[2]*n[5]+t[4];var d=t[1]*n[4]+t[3]*n[5]+t[5];e[0]=i;e[1]=a;e[2]=o;e[3]=s;e[4]=r;e[5]=d;return e},translate:function(e,t,n){e[0]=t[0];e[1]=t[1];e[2]=t[2];e[3]=t[3];e[4]=t[4]+n[0];e[5]=t[5]+n[1];return e},rotate:function(e,t,n){var i=t[0];var a=t[2];var o=t[4];var s=t[1];var r=t[3];var d=t[5];var c=Math.sin(n);var l=Math.cos(n);e[0]=i*l+s*c;e[1]=-i*c+s*l;e[2]=a*l+r*c;e[3]=-a*c+l*r;e[4]=l*o+c*d;e[5]=l*d-c*o;return e},scale:function(e,t,n){var i=n[0];var a=n[1];e[0]=t[0]*i;e[1]=t[1]*a;e[2]=t[2]*i;e[3]=t[3]*a;e[4]=t[4]*i;e[5]=t[5]*a;return e},invert:function(e,t){var n=t[0];var i=t[2];var a=t[4];var o=t[1];var s=t[3];var r=t[5];var d=n*s-o*i;if(!d)return null;d=1/d;e[0]=s*d;e[1]=-o*d;e[2]=-i*d;e[3]=n*d;e[4]=(i*r-s*a)*d;e[5]=(o*a-n*r)*d;return e}};e.exports=i},function(e,t,n){function i(e,t,n){this.parentModel=t;this.ecModel=n;this.option=e}var a=n(4);var o=n(13);i.prototype={constructor:i,init:null,mergeOption:function(e){a.merge(this.option,e,!0)},get:function(e,t){if(!e)return this.option;if("string"==typeof e)e=e.split(".");var n=this.option;var i=this.parentModel;for(var a=0;a<e.length;a++)if(e[a]){n=n&&"object"==typeof n?n[e[a]]:null;if(null==n)break}else;if(null==n&&i&&!t)n=i.get(e);return n},getShallow:function(e,t){var n=this.option;var i=null==n?n:n[e];var a=this.parentModel;if(null==i&&a&&!t)i=a.getShallow(e);return i},getModel:function(e,t){var n=this.get(e,!0);var a=this.parentModel;var o=new i(n,t||a&&a.getModel(e),this.ecModel);return o},isEmpty:function(){return null==this.option},restoreData:function(){},clone:function(){var e=this.constructor;return new e(a.clone(this.option))},setReadOnly:function(e){o.setReadOnly(this,e)}};o.enableClassExtend(i);var s=a.mixin;s(i,n(14));s(i,n(16));s(i,n(17));s(i,n(18));e.exports=i},function(e,t,n){function i(e,t){var n=o.slice(arguments,2);return this.superClass.prototype[t].apply(e,n)}function a(e,t,n){return this.superClass.prototype[t].apply(e,n)}var o=n(4);var s={};var r=".";var d="___EC__COMPONENT__CONTAINER___";var c=s.parseClassType=function(e){var t={main:"",sub:""};if(e){e=e.split(r);t.main=e[0]||"";t.sub=e[1]||""}return t};s.enableClassExtend=function(e){e.$constructor=e;e.extend=function(e){var t=this;var n=function(){if(!e.$constructor)t.apply(this,arguments);else e.$constructor.apply(this,arguments)};o.extend(n.prototype,e);n.extend=this.extend;n.superCall=i;n.superApply=a;o.inherits(n,this);n.superClass=t;return n}};s.enableClassManagement=function(e,t){function n(e){var t=i[e.main];if(!t||!t[d]){t=i[e.main]={};t[d]=!0}return t}t=t||{};var i={};e.registerClass=function(e,t){if(t){t=c(t);if(!t.sub){if(!0)if(i[t.main])console.warn(t.main+" exists.");i[t.main]=e}else if(t.sub!==d){var a=n(t);a[t.sub]=e}}return e};e.getClass=function(e,t,n){var a=i[e];if(a&&a[d])a=t?a[t]:null;if(n&&!a)throw new Error("Component "+e+"."+(t||"")+" not exists. Load it first.");return a};e.getClassesByMainType=function(e){e=c(e);var t=[];var n=i[e.main];if(n&&n[d])o.each(n,function(e,n){n!==d&&t.push(e)});else t.push(n);return t};e.hasClass=function(e){e=c(e);return!!i[e.main]};e.getAllClassMainTypes=function(){var e=[];o.each(i,function(t,n){e.push(n)});return e};e.hasSubTypes=function(e){e=c(e);var t=i[e.main];return t&&t[d]};e.parseClassType=c;if(t.registerWhenExtend){var a=e.extend;if(a)e.extend=function(t){var n=a.call(this,t);return e.registerClass(n,t.type)}}return e};s.setReadOnly=function(e,t){};e.exports=s},function(e,t,n){var i=n(15)([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]);e.exports={getLineStyle:function(e){var t=i.call(this,e);var n=this.getLineDash();n&&(t.lineDash=n);return t},getLineDash:function(){var e=this.get("type");return"solid"===e||null==e?null:"dashed"===e?[5,5]:[2,2]}}},function(e,t,n){var i=n(4);e.exports=function(e){for(var t=0;t<e.length;t++)if(!e[t][1])e[t][1]=e[t][0];return function(t){var n={};for(var a=0;a<e.length;a++){var o=e[a][1];if(!(t&&i.indexOf(t,o)>=0)){var s=this.getShallow(o);if(null!=s)n[e[a][0]]=s}else;}return n}}},function(e,t,n){e.exports={getAreaStyle:n(15)([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]])}},function(e,t,n){function i(e,t){return e&&e.getShallow(t)}var a=n(8);e.exports={getTextColor:function(){var e=this.ecModel;return this.getShallow("color")||e&&e.get("textStyle.color")},getFont:function(){var e=this.ecModel;var t=e&&e.getModel("textStyle");return[this.getShallow("fontStyle")||i(t,"fontStyle"),this.getShallow("fontWeight")||i(t,"fontWeight"),(this.getShallow("fontSize")||i(t,"fontSize")||12)+"px",this.getShallow("fontFamily")||i(t,"fontFamily")||"sans-serif"].join(" ")},getTextRect:function(e){var t=this.get("textStyle")||{};return a.getBoundingRect(e,this.getFont(),t.align,t.baseline)},truncateText:function(e,t,n,i){return a.truncateText(e,t,this.getFont(),n,i)}}},function(e,t,n){var i=n(15)([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]);e.exports={getItemStyle:function(e){var t=i.call(this,e);var n=this.getBorderLineDash();n&&(t.lineDash=n);return t},getBorderLineDash:function(){var e=this.get("borderType");return"solid"===e||null==e?null:"dashed"===e?[5,5]:[1,1]}}},function(e,t,n){function i(e){var t=[];o.each(l.getClassesByMainType(e),function(e){s.apply(t,e.prototype.dependencies||[])});return o.map(t,function(e){
return d.parseClassType(e).main})}var a=n(12);var o=n(4);var s=Array.prototype.push;var r=n(20);var d=n(13);var c=n(21);var l=a.extend({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,$constructor:function(e,t,n,i){a.call(this,e,t,n,i);o.extend(this,i);this.uid=r.getUID("componentModel")},init:function(e,t,n,i){this.mergeDefaultAndTheme(e,n)},mergeDefaultAndTheme:function(e,t){var n=this.layoutMode;var i=n?c.getLayoutParams(e):{};var a=t.getTheme();o.merge(e,a.get(this.mainType));o.merge(e,this.getDefaultOption());if(n)c.mergeLayoutParam(e,i,n)},mergeOption:function(e){o.merge(this.option,e,!0);var t=this.layoutMode;if(t)c.mergeLayoutParam(this.option,e,t)},optionUpdated:function(e,t){},getDefaultOption:function(){if(!this.hasOwnProperty("__defaultOption")){var e=[];var t=this.constructor;for(;t;){var n=t.prototype.defaultOption;n&&e.push(n);t=t.superClass}var i={};for(var a=e.length-1;a>=0;a--)i=o.merge(i,e[a],!0);this.__defaultOption=i}return this.__defaultOption}});d.enableClassManagement(l,{registerWhenExtend:!0});r.enableSubTypeDefaulter(l);r.enableTopologicalTravel(l,i);o.mixin(l,n(22));e.exports=l},function(e,t,n){var i=n(4);var a=n(13);var o=a.parseClassType;var s=0;var r={};var d="_";r.getUID=function(e){return[e||"",s++,Math.random()].join(d)};r.enableSubTypeDefaulter=function(e){var t={};e.registerSubTypeDefaulter=function(e,n){e=o(e);t[e.main]=n};e.determineSubType=function(n,i){var a=i.type;if(!a){var s=o(n).main;if(e.hasSubTypes(n)&&t[s])a=t[s](i)}return a};return e};r.enableTopologicalTravel=function(e,t){function n(e){var n={};var s=[];i.each(e,function(r){var d=a(n,r);var c=d.originalDeps=t(r);var l=o(c,e);d.entryCount=l.length;if(0===d.entryCount)s.push(r);i.each(l,function(e){if(i.indexOf(d.predecessor,e)<0)d.predecessor.push(e);var t=a(n,e);if(i.indexOf(t.successor,e)<0)t.successor.push(r)})});return{graph:n,noEntryList:s}}function a(e,t){if(!e[t])e[t]={predecessor:[],successor:[]};return e[t]}function o(e,t){var n=[];i.each(e,function(e){i.indexOf(t,e)>=0&&n.push(e)});return n}e.topologicalTravel=function(e,t,a,o){function s(e){c[e].entryCount--;if(0===c[e].entryCount)l.push(e)}function r(e){h[e]=!0;s(e)}if(e.length){var d=n(t);var c=d.graph;var l=d.noEntryList;var h={};i.each(e,function(e){h[e]=!0});for(;l.length;){var p=l.pop();var u=c[p];var f=!!h[p];if(f){a.call(o,p,u.originalDeps.slice());delete h[p]}i.each(u.successor,f?r:s)}i.each(h,function(){throw new Error("Circle dependency may exists")})}}};e.exports=r},function(e,t,n){"use strict";function i(e,t,n,i,a){var o=0;var s=0;if(null==i)i=1/0;if(null==a)a=1/0;var r=0;t.eachChild(function(d,c){var l=d.position;var h=d.getBoundingRect();var p=t.childAt(c+1);var u=p&&p.getBoundingRect();var f;var _;if("horizontal"===e){var m=h.width+(u?-u.x+h.x:0);f=o+m;if(f>i||d.newline){o=0;f=m;s+=r+n;r=h.height}else r=Math.max(r,h.height)}else{var g=h.height+(u?-u.y+h.y:0);_=s+g;if(_>a||d.newline){o+=r+n;s=0;_=g;r=h.width}else r=Math.max(r,h.width)}if(!d.newline){l[0]=o;l[1]=s;"horizontal"===e?o=f+n:s=_+n}})}var a=n(4);var o=n(9);var s=n(7);var r=n(6);var d=s.parsePercent;var c=a.each;var l={};var h=["left","right","top","bottom","width","height"];l.box=i;l.vbox=a.curry(i,"vertical");l.hbox=a.curry(i,"horizontal");l.getAvailableSize=function(e,t,n){var i=t.width;var a=t.height;var o=d(e.x,i);var s=d(e.y,a);var c=d(e.x2,i);var l=d(e.y2,a);(isNaN(o)||isNaN(parseFloat(e.x)))&&(o=0);(isNaN(c)||isNaN(parseFloat(e.x2)))&&(c=i);(isNaN(s)||isNaN(parseFloat(e.y)))&&(s=0);(isNaN(l)||isNaN(parseFloat(e.y2)))&&(l=a);n=r.normalizeCssArray(n||0);return{width:Math.max(c-o-n[1]-n[3],0),height:Math.max(l-s-n[0]-n[2],0)}};l.getLayoutRect=function(e,t,n){n=r.normalizeCssArray(n||0);var i=t.width;var a=t.height;var s=d(e.left,i);var c=d(e.top,a);var l=d(e.right,i);var h=d(e.bottom,a);var p=d(e.width,i);var u=d(e.height,a);var f=n[2]+n[0];var _=n[1]+n[3];var m=e.aspect;if(isNaN(p))p=i-l-_-s;if(isNaN(u))u=a-h-f-c;if(isNaN(p)&&isNaN(u))if(m>i/a)p=.8*i;else u=.8*a;if(null!=m){if(isNaN(p))p=m*u;if(isNaN(u))u=p/m}if(isNaN(s))s=i-l-p-_;if(isNaN(c))c=a-h-u-f;switch(e.left||e.right){case"center":s=i/2-p/2-n[3];break;case"right":s=i-p-_}switch(e.top||e.bottom){case"middle":case"center":c=a/2-u/2-n[0];break;case"bottom":c=a-u-f}s=s||0;c=c||0;if(isNaN(p))p=i-s-(l||0);if(isNaN(u))u=a-c-(h||0);var g=new o(s+n[3],c+n[0],p,u);g.margin=n;return g};l.positionGroup=function(e,t,n,i){var o=e.getBoundingRect();t=a.extend(a.clone(t),{width:o.width,height:o.height});t=l.getLayoutRect(t,n,i);e.attr("position",[t.x-o.x,t.y-o.y])};l.mergeLayoutParam=function(e,t,n){function i(i){var a={};var r=0;var d={};var l=0;var h=n.ignoreSize?1:2;c(i,function(t){d[t]=e[t]});c(i,function(e){o(t,e)&&(a[e]=d[e]=t[e]);s(a,e)&&r++;s(d,e)&&l++});if(l===h||!r)return d;else if(r>=h)return a;else{for(var p=0;p<i.length;p++){var u=i[p];if(!o(a,u)&&o(e,u)){a[u]=e[u];break}}return a}}function o(e,t){return e.hasOwnProperty(t)}function s(e,t){return null!=e[t]&&"auto"!==e[t]}function r(e,t,n){c(e,function(e){t[e]=n[e]})}!a.isObject(n)&&(n={});var d=["width","left","right"];var l=["height","top","bottom"];var h=i(d);var p=i(l);r(d,e,h);r(l,e,p)};l.getLayoutParams=function(e){return l.copyLayoutParams({},e)};l.copyLayoutParams=function(e,t){t&&e&&c(h,function(n){t.hasOwnProperty(n)&&(e[n]=t[n])});return e};e.exports=l},function(e,t){e.exports={getBoxLayoutParams:function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}}}},function(e,t){var n="";if("undefined"!=typeof navigator)n=navigator.platform||"";e.exports={color:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],textStyle:{fontFamily:n.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,animation:!0,animationDuration:1e3,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3}},function(e,t){e.exports={clearColorPalette:function(){this._colorIdx=0;this._colorNameMap={}},getColorFromPalette:function(e,t){t=t||this;var n=t._colorIdx||0;var i=t._colorNameMap||(t._colorNameMap={});if(i[e])return i[e];var a=this.get("color",!0)||[];if(a.length){var o=a[n];if(e)i[e]=o;t._colorIdx=(n+1)%a.length;return o}}}},function(e,t,n){"use strict";function i(e){a.each(o,function(t){this[t]=a.bind(e[t],e)},this)}var a=n(4);var o=["getDom","getZr","getWidth","getHeight","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getModel","getOption"];e.exports=i},function(e,t){"use strict";function n(){this._coordinateSystems=[]}var i={};n.prototype={constructor:n,create:function(e,t){var n=[];for(var a in i){var o=i[a].create(e,t);o&&(n=n.concat(o))}this._coordinateSystems=n},update:function(e,t){var n=this._coordinateSystems;for(var i=0;i<n.length;i++)n[i].update&&n[i].update(e,t)}};n.register=function(e,t){i[e]=t};n.get=function(e){return i[e]};e.exports=n},function(e,t,n){function i(e){this._api=e;this._timelineOptions=[];this._mediaList=[];this._mediaDefault;this._currentMediaIndices=[];this._optionBackup;this._newBaseOption}function a(e,t,n){var i=[];var a=[];var o;var s;var r=e.timeline;if(e.baseOption)s=e.baseOption;if(r||e.options){s=s||{};i=(e.options||[]).slice()}if(e.media){s=s||{};var d=e.media;p(d,function(e){if(e&&e.option)if(e.query)a.push(e);else if(!o)o=e})}if(!s)s=e;if(!s.timeline)s.timeline=r;p([s].concat(i).concat(c.map(a,function(e){return e.option})),function(e){p(t,function(t){t(e,n)})});return{baseOption:s,timelineOptions:i,mediaDefault:o,mediaList:a}}function o(e,t,n){var i={width:t,height:n,aspectratio:t/n};var a=!0;c.each(e,function(e,t){var n=t.match(m);if(n&&n[1]&&n[2]){var o=n[1];var r=n[2].toLowerCase();if(!s(i[r],e,o))a=!1}});return a}function s(e,t,n){if("min"===n)return e>=t;else if("max"===n)return e<=t;else return e===t}function r(e,t){return e.join(",")===t.join(",")}function d(e,t){t=t||{};p(t,function(t,n){if(null!=t){var i=e[n];if(!h.hasClass(n))e[n]=_(i,t,!0);else{t=l.normalizeToArray(t);i=l.normalizeToArray(i);var a=l.mappingToExists(i,t);e[n]=f(a,function(e){return e.option&&e.exist?_(e.exist,e.option,!0):e.exist||e.option})}}})}var c=n(4);var l=n(5);var h=n(19);var p=c.each;var u=c.clone;var f=c.map;var _=c.merge;var m=/^(min|max)?(.+)$/;i.prototype={constructor:i,setOption:function(e,t){e=u(e,!0);var n=this._optionBackup;var i=a.call(this,e,t,!n);this._newBaseOption=i.baseOption;if(n){d(n.baseOption,i.baseOption);if(i.timelineOptions.length)n.timelineOptions=i.timelineOptions;if(i.mediaList.length)n.mediaList=i.mediaList;if(i.mediaDefault)n.mediaDefault=i.mediaDefault}else this._optionBackup=i},mountOption:function(e){var t=this._optionBackup;this._timelineOptions=f(t.timelineOptions,u);this._mediaList=f(t.mediaList,u);this._mediaDefault=u(t.mediaDefault);this._currentMediaIndices=[];return u(e?t.baseOption:this._newBaseOption)},getTimelineOption:function(e){var t;var n=this._timelineOptions;if(n.length){var i=e.getComponent("timeline");if(i)t=u(n[i.getCurrentIndex()],!0)}return t},getMediaOption:function(e){var t=this._api.getWidth();var n=this._api.getHeight();var i=this._mediaList;var a=this._mediaDefault;var s=[];var d=[];if(!i.length&&!a)return d;for(var c=0,l=i.length;c<l;c++)if(o(i[c].query,t,n))s.push(c);if(!s.length&&a)s=[-1];if(s.length&&!r(s,this._currentMediaIndices))d=f(s,function(e){return u(e===-1?a.option:i[e].option)});this._currentMediaIndices=s;return d}};e.exports=i},function(e,t,n){"use strict";var i=n(4);var a=n(6);var o=n(5);var s=n(19);var r=n(24);var d=n(2);var c=a.encodeHTML;var l=a.addCommas;var h=s.extend({type:"series.__base__",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendDataProvider:null,visualColorAccessPath:"itemStyle.normal.color",init:function(e,t,n,i){
this.seriesIndex=this.componentIndex;this.mergeDefaultAndTheme(e,n);this._dataBeforeProcessed=this.getInitialData(e,n);this._data=this._dataBeforeProcessed.cloneShallow()},mergeDefaultAndTheme:function(e,t){i.merge(e,t.getTheme().get(this.subType));i.merge(e,this.getDefaultOption());o.defaultEmphasis(e.label,o.LABEL_OPTIONS);this.fillDataTextStyle(e.data)},mergeOption:function(e,t){e=i.merge(this.option,e,!0);this.fillDataTextStyle(e.data);var n=this.getInitialData(e,t);if(n){this._data=n;this._dataBeforeProcessed=n.cloneShallow()}},fillDataTextStyle:function(e){if(e)for(var t=0;t<e.length;t++)if(e[t]&&e[t].label)o.defaultEmphasis(e[t].label,o.LABEL_OPTIONS)},getInitialData:function(){},getData:function(e){return null==e?this._data:this._data.getLinkedData(e)},setData:function(e){this._data=e},getRawData:function(){return this._dataBeforeProcessed},coordDimToDataDim:function(e){return[e]},dataDimToCoordDim:function(e){return e},getBaseAxis:function(){var e=this.coordinateSystem;return e&&e.getBaseAxis&&e.getBaseAxis()},formatTooltip:function(e,t,n){function o(e){return i.map(e,function(e,n){var i=s.getDimensionInfo(n);var o=i&&i.type;if("ordinal"===o)return e;else if("time"===o)return t?"":a.formatTime("yyyy/mm/dd hh:mm:ss",e);else return l(e)}).filter(function(e){return!!e}).join(", ")}var s=this._data;var r=this.getRawValue(e);var d=i.isArray(r)?o(r):l(r);var h=s.getName(e);var p=s.getItemVisual(e,"color");var u='<span style="display:inline-block;margin-right:5px;border-radius:10px;width:9px;height:9px;background-color:'+p+'"></span>';var f=this.name;if("\0-"===f)f="";return!t?(f&&c(f)+"<br />")+u+(h?c(h)+" : "+d:d):u+c(this.name)+" : "+d},ifEnableAnimation:function(){if(d.node)return!1;var e=this.getShallow("animation");if(e)if(this.getData().count()>this.getShallow("animationThreshold"))e=!1;return e},restoreData:function(){this._data=this._dataBeforeProcessed.cloneShallow()},getColorFromPalette:function(e,t){var n=this.ecModel;var i=r.getColorFromPalette.call(this,e,t);if(!i)i=n.getColorFromPalette(e,t);return i},getAxisTooltipDataIndex:null});i.mixin(h,o.dataFormatMixin);i.mixin(h,r);e.exports=h},function(e,t,n){var i=n(30);var a=n(20);var o=n(13);var s=function(){this.group=new i;this.uid=a.getUID("viewComponent")};s.prototype={constructor:s,init:function(e,t){},render:function(e,t,n,i){},dispose:function(){}};var r=s.prototype;r.updateView=r.updateLayout=r.updateVisual=function(e,t,n,i){};o.enableClassExtend(s);o.enableClassManagement(s,{registerWhenExtend:!0});e.exports=s},function(e,t,n){var i=n(4);var a=n(31);var o=n(9);var s=function(e){e=e||{};a.call(this,e);for(var t in e)this[t]=e[t];this._children=[];this.__storage=null;this.__dirty=!0};s.prototype={constructor:s,isGroup:!0,type:"group",silent:!1,children:function(){return this._children.slice()},childAt:function(e){return this._children[e]},childOfName:function(e){var t=this._children;for(var n=0;n<t.length;n++)if(t[n].name===e)return t[n]},childCount:function(){return this._children.length},add:function(e){if(e&&e!==this&&e.parent!==this){this._children.push(e);this._doAdd(e)}return this},addBefore:function(e,t){if(e&&e!==this&&e.parent!==this&&t&&t.parent===this){var n=this._children;var i=n.indexOf(t);if(i>=0){n.splice(i,0,e);this._doAdd(e)}}return this},_doAdd:function(e){if(e.parent)e.parent.remove(e);e.parent=this;var t=this.__storage;var n=this.__zr;if(t&&t!==e.__storage){t.addToMap(e);if(e instanceof s)e.addChildrenToStorage(t)}n&&n.refresh()},remove:function(e){var t=this.__zr;var n=this.__storage;var a=this._children;var o=i.indexOf(a,e);if(o<0)return this;a.splice(o,1);e.parent=null;if(n){n.delFromMap(e.id);if(e instanceof s)e.delChildrenFromStorage(n)}t&&t.refresh();return this},removeAll:function(){var e=this._children;var t=this.__storage;var n;var i;for(i=0;i<e.length;i++){n=e[i];if(t){t.delFromMap(n.id);if(n instanceof s)n.delChildrenFromStorage(t)}n.parent=null}e.length=0;return this},eachChild:function(e,t){var n=this._children;for(var i=0;i<n.length;i++){var a=n[i];e.call(t,a,i)}return this},traverse:function(e,t){for(var n=0;n<this._children.length;n++){var i=this._children[n];e.call(t,i);if("group"===i.type)i.traverse(e,t)}return this},addChildrenToStorage:function(e){for(var t=0;t<this._children.length;t++){var n=this._children[t];e.addToMap(n);if(n instanceof s)n.addChildrenToStorage(e)}},delChildrenFromStorage:function(e){for(var t=0;t<this._children.length;t++){var n=this._children[t];e.delFromMap(n.id);if(n instanceof s)n.delChildrenFromStorage(e)}},dirty:function(){this.__dirty=!0;this.__zr&&this.__zr.refresh();return this},getBoundingRect:function(e){var t=null;var n=new o(0,0,0,0);var i=e||this._children;var a=[];for(var s=0;s<i.length;s++){var r=i[s];if(!r.ignore&&!r.invisible){var d=r.getBoundingRect();var c=r.getLocalTransform(a);if(c){n.copy(d);n.applyTransform(c);t=t||n.clone();t.union(n)}else{t=t||d.clone();t.union(d)}}else;}return t||n}};i.inherits(s,a);e.exports=s},function(e,t,n){"use strict";var i=n(32);var a=n(33);var o=n(34);var s=n(35);var r=n(4);var d=function(e){o.call(this,e);a.call(this,e);s.call(this,e);this.id=e.id||i()};d.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,drift:function(e,t){switch(this.draggable){case"horizontal":t=0;break;case"vertical":e=0}var n=this.transform;if(!n)n=this.transform=[1,0,0,1,0,0];n[4]+=e;n[5]+=t;this.decomposeTransform();this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(e,t){},attrKV:function(e,t){if("position"===e||"scale"===e||"origin"===e){if(t){var n=this[e];if(!n)n=this[e]=[];n[0]=t[0];n[1]=t[1]}}else this[e]=t},hide:function(){this.ignore=!0;this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1;this.__zr&&this.__zr.refresh()},attr:function(e,t){if("string"==typeof e)this.attrKV(e,t);else if(r.isObject(e))for(var n in e)if(e.hasOwnProperty(n))this.attrKV(n,e[n]);this.dirty(!1);return this},setClipPath:function(e){var t=this.__zr;if(t)e.addSelfToZr(t);if(this.clipPath&&this.clipPath!==e)this.removeClipPath();this.clipPath=e;e.__zr=t;e.__clipTarget=this;this.dirty(!1)},removeClipPath:function(){var e=this.clipPath;if(e){if(e.__zr)e.removeSelfFromZr(e.__zr);e.__zr=null;e.__clipTarget=null;this.clipPath=null;this.dirty(!1)}},addSelfToZr:function(e){this.__zr=e;var t=this.animators;if(t)for(var n=0;n<t.length;n++)e.animation.addAnimator(t[n]);if(this.clipPath)this.clipPath.addSelfToZr(e)},removeSelfFromZr:function(e){this.__zr=null;var t=this.animators;if(t)for(var n=0;n<t.length;n++)e.animation.removeAnimator(t[n]);if(this.clipPath)this.clipPath.removeSelfFromZr(e)}};r.mixin(d,s);r.mixin(d,o);r.mixin(d,a);e.exports=d},function(e,t){var n=2311;e.exports=function(){return n++}},function(e,t){var n=Array.prototype.slice;var i=function(){this._$handlers={}};i.prototype={constructor:i,one:function(e,t,n){var i=this._$handlers;if(!t||!e)return this;if(!i[e])i[e]=[];for(var a=0;a<i[e].length;a++)if(i[e][a].h===t)return this;i[e].push({h:t,one:!0,ctx:n||this});return this},on:function(e,t,n){var i=this._$handlers;if(!t||!e)return this;if(!i[e])i[e]=[];for(var a=0;a<i[e].length;a++)if(i[e][a].h===t)return this;i[e].push({h:t,one:!1,ctx:n||this});return this},isSilent:function(e){var t=this._$handlers;return t[e]&&t[e].length},off:function(e,t){var n=this._$handlers;if(!e){this._$handlers={};return this}if(t){if(n[e]){var i=[];for(var a=0,o=n[e].length;a<o;a++)if(n[e][a]["h"]!=t)i.push(n[e][a]);n[e]=i}if(n[e]&&0===n[e].length)delete n[e]}else delete n[e];return this},trigger:function(e){if(this._$handlers[e]){var t=arguments;var i=t.length;if(i>3)t=n.call(t,1);var a=this._$handlers[e];var o=a.length;for(var s=0;s<o;){switch(i){case 1:a[s]["h"].call(a[s]["ctx"]);break;case 2:a[s]["h"].call(a[s]["ctx"],t[1]);break;case 3:a[s]["h"].call(a[s]["ctx"],t[1],t[2]);break;default:a[s]["h"].apply(a[s]["ctx"],t)}if(a[s]["one"]){a.splice(s,1);o--}else s++}}return this},triggerWithContext:function(e){if(this._$handlers[e]){var t=arguments;var i=t.length;if(i>4)t=n.call(t,1,t.length-1);var a=t[t.length-1];var o=this._$handlers[e];var s=o.length;for(var r=0;r<s;){switch(i){case 1:o[r]["h"].call(a);break;case 2:o[r]["h"].call(a,t[1]);break;case 3:o[r]["h"].call(a,t[1],t[2]);break;default:o[r]["h"].apply(a,t)}if(o[r]["one"]){o.splice(r,1);s--}else r++}}return this}};e.exports=i},function(e,t,n){"use strict";function i(e){return e>r||e<-r}var a=n(11);var o=n(10);var s=a.identity;var r=5e-5;var d=function(e){e=e||{};if(!e.position)this.position=[0,0];if(null==e.rotation)this.rotation=0;if(!e.scale)this.scale=[1,1];this.origin=this.origin||null};var c=d.prototype;c.transform=null;c.needLocalTransform=function(){return i(this.rotation)||i(this.position[0])||i(this.position[1])||i(this.scale[0]-1)||i(this.scale[1]-1)};c.updateTransform=function(){var e=this.parent;var t=e&&e.transform;var n=this.needLocalTransform();var i=this.transform;if(n||t){i=i||a.create();if(n)this.getLocalTransform(i);else s(i);if(t)if(n)a.mul(i,e.transform,i);else a.copy(i,e.transform);this.transform=i;this.invTransform=this.invTransform||a.create();a.invert(this.invTransform,i)}else i&&s(i)};c.getLocalTransform=function(e){e=e||[];s(e);var t=this.origin;var n=this.scale;var i=this.rotation;var o=this.position;if(t){e[4]-=t[0];e[5]-=t[1]}a.scale(e,e,n);if(i)a.rotate(e,e,i);if(t){e[4]+=t[0];e[5]+=t[1]}e[4]+=o[0];e[5]+=o[1];return e};c.setTransform=function(e){var t=this.transform;var n=e.dpr||1;if(t)e.setTransform(n*t[0],n*t[1],n*t[2],n*t[3],n*t[4],n*t[5]);else e.setTransform(n,0,0,n,0,0)};c.restoreTransform=function(e){var t=this.transform;var n=e.dpr||1;e.setTransform(n,0,0,n,0,0)};var l=[];c.decomposeTransform=function(){if(this.transform){var e=this.parent;var t=this.transform;if(e&&e.transform){a.mul(l,e.invTransform,t);t=l}var n=t[0]*t[0]+t[1]*t[1];var o=t[2]*t[2]+t[3]*t[3];var s=this.position;var r=this.scale;if(i(n-1))n=Math.sqrt(n);if(i(o-1))o=Math.sqrt(o);if(t[0]<0)n=-n;if(t[3]<0)o=-o;s[0]=t[4];s[1]=t[5];r[0]=n;
r[1]=o;this.rotation=Math.atan2(-t[1]/o,t[0]/n)}};c.getGlobalScale=function(){var e=this.transform;if(!e)return[1,1];var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]);var n=Math.sqrt(e[2]*e[2]+e[3]*e[3]);if(e[0]<0)t=-t;if(e[3]<0)n=-n;return[t,n]};c.transformCoordToLocal=function(e,t){var n=[e,t];var i=this.invTransform;if(i)o.applyTransform(n,n,i);return n};c.transformCoordToGlobal=function(e,t){var n=[e,t];var i=this.transform;if(i)o.applyTransform(n,n,i);return n};e.exports=d},function(e,t,n){"use strict";var i=n(36);var a=n(4);var o=a.isString;var s=a.isFunction;var r=a.isObject;var d=n(40);var c=function(){this.animators=[]};c.prototype={constructor:c,animate:function(e,t){var n;var o=!1;var s=this;var r=this.__zr;if(e){var c=e.split(".");var l=s;o="shape"===c[0];for(var h=0,p=c.length;h<p;h++)if(l)l=l[c[h]];else;if(l)n=l}else n=s;if(n){var u=s.animators;var f=new i(n,t);f.during(function(e){s.dirty(o)}).done(function(){u.splice(a.indexOf(u,f),1)});u.push(f);if(r)r.animation.addAnimator(f);return f}else d('Property "'+e+'" is not existed in element '+s.id)},stopAnimation:function(e){var t=this.animators;var n=t.length;for(var i=0;i<n;i++)t[i].stop(e);t.length=0;return this},animateTo:function(e,t,n,i,a){function r(){c--;if(!c)a&&a()}if(o(n)){a=i;i=n;n=0}else if(s(i)){a=i;i="linear";n=0}else if(s(n)){a=n;n=0}else if(s(t)){a=t;t=500}else if(!t)t=500;this.stopAnimation();this._animateToShallow("",this,e,t,n,i,a);var d=this.animators.slice();var c=d.length;if(!c)a&&a();for(var l=0;l<d.length;l++)d[l].done(r).start(i)},_animateToShallow:function(e,t,n,i,o){var s={};var d=0;for(var c in n)if(null!=t[c])if(r(n[c])&&!a.isArrayLike(n[c]))this._animateToShallow(e?e+"."+c:c,t[c],n[c],i,o);else{s[c]=n[c];d++}else if(null!=n[c])if(!e)this.attr(c,n[c]);else{var l={};l[e]={};l[e][c]=n[c];this.attr(l)}if(d>0)this.animate(e,!1).when(null==i?500:i,s).delay(o||0);return this}};e.exports=c},function(e,t,n){function i(e,t){return e[t]}function a(e,t,n){e[t]=n}function o(e,t,n){return(t-e)*n+e}function s(e,t,n){return n>.5?t:e}function r(e,t,n,i,a){var s=e.length;if(1==a)for(var r=0;r<s;r++)i[r]=o(e[r],t[r],n);else{var d=e[0].length;for(var r=0;r<s;r++)for(var c=0;c<d;c++)i[r][c]=o(e[r][c],t[r][c],n)}}function d(e,t,n){var i=e.length;var a=t.length;if(i!==a){var o=i>a;if(o)e.length=a;else for(var s=i;s<a;s++)e.push(1===n?t[s]:x.call(t[s]))}var r=e[0]&&e[0].length;for(var s=0;s<e.length;s++)if(1===n){if(isNaN(e[s]))e[s]=t[s]}else for(var d=0;d<r;d++)if(isNaN(e[s][d]))e[s][d]=t[s][d]}function c(e,t,n){if(e===t)return!0;var i=e.length;if(i!==t.length)return!1;if(1===n){for(var a=0;a<i;a++)if(e[a]!==t[a])return!1}else{var o=e[0].length;for(var a=0;a<i;a++)for(var s=0;s<o;s++)if(e[a][s]!==t[a][s])return!1}return!0}function l(e,t,n,i,a,o,s,r,d){var c=e.length;if(1==d)for(var l=0;l<c;l++)r[l]=h(e[l],t[l],n[l],i[l],a,o,s);else{var p=e[0].length;for(var l=0;l<c;l++)for(var u=0;u<p;u++)r[l][u]=h(e[l][u],t[l][u],n[l][u],i[l][u],a,o,s)}}function h(e,t,n,i,a,o,s){var r=.5*(n-e);var d=.5*(i-t);return(2*(t-n)+r+d)*s+(-3*(t-n)-2*r-d)*o+r*a+t}function p(e){if(b(e)){var t=e.length;if(b(e[0])){var n=[];for(var i=0;i<t;i++)n.push(x.call(e[i]));return n}return x.call(e)}return e}function u(e){e[0]=Math.floor(e[0]);e[1]=Math.floor(e[1]);e[2]=Math.floor(e[2]);return"rgba("+e.join(",")+")"}function f(e,t,n,i,a){var p=e._getter;var f=e._setter;var g="spline"===t;var x=i.length;if(x){var v=i[0].value;var C=b(v);var w=!1;var I=!1;var y=C&&b(v[0])?2:1;var $;i.sort(function(e,t){return e.time-t.time});$=i[x-1].time;var A=[];var E=[];var T=i[0].value;var N=!0;for(var S=0;S<x;S++){A.push(i[S].time/$);var k=i[S].value;if(!(C&&c(k,T,y)||!C&&k===T))N=!1;T=k;if("string"==typeof k){var D=m.parse(k);if(D){k=D;w=!0}else I=!0}E.push(k)}if(!N){var U=E[x-1];for(var S=0;S<x-1;S++)if(C)d(E[S],U,y);else if(isNaN(E[S])&&!isNaN(U)&&!I&&!w)E[S]=U;C&&d(p(e._target,a),U,y);var z=0;var P=0;var L;var O;var M;var B;var R;var j;if(w)var F=[0,0,0,0];var H=function(e,t){var n;if(t<0)n=0;else if(t<P){L=Math.min(z+1,x-1);for(n=L;n>=0&&!(A[n]<=t);n--);n=Math.min(n,x-2)}else{for(n=z;n<x&&!(A[n]>t);n++);n=Math.min(n-1,x-2)}z=n;P=t;var i=A[n+1]-A[n];if(0!==i){O=(t-A[n])/i;if(g){B=E[n];M=E[0===n?n:n-1];R=E[n>x-2?x-1:n+1];j=E[n>x-3?x-1:n+2];if(C)l(M,B,R,j,O,O*O,O*O*O,p(e,a),y);else{var d;if(w){d=l(M,B,R,j,O,O*O,O*O*O,F,1);d=u(F)}else if(I)return s(B,R,O);else d=h(M,B,R,j,O,O*O,O*O*O);f(e,a,d)}}else if(C)r(E[n],E[n+1],O,p(e,a),y);else{var d;if(w){r(E[n],E[n+1],O,F,1);d=u(F)}else if(I)return s(E[n],E[n+1],O);else d=o(E[n],E[n+1],O);f(e,a,d)}}};var V=new _({target:e._target,life:$,loop:e._loop,delay:e._delay,onframe:H,ondestroy:n});if(t&&"spline"!==t)V.easing=t;return V}}}var _=n(37);var m=n(39);var g=n(4);var b=g.isArrayLike;var x=Array.prototype.slice;var v=function(e,t,n,o){this._tracks={};this._target=e;this._loop=t||!1;this._getter=n||i;this._setter=o||a;this._clipCount=0;this._delay=0;this._doneList=[];this._onframeList=[];this._clipList=[]};v.prototype={when:function(e,t){var n=this._tracks;for(var i in t){if(!n[i]){n[i]=[];var a=this._getter(this._target,i);if(null==a)continue;if(0!==e)n[i].push({time:0,value:p(a)})}n[i].push({time:e,value:t[i]})}return this},during:function(e){this._onframeList.push(e);return this},_doneCallback:function(){this._tracks={};this._clipList.length=0;var e=this._doneList;var t=e.length;for(var n=0;n<t;n++)e[n].call(this)},start:function(e){var t=this;var n=0;var i=function(){n--;if(!n)t._doneCallback()};var a;for(var o in this._tracks){var s=f(this,e,i,this._tracks[o],o);if(s){this._clipList.push(s);n++;if(this.animation)this.animation.addClip(s);a=s}}if(a){var r=a.onframe;a.onframe=function(e,n){r(e,n);for(var i=0;i<t._onframeList.length;i++)t._onframeList[i](e,n)}}if(!n)this._doneCallback();return this},stop:function(e){var t=this._clipList;var n=this.animation;for(var i=0;i<t.length;i++){var a=t[i];if(e)a.onframe(this._target,1);n&&n.removeClip(a)}t.length=0},delay:function(e){this._delay=e;return this},done:function(e){if(e)this._doneList.push(e);return this},getClips:function(){return this._clipList}};e.exports=v},function(e,t,n){function i(e){this._target=e.target;this._life=e.life||1e3;this._delay=e.delay||0;this._initialized=!1;this.loop=null==e.loop?!1:e.loop;this.gap=e.gap||0;this.easing=e.easing||"Linear";this.onframe=e.onframe;this.ondestroy=e.ondestroy;this.onrestart=e.onrestart}var a=n(38);i.prototype={constructor:i,step:function(e){if(!this._initialized){this._startTime=e+this._delay;this._initialized=!0}var t=(e-this._startTime)/this._life;if(!(t<0)){t=Math.min(t,1);var n=this.easing;var i="string"==typeof n?a[n]:n;var o="function"==typeof i?i(t):t;this.fire("frame",o);if(1==t){if(this.loop){this.restart(e);return"restart"}this._needsRemove=!0;return"destroy"}return null}},restart:function(e){var t=(e-this._startTime)%this._life;this._startTime=e-t+this.gap;this._needsRemove=!1},fire:function(e,t){e="on"+e;if(this[e])this[e](this._target,t)}};e.exports=i},function(e,t){var n={linear:function(e){return e},quadraticIn:function(e){return e*e},quadraticOut:function(e){return e*(2-e)},quadraticInOut:function(e){if((e*=2)<1)return.5*e*e;else return-.5*(--e*(e-2)-1)},cubicIn:function(e){return e*e*e},cubicOut:function(e){return--e*e*e+1},cubicInOut:function(e){if((e*=2)<1)return.5*e*e*e;else return.5*((e-=2)*e*e+2)},quarticIn:function(e){return e*e*e*e},quarticOut:function(e){return 1- --e*e*e*e},quarticInOut:function(e){if((e*=2)<1)return.5*e*e*e*e;else return-.5*((e-=2)*e*e*e-2)},quinticIn:function(e){return e*e*e*e*e},quinticOut:function(e){return--e*e*e*e*e+1},quinticInOut:function(e){if((e*=2)<1)return.5*e*e*e*e*e;else return.5*((e-=2)*e*e*e*e+2)},sinusoidalIn:function(e){return 1-Math.cos(e*Math.PI/2)},sinusoidalOut:function(e){return Math.sin(e*Math.PI/2)},sinusoidalInOut:function(e){return.5*(1-Math.cos(Math.PI*e))},exponentialIn:function(e){return 0===e?0:Math.pow(1024,e-1)},exponentialOut:function(e){return 1===e?1:1-Math.pow(2,-10*e)},exponentialInOut:function(e){if(0===e)return 0;if(1===e)return 1;if((e*=2)<1)return.5*Math.pow(1024,e-1);else return.5*(-Math.pow(2,-10*(e-1))+2)},circularIn:function(e){return 1-Math.sqrt(1-e*e)},circularOut:function(e){return Math.sqrt(1- --e*e)},circularInOut:function(e){if((e*=2)<1)return-.5*(Math.sqrt(1-e*e)-1);else return.5*(Math.sqrt(1-(e-=2)*e)+1)},elasticIn:function(e){var t;var n=.1;var i=.4;if(0===e)return 0;if(1===e)return 1;if(!n||n<1){n=1;t=i/4}else t=i*Math.asin(1/n)/(2*Math.PI);return-(n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/i))},elasticOut:function(e){var t;var n=.1;var i=.4;if(0===e)return 0;if(1===e)return 1;if(!n||n<1){n=1;t=i/4}else t=i*Math.asin(1/n)/(2*Math.PI);return n*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/i)+1},elasticInOut:function(e){var t;var n=.1;var i=.4;if(0===e)return 0;if(1===e)return 1;if(!n||n<1){n=1;t=i/4}else t=i*Math.asin(1/n)/(2*Math.PI);if((e*=2)<1)return-.5*(n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/i));else return n*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/i)*.5+1},backIn:function(e){var t=1.70158;return e*e*((t+1)*e-t)},backOut:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},backInOut:function(e){var t=2.5949095;if((e*=2)<1)return.5*(e*e*((t+1)*e-t));else return.5*((e-=2)*e*((t+1)*e+t)+2)},bounceIn:function(e){return 1-n.bounceOut(1-e)},bounceOut:function(e){if(e<1/2.75)return 7.5625*e*e;else if(e<2/2.75)return 7.5625*(e-=1.5/2.75)*e+.75;else if(e<2.5/2.75)return 7.5625*(e-=2.25/2.75)*e+.9375;else return 7.5625*(e-=2.625/2.75)*e+.984375},bounceInOut:function(e){if(e<.5)return.5*n.bounceIn(2*e);else return.5*n.bounceOut(2*e-1)+.5}};e.exports=n},function(e,t){function n(e){e=Math.round(e);return e<0?0:e>255?255:e}function i(e){e=Math.round(e);return e<0?0:e>360?360:e}function a(e){return e<0?0:e>1?1:e}function o(e){if(e.length&&"%"===e.charAt(e.length-1))return n(parseFloat(e)/100*255);else return n(parseInt(e,10))}function s(e){if(e.length&&"%"===e.charAt(e.length-1))return a(parseFloat(e)/100);else return a(parseFloat(e))}function r(e,t,n){
if(n<0)n+=1;else if(n>1)n-=1;if(6*n<1)return e+(t-e)*n*6;if(2*n<1)return t;if(3*n<2)return e+(t-e)*(2/3-n)*6;else return e}function d(e,t,n){return e+(t-e)*n}function c(e){if(e){e+="";var t=e.replace(/ /g,"").toLowerCase();if(t in x)return x[t].slice();if("#"!==t.charAt(0)){var n=t.indexOf("("),i=t.indexOf(")");if(n!==-1&&i+1===t.length){var a=t.substr(0,n);var r=t.substr(n+1,i-(n+1)).split(",");var d=1;switch(a){case"rgba":if(4!==r.length)return;d=s(r.pop());case"rgb":if(3!==r.length)return;return[o(r[0]),o(r[1]),o(r[2]),d];case"hsla":if(4!==r.length)return;r[3]=s(r[3]);return l(r);case"hsl":if(3!==r.length)return;return l(r);default:return}}}else if(4===t.length){var c=parseInt(t.substr(1),16);if(!(c>=0&&c<=4095))return;return[(3840&c)>>4|(3840&c)>>8,240&c|(240&c)>>4,15&c|(15&c)<<4,1]}else if(7===t.length){var c=parseInt(t.substr(1),16);if(!(c>=0&&c<=16777215))return;return[(16711680&c)>>16,(65280&c)>>8,255&c,1]}}}function l(e){var t=(parseFloat(e[0])%360+360)%360/360;var i=s(e[1]);var a=s(e[2]);var o=a<=.5?a*(i+1):a+i-a*i;var d=2*a-o;var c=[n(255*r(d,o,t+1/3)),n(255*r(d,o,t)),n(255*r(d,o,t-1/3))];if(4===e.length)c[3]=e[3];return c}function h(e){if(e){var t=e[0]/255;var n=e[1]/255;var i=e[2]/255;var a=Math.min(t,n,i);var o=Math.max(t,n,i);var s=o-a;var r=(o+a)/2;var d;var c;if(0===s){d=0;c=0}else{if(r<.5)c=s/(o+a);else c=s/(2-o-a);var l=((o-t)/6+s/2)/s;var h=((o-n)/6+s/2)/s;var p=((o-i)/6+s/2)/s;if(t===o)d=p-h;else if(n===o)d=1/3+l-p;else if(i===o)d=2/3+h-l;if(d<0)d+=1;if(d>1)d-=1}var u=[360*d,c,r];if(null!=e[3])u.push(e[3]);return u}}function p(e,t){var n=c(e);if(n){for(var i=0;i<3;i++)if(t<0)n[i]=n[i]*(1-t)|0;else n[i]=(255-n[i])*t+n[i]|0;return b(n,4===n.length?"rgba":"rgb")}}function u(e,t){var n=c(e);if(n)return((1<<24)+(n[0]<<16)+(n[1]<<8)+ +n[2]).toString(16).slice(1)}function f(e,t,i){if(t&&t.length&&e>=0&&e<=1){i=i||[0,0,0,0];var a=e*(t.length-1);var o=Math.floor(a);var s=Math.ceil(a);var r=t[o];var c=t[s];var l=a-o;i[0]=n(d(r[0],c[0],l));i[1]=n(d(r[1],c[1],l));i[2]=n(d(r[2],c[2],l));i[3]=n(d(r[3],c[3],l));return i}}function _(e,t,i){if(t&&t.length&&e>=0&&e<=1){var o=e*(t.length-1);var s=Math.floor(o);var r=Math.ceil(o);var l=c(t[s]);var h=c(t[r]);var p=o-s;var u=b([n(d(l[0],h[0],p)),n(d(l[1],h[1],p)),n(d(l[2],h[2],p)),a(d(l[3],h[3],p))],"rgba");return i?{color:u,leftIndex:s,rightIndex:r,value:o}:u}}function m(e,t,n,a){e=c(e);if(e){e=h(e);null!=t&&(e[0]=i(t));null!=n&&(e[1]=s(n));null!=a&&(e[2]=s(a));return b(l(e),"rgba")}}function g(e,t){e=c(e);if(e&&null!=t){e[3]=a(t);return b(e,"rgba")}}function b(e,t){var n=e[0]+","+e[1]+","+e[2];if("rgba"===t||"hsva"===t||"hsla"===t)n+=","+e[3];return t+"("+n+")"}var x={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};e.exports={parse:c,lift:p,toHex:u,fastMapToColor:f,mapToColor:_,modifyHSL:m,modifyAlpha:g,stringify:b}},function(e,t,n){var i=n(41);e.exports=function(){if(0!==i.debugMode)if(1==i.debugMode)for(var e in arguments)throw new Error(arguments[e]);else if(i.debugMode>1)for(var e in arguments)console.log(arguments[e])}},function(e,t){var n=1;if("undefined"!=typeof window)n=Math.max(window.devicePixelRatio||1,1);var i={debugMode:0,devicePixelRatio:n};e.exports=i},function(e,t,n){function i(){this.group=new s;this.uid=r.getUID("viewChart")}function a(e,t){if(e){e.trigger(t);if("group"===e.type)for(var n=0;n<e.childCount();n++)a(e.childAt(n),t)}}function o(e,t,n){var i=t&&t.dataIndex;var o=t&&t.name;if(null!=i){var s=i instanceof Array?i:[i];for(var r=0,d=s.length;r<d;r++)a(e.getItemGraphicEl(s[r]),n)}else if(o){var c=o instanceof Array?o:[o];for(var r=0,d=c.length;r<d;r++){var i=e.indexOfName(c[r]);a(e.getItemGraphicEl(i),n)}}else e.eachItemGraphicEl(function(e){a(e,n)})}var s=n(30);var r=n(20);var d=n(13);i.prototype={type:"chart",init:function(e,t){},render:function(e,t,n,i){},highlight:function(e,t,n,i){o(e.getData(),i,"emphasis")},downplay:function(e,t,n,i){o(e.getData(),i,"normal")},remove:function(e,t){this.group.removeAll()},dispose:function(){}};var c=i.prototype;c.updateView=c.updateLayout=c.updateVisual=function(e,t,n,i){this.render(e,t,n,i)};d.enableClassExtend(i);d.enableClassManagement(i,{registerWhenExtend:!0});e.exports=i},function(e,t,n){"use strict";function i(e){return null!=e&&"none"!=e}function a(e){return"string"==typeof e?v.lift(e,-.1):e}function o(e){if(e.__hoverStlDirty){var t=e.style.stroke;var n=e.style.fill;var o=e.__hoverStl;o.fill=o.fill||(i(n)?a(n):null);o.stroke=o.stroke||(i(t)?a(t):null);var s={};for(var r in o)if(o.hasOwnProperty(r))s[r]=e.style[r];e.__normalStl=s;e.__hoverStlDirty=!1}}function s(e){if(!e.__isHover){o(e);if(e.useHoverLayer)e.__zr&&e.__zr.addHover(e,e.__hoverStl);else{e.setStyle(e.__hoverStl);e.z2+=1}e.__isHover=!0}}function r(e){if(e.__isHover){var t=e.__normalStl;if(e.useHoverLayer)e.__zr&&e.__zr.removeHover(e);else{t&&e.setStyle(t);e.z2-=1}e.__isHover=!1}}function d(e){"group"===e.type?e.traverse(function(e){if("group"!==e.type)s(e)}):s(e)}function c(e){"group"===e.type?e.traverse(function(e){if("group"!==e.type)r(e)}):r(e)}function l(e,t){e.__hoverStl=e.hoverStyle||t||{};e.__hoverStlDirty=!0;if(e.__isHover)o(e)}function h(){!this.__isEmphasis&&d(this)}function p(){!this.__isEmphasis&&c(this)}function u(){this.__isEmphasis=!0;d(this)}function f(){this.__isEmphasis=!1;c(this)}function _(e,t,n,i,a,o){if("function"==typeof a){o=a;a=null}var s=i&&(i.ifEnableAnimation?i.ifEnableAnimation():i.getShallow("animation"));if(s){var r=e?"Update":"";var d=i&&i.getShallow("animationDuration"+r);var c=i&&i.getShallow("animationEasing"+r);var l=i&&i.getShallow("animationDelay"+r);if("function"==typeof l)l=l(a);d>0?t.animateTo(n,d,l||0,c,o):(t.attr(n),o&&o())}else{t.attr(n);o&&o()}}var m=n(4);var g=n(44);var b=Math.round;var x=n(45);var v=n(39);var C=n(11);var w=n(10);var I=n(61);var y={};y.Group=n(30);y.Image=n(62);y.Text=n(64);y.Circle=n(65);y.Sector=n(66);y.Ring=n(67);y.Polygon=n(68);y.Polyline=n(72);y.Rect=n(73);y.Line=n(75);y.BezierCurve=n(76);y.Arc=n(77);y.CompoundPath=n(78);y.LinearGradient=n(79);y.RadialGradient=n(80);y.BoundingRect=n(9);y.extendShape=function(e){return x.extend(e)};y.extendPath=function(e,t){return g.extendFromString(e,t)};y.makePath=function(e,t,n,i){var a=g.createFromString(e,t);var o=a.getBoundingRect();if(n){var s=o.width/o.height;if("center"===i){var r=n.height*s;var d;if(r<=n.width)d=n.height;else{r=n.width;d=r/s}var c=n.x+n.width/2;
var l=n.y+n.height/2;n.x=c-r/2;n.y=l-d/2;n.width=r;n.height=d}this.resizePath(a,n)}return a};y.mergePath=g.mergePath,y.resizePath=function(e,t){if(e.applyTransform){var n=e.getBoundingRect();var i=n.calculateTransform(t);e.applyTransform(i)}};y.subPixelOptimizeLine=function(e){var t=y.subPixelOptimize;var n=e.shape;var i=e.style.lineWidth;if(b(2*n.x1)===b(2*n.x2))n.x1=n.x2=t(n.x1,i,!0);if(b(2*n.y1)===b(2*n.y2))n.y1=n.y2=t(n.y1,i,!0);return e};y.subPixelOptimizeRect=function(e){var t=y.subPixelOptimize;var n=e.shape;var i=e.style.lineWidth;var a=n.x;var o=n.y;var s=n.width;var r=n.height;n.x=t(n.x,i,!0);n.y=t(n.y,i,!0);n.width=Math.max(t(a+s,i,!1)-n.x,0===s?0:1);n.height=Math.max(t(o+r,i,!1)-n.y,0===r?0:1);return e};y.subPixelOptimize=function(e,t,n){var i=b(2*e);return(i+b(t))%2===0?i/2:(i+(n?1:-1))/2};y.setHoverStyle=function(e,t){"group"===e.type?e.traverse(function(e){if("group"!==e.type)l(e,t)}):l(e,t);e.on("mouseover",h).on("mouseout",p);e.on("emphasis",u).on("normal",f)};y.setText=function(e,t,n){var i=t.getShallow("position")||"inside";var a=i.indexOf("inside")>=0?"white":n;var o=t.getModel("textStyle");m.extend(e,{textDistance:t.getShallow("distance")||5,textFont:o.getFont(),textPosition:i,textFill:o.getTextColor()||a})};y.updateProps=function(e,t,n,i,a){_(!0,e,t,n,i,a)};y.initProps=function(e,t,n,i,a){_(!1,e,t,n,i,a)};y.getTransform=function(e,t){var n=C.identity([]);for(;e&&e!==t;){C.mul(n,e.getLocalTransform(),n);e=e.parent}return n};y.applyTransform=function(e,t,n){if(n)t=C.invert([],t);return w.applyTransform([],e,t)};y.transformDirection=function(e,t,n){var i=0===t[4]||0===t[5]||0===t[0]?1:Math.abs(2*t[4]/t[0]);var a=0===t[4]||0===t[5]||0===t[2]?1:Math.abs(2*t[4]/t[2]);var o=["left"===e?-i:"right"===e?i:0,"top"===e?-a:"bottom"===e?a:0];o=y.applyTransform(o,t,n);return Math.abs(o[0])>Math.abs(o[1])?o[0]>0?"right":"left":o[1]>0?"bottom":"top"};y.groupTransition=function(e,t,n,i){function a(e){var t={};e.traverse(function(e){if(!e.isGroup&&e.anid)t[e.anid]=e});return t}function o(e){var t={position:w.clone(e.position),rotation:e.rotation};if(e.shape)t.shape=m.extend({},e.shape);return t}if(e&&t){var s=a(e);t.traverse(function(e){if(!e.isGroup&&e.anid){var t=s[e.anid];if(t){var i=o(e);e.attr(o(t));y.updateProps(e,i,n,e.dataIndex)}}})}};e.exports=y},function(e,t,n){function i(e,t,n,i,a,o,s,r,d,c,l){var _=d*(f/180);var b=u(_)*(e-n)/2+p(_)*(t-i)/2;var x=-1*p(_)*(e-n)/2+u(_)*(t-i)/2;var v=b*b/(s*s)+x*x/(r*r);if(v>1){s*=h(v);r*=h(v)}var C=(a===o?-1:1)*h((s*s*(r*r)-s*s*(x*x)-r*r*(b*b))/(s*s*(x*x)+r*r*(b*b)))||0;var w=C*s*x/r;var I=C*-r*b/s;var y=(e+n)/2+u(_)*w-p(_)*I;var $=(t+i)/2+p(_)*w+u(_)*I;var A=g([1,0],[(b-w)/s,(x-I)/r]);var E=[(b-w)/s,(x-I)/r];var T=[(-1*b-w)/s,(-1*x-I)/r];var N=g(E,T);if(m(E,T)<=-1)N=f;if(m(E,T)>=1)N=0;if(0===o&&N>0)N-=2*f;if(1===o&&N<0)N+=2*f;l.addData(c,y,$,s,r,A,N,_,o)}function a(e){if(!e)return[];var t=e.replace(/-/g," -").replace(/  /g," ").replace(/ /g,",").replace(/,,/g,",");var n;for(n=0;n<l.length;n++)t=t.replace(new RegExp(l[n],"g"),"|"+l[n]);var a=t.split("|");var o=0;var s=0;var d=new r;var c=r.CMD;var h;for(n=1;n<a.length;n++){var p=a[n];var u=p.charAt(0);var f=0;var _=p.slice(1).replace(/e,-/g,"e-").split(",");var m;if(_.length>0&&""===_[0])_.shift();for(var g=0;g<_.length;g++)_[g]=parseFloat(_[g]);for(;f<_.length&&!isNaN(_[f])&&!isNaN(_[0]);){var b;var x;var v;var C;var w;var I;var y;var $=o;var A=s;switch(u){case"l":o+=_[f++];s+=_[f++];m=c.L;d.addData(m,o,s);break;case"L":o=_[f++];s=_[f++];m=c.L;d.addData(m,o,s);break;case"m":o+=_[f++];s+=_[f++];m=c.M;d.addData(m,o,s);u="l";break;case"M":o=_[f++];s=_[f++];m=c.M;d.addData(m,o,s);u="L";break;case"h":o+=_[f++];m=c.L;d.addData(m,o,s);break;case"H":o=_[f++];m=c.L;d.addData(m,o,s);break;case"v":s+=_[f++];m=c.L;d.addData(m,o,s);break;case"V":s=_[f++];m=c.L;d.addData(m,o,s);break;case"C":m=c.C;d.addData(m,_[f++],_[f++],_[f++],_[f++],_[f++],_[f++]);o=_[f-2];s=_[f-1];break;case"c":m=c.C;d.addData(m,_[f++]+o,_[f++]+s,_[f++]+o,_[f++]+s,_[f++]+o,_[f++]+s);o+=_[f-2];s+=_[f-1];break;case"S":b=o;x=s;var E=d.len();var T=d.data;if(h===c.C){b+=o-T[E-4];x+=s-T[E-3]}m=c.C;$=_[f++];A=_[f++];o=_[f++];s=_[f++];d.addData(m,b,x,$,A,o,s);break;case"s":b=o;x=s;var E=d.len();var T=d.data;if(h===c.C){b+=o-T[E-4];x+=s-T[E-3]}m=c.C;$=o+_[f++];A=s+_[f++];o+=_[f++];s+=_[f++];d.addData(m,b,x,$,A,o,s);break;case"Q":$=_[f++];A=_[f++];o=_[f++];s=_[f++];m=c.Q;d.addData(m,$,A,o,s);break;case"q":$=_[f++]+o;A=_[f++]+s;o+=_[f++];s+=_[f++];m=c.Q;d.addData(m,$,A,o,s);break;case"T":b=o;x=s;var E=d.len();var T=d.data;if(h===c.Q){b+=o-T[E-4];x+=s-T[E-3]}o=_[f++];s=_[f++];m=c.Q;d.addData(m,b,x,o,s);break;case"t":b=o;x=s;var E=d.len();var T=d.data;if(h===c.Q){b+=o-T[E-4];x+=s-T[E-3]}o+=_[f++];s+=_[f++];m=c.Q;d.addData(m,b,x,o,s);break;case"A":v=_[f++];C=_[f++];w=_[f++];I=_[f++];y=_[f++];$=o,A=s;o=_[f++];s=_[f++];m=c.A;i($,A,o,s,I,y,v,C,w,m,d);break;case"a":v=_[f++];C=_[f++];w=_[f++];I=_[f++];y=_[f++];$=o,A=s;o+=_[f++];s+=_[f++];m=c.A;i($,A,o,s,I,y,v,C,w,m,d)}}if("z"===u||"Z"===u){m=c.Z;d.addData(m)}h=m}d.toStatic();return d}function o(e,t){var n=a(e);var i;t=t||{};t.buildPath=function(e){e.setData(n.data);i&&d(e,i);var t=e.getContext();if(t)e.rebuildPath(t)};t.applyTransform=function(e){if(!i)i=c.create();c.mul(i,e,i);this.dirty(!0)};return t}var s=n(45);var r=n(49);var d=n(60);var c=n(11);var l=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];var h=Math.sqrt;var p=Math.sin;var u=Math.cos;var f=Math.PI;var _=function(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])};var m=function(e,t){return(e[0]*t[0]+e[1]*t[1])/(_(e)*_(t))};var g=function(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(m(e,t))};e.exports={createFromString:function(e,t){return new s(o(e,t))},extendFromString:function(e,t){return s.extend(o(e,t))},mergePath:function(e,t){var n=[];var i=e.length;for(var a=0;a<i;a++){var o=e[a];if(o.__dirty)o.buildPath(o.path,o.shape,!0);n.push(o.path)}var r=new s(t);r.buildPath=function(e){e.appendPath(n);var t=e.getContext();if(t)e.rebuildPath(t)};return r}}},function(e,t,n){function i(e){a.call(this,e);this.path=new s}var a=n(46);var o=n(4);var s=n(49);var r=n(52);var d=n(59);var c=d.prototype.getCanvasPattern;var l=Math.abs;i.prototype={constructor:i,type:"path",__dirtyPath:!0,strokeContainThreshold:5,brush:function(e,t){var n=this.style;var i=this.path;var a=n.hasStroke();var o=n.hasFill();var s=n.fill;var r=n.stroke;var d=o&&!!s.colorStops;var l=a&&!!r.colorStops;var h=o&&!!s.image;var p=a&&!!r.image;n.bind(e,this,t);this.setTransform(e);if(this.__dirty){var u=this.getBoundingRect();if(d)this._fillGradient=n.getGradient(e,s,u);if(l)this._strokeGradient=n.getGradient(e,r,u)}if(d)e.fillStyle=this._fillGradient;else if(h)e.fillStyle=c.call(s,e);if(l)e.strokeStyle=this._strokeGradient;else if(p)e.strokeStyle=c.call(r,e);var f=n.lineDash;var _=n.lineDashOffset;var m=!!e.setLineDash;var g=this.getGlobalScale();i.setScale(g[0],g[1]);if(this.__dirtyPath||f&&!m&&a){i=this.path.beginPath(e);if(f&&!m){i.setLineDash(f);i.setLineDashOffset(_)}this.buildPath(i,this.shape,!1);this.__dirtyPath=!1}else{e.beginPath();this.path.rebuildPath(e)}o&&i.fill(e);if(f&&m){e.setLineDash(f);e.lineDashOffset=_}a&&i.stroke(e);if(f&&m)e.setLineDash([]);this.restoreTransform(e);if(n.text||0===n.text)this.drawRectText(e,this.getBoundingRect())},buildPath:function(e,t,n){},getBoundingRect:function(){var e=this._rect;var t=this.style;var n=!e;if(n){var i=this.path;if(this.__dirtyPath){i.beginPath();this.buildPath(i,this.shape,!1)}e=i.getBoundingRect()}this._rect=e;if(t.hasStroke()){var a=this._rectWithStroke||(this._rectWithStroke=e.clone());if(this.__dirty||n){a.copy(e);var o=t.lineWidth;var s=t.strokeNoScale?this.getLineScale():1;if(!t.hasFill())o=Math.max(o,this.strokeContainThreshold||4);if(s>1e-10){a.width+=o/s;a.height+=o/s;a.x-=o/s/2;a.y-=o/s/2}}return a}return e},contain:function(e,t){var n=this.transformCoordToLocal(e,t);var i=this.getBoundingRect();var a=this.style;e=n[0];t=n[1];if(i.contain(e,t)){var o=this.path.data;if(a.hasStroke()){var s=a.lineWidth;var d=a.strokeNoScale?this.getLineScale():1;if(d>1e-10){if(!a.hasFill())s=Math.max(s,this.strokeContainThreshold);if(r.containStroke(o,s/d,e,t))return!0}}if(a.hasFill())return r.contain(o,e,t)}return!1},dirty:function(e){if(null==e)e=!0;if(e){this.__dirtyPath=e;this._rect=null}this.__dirty=!0;this.__zr&&this.__zr.refresh();if(this.__clipTarget)this.__clipTarget.dirty()},animateShape:function(e){return this.animate("shape",e)},attrKV:function(e,t){if("shape"===e){this.setShape(t);this.__dirtyPath=!0;this._rect=null}else a.prototype.attrKV.call(this,e,t)},setShape:function(e,t){var n=this.shape;if(n){if(o.isObject(e))for(var i in e)n[i]=e[i];else n[e]=t;this.dirty(!0)}return this},getLineScale:function(){var e=this.transform;return e&&l(e[0]-1)>1e-10&&l(e[3]-1)>1e-10?Math.sqrt(l(e[0]*e[3]-e[2]*e[1])):1}};i.extend=function(e){var t=function(t){i.call(this,t);if(e.style)this.style.extendFrom(e.style,!1);var n=e.shape;if(n){this.shape=this.shape||{};var a=this.shape;for(var o in n)if(!a.hasOwnProperty(o)&&n.hasOwnProperty(o))a[o]=n[o]}e.init&&e.init.call(this,t)};o.inherits(t,i);for(var n in e)if("style"!==n&&"shape"!==n)t.prototype[n]=e[n];return t};o.inherits(i,a);e.exports=i},function(e,t,n){function i(e){e=e||{};s.call(this,e);for(var t in e)if(e.hasOwnProperty(t)&&"style"!==t)this[t]=e[t];this.style=new o(e.style);this._rect=null;this.__clipPaths=[]}var a=n(4);var o=n(47);var s=n(31);var r=n(48);i.prototype={constructor:i,type:"displayable",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,progressive:-1,beforeBrush:function(e){},afterBrush:function(e){},brush:function(e,t){},getBoundingRect:function(){},contain:function(e,t){return this.rectContain(e,t)},traverse:function(e,t){e.call(t,this)},rectContain:function(e,t){var n=this.transformCoordToLocal(e,t);var i=this.getBoundingRect();return i.contain(n[0],n[1])},dirty:function(){this.__dirty=!0;this._rect=null;
this.__zr&&this.__zr.refresh()},animateStyle:function(e){return this.animate("style",e)},attrKV:function(e,t){if("style"!==e)s.prototype.attrKV.call(this,e,t);else this.style.set(t)},setStyle:function(e,t){this.style.set(e,t);this.dirty(!1);return this},useStyle:function(e){this.style=new o(e);this.dirty(!1);return this}};a.inherits(i,s);a.mixin(i,r);e.exports=i},function(e,t){function n(e,t,n){var i=t.x;var a=t.x2;var o=t.y;var s=t.y2;if(!t.global){i=i*n.width+n.x;a=a*n.width+n.x;o=o*n.height+n.y;s=s*n.height+n.y}var r=e.createLinearGradient(i,o,a,s);return r}function i(e,t,n){var i=n.width;var a=n.height;var o=Math.min(i,a);var s=t.x;var r=t.y;var d=t.r;if(!t.global){s=s*i+n.x;r=r*a+n.y;d*=o}var c=e.createRadialGradient(s,r,0,s,r,d);return c}var a=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];var o=function(e){this.extendFrom(e)};o.prototype={constructor:o,fill:"#000000",stroke:null,opacity:1,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,textFill:"#000",textStroke:null,textPosition:"inside",textBaseline:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textTransform:!1,textRotation:0,blend:null,bind:function(e,t,n){var i=this;var o=n&&n.style;var s=!o;for(var r=0;r<a.length;r++){var d=a[r];var c=d[0];if(s||i[c]!==o[c])e[c]=i[c]||d[1]}if(s||i.fill!==o.fill)e.fillStyle=i.fill;if(s||i.stroke!==o.stroke)e.strokeStyle=i.stroke;if(s||i.opacity!==o.opacity)e.globalAlpha=null==i.opacity?1:i.opacity;if(s||i.blend!==o.blend)e.globalCompositeOperation=i.blend||"source-over";if(this.hasStroke()){var l=i.lineWidth;e.lineWidth=l/(this.strokeNoScale&&t&&t.getLineScale?t.getLineScale():1)}},hasFill:function(){var e=this.fill;return null!=e&&"none"!==e},hasStroke:function(){var e=this.stroke;return null!=e&&"none"!==e&&this.lineWidth>0},extendFrom:function(e,t){if(e){var n=this;for(var i in e)if(e.hasOwnProperty(i)&&(t||!n.hasOwnProperty(i)))n[i]=e[i]}},set:function(e,t){if("string"==typeof e)this[e]=t;else this.extendFrom(e,!0)},clone:function(){var e=new this.constructor;e.extendFrom(this,!0);return e},getGradient:function(e,t,a){var o="radial"===t.type?i:n;var s=o(e,t,a);var r=t.colorStops;for(var d=0;d<r.length;d++)s.addColorStop(r[d].offset,r[d].color);return s}};var s=o.prototype;for(var r=0;r<a.length;r++){var d=a[r];if(!(d[0]in s))s[d[0]]=d[1]}o.getGradient=s.getGradient;e.exports=o},function(e,t,n){function i(e,t){if("string"==typeof e)if(e.lastIndexOf("%")>=0)return parseFloat(e)/100*t;else return parseFloat(e);return e}var a=n(8);var o=n(9);var s=new o;var r=function(){};r.prototype={constructor:r,drawRectText:function(e,t,n){var o=this.style;var r=o.text;null!=r&&(r+="");if(r){e.save();var d;var c;var l=o.textPosition;var h=o.textDistance;var p=o.textAlign;var u=o.textFont||o.font;var f=o.textBaseline;var _=o.textVerticalAlign;n=n||a.getBoundingRect(r,u,p,f);var m=this.transform;if(!o.textTransform){if(m){s.copy(t);s.applyTransform(m);t=s}}else this.setTransform(e);if(l instanceof Array){d=t.x+i(l[0],t.width);c=t.y+i(l[1],t.height);p=p||"left";f=f||"top";if(_){switch(_){case"middle":c-=n.height/2-n.lineHeight/2;break;case"bottom":c-=n.height-n.lineHeight/2;break;default:c+=n.lineHeight/2}f="middle"}}else{var g=a.adjustTextPositionOnRect(l,t,n,h);d=g.x;c=g.y;p=p||g.textAlign;f=f||g.textBaseline}e.textAlign=p||"left";e.textBaseline=f||"alphabetic";var b=o.textFill;var x=o.textStroke;b&&(e.fillStyle=b);x&&(e.strokeStyle=x);e.font=u||"12px sans-serif";e.shadowBlur=o.textShadowBlur;e.shadowColor=o.textShadowColor||"transparent";e.shadowOffsetX=o.textShadowOffsetX;e.shadowOffsetY=o.textShadowOffsetY;var v=r.split("\n");if(o.textRotation){m&&e.translate(m[4],m[5]);e.rotate(o.textRotation);m&&e.translate(-m[4],-m[5])}for(var C=0;C<v.length;C++){b&&e.fillText(v[C],d,c);x&&e.strokeText(v[C],d,c);c+=n.lineHeight}e.restore()}}};e.exports=r},function(e,t,n){"use strict";var i=n(50);var a=n(10);var o=n(51);var s=n(9);var r=n(41).devicePixelRatio;var d={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7};var c=[];var l=[];var h=[];var p=[];var u=Math.min;var f=Math.max;var _=Math.cos;var m=Math.sin;var g=Math.sqrt;var b=Math.abs;var x="undefined"!=typeof Float32Array;var v=function(){this.data=[];this._len=0;this._ctx=null;this._xi=0;this._yi=0;this._x0=0;this._y0=0;this._ux=0;this._uy=0};v.prototype={constructor:v,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(e,t){this._ux=b(1/r/e)||0;this._uy=b(1/r/t)||0},getContext:function(){return this._ctx},beginPath:function(e){this._ctx=e;e&&e.beginPath();e&&(this.dpr=e.dpr);this._len=0;if(this._lineDash){this._lineDash=null;this._dashOffset=0}return this},moveTo:function(e,t){this.addData(d.M,e,t);this._ctx&&this._ctx.moveTo(e,t);this._x0=e;this._y0=t;this._xi=e;this._yi=t;return this},lineTo:function(e,t){var n=b(e-this._xi)>this._ux||b(t-this._yi)>this._uy||this._len<5;this.addData(d.L,e,t);if(this._ctx&&n)this._needsDash()?this._dashedLineTo(e,t):this._ctx.lineTo(e,t);if(n){this._xi=e;this._yi=t}return this},bezierCurveTo:function(e,t,n,i,a,o){this.addData(d.C,e,t,n,i,a,o);if(this._ctx)this._needsDash()?this._dashedBezierTo(e,t,n,i,a,o):this._ctx.bezierCurveTo(e,t,n,i,a,o);this._xi=a;this._yi=o;return this},quadraticCurveTo:function(e,t,n,i){this.addData(d.Q,e,t,n,i);if(this._ctx)this._needsDash()?this._dashedQuadraticTo(e,t,n,i):this._ctx.quadraticCurveTo(e,t,n,i);this._xi=n;this._yi=i;return this},arc:function(e,t,n,i,a,o){this.addData(d.A,e,t,n,n,i,a-i,0,o?0:1);this._ctx&&this._ctx.arc(e,t,n,i,a,o);this._xi=_(a)*n+e;this._xi=m(a)*n+e;return this},arcTo:function(e,t,n,i,a){if(this._ctx)this._ctx.arcTo(e,t,n,i,a);return this},rect:function(e,t,n,i){this._ctx&&this._ctx.rect(e,t,n,i);this.addData(d.R,e,t,n,i);return this},closePath:function(){this.addData(d.Z);var e=this._ctx;var t=this._x0;var n=this._y0;if(e){this._needsDash()&&this._dashedLineTo(t,n);e.closePath()}this._xi=t;this._yi=n;return this},fill:function(e){e&&e.fill();this.toStatic()},stroke:function(e){e&&e.stroke();this.toStatic()},setLineDash:function(e){if(e instanceof Array){this._lineDash=e;this._dashIdx=0;var t=0;for(var n=0;n<e.length;n++)t+=e[n];this._dashSum=t}return this},setLineDashOffset:function(e){this._dashOffset=e;return this},len:function(){return this._len},setData:function(e){var t=e.length;if((!this.data||this.data.length!=t)&&x)this.data=new Float32Array(t);for(var n=0;n<t;n++)this.data[n]=e[n];this._len=t},appendPath:function(e){if(!(e instanceof Array))e=[e];var t=e.length;var n=0;var i=this._len;for(var a=0;a<t;a++)n+=e[a].len();if(x&&this.data instanceof Float32Array)this.data=new Float32Array(i+n);for(var a=0;a<t;a++){var o=e[a].data;for(var s=0;s<o.length;s++)this.data[i++]=o[s]}this._len=i},addData:function(e){var t=this.data;if(this._len+arguments.length>t.length){this._expandData();t=this.data}for(var n=0;n<arguments.length;n++)t[this._len++]=arguments[n];this._prevCmd=e},_expandData:function(){if(!(this.data instanceof Array)){var e=[];for(var t=0;t<this._len;t++)e[t]=this.data[t];this.data=e}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(e,t){var n=this._dashSum;var i=this._dashOffset;var a=this._lineDash;var o=this._ctx;var s=this._xi;var r=this._yi;var d=e-s;var c=t-r;var l=g(d*d+c*c);var h=s;var p=r;var _;var m=a.length;var b;d/=l;c/=l;if(i<0)i=n+i;i%=n;h-=i*d;p-=i*c;for(;d>0&&h<=e||d<0&&h>=e||0==d&&(c>0&&p<=t||c<0&&p>=t);){b=this._dashIdx;_=a[b];h+=d*_;p+=c*_;this._dashIdx=(b+1)%m;if(!(d>0&&h<s||d<0&&h>s||c>0&&p<r||c<0&&p>r))o[b%2?"moveTo":"lineTo"](d>=0?u(h,e):f(h,e),c>=0?u(p,t):f(p,t));else;}d=h-e;c=p-t;this._dashOffset=-g(d*d+c*c)},_dashedBezierTo:function(e,t,n,a,o,s){var r=this._dashSum;var d=this._dashOffset;var c=this._lineDash;var l=this._ctx;var h=this._xi;var p=this._yi;var u;var f;var _;var m=i.cubicAt;var b=0;var x=this._dashIdx;var v=c.length;var C;var w;var I=0;if(d<0)d=r+d;d%=r;for(u=0;u<1;u+=.1){f=m(h,e,n,o,u+.1)-m(h,e,n,o,u);_=m(p,t,a,s,u+.1)-m(p,t,a,s,u);b+=g(f*f+_*_)}for(;x<v;x++){I+=c[x];if(I>d)break}u=(I-d)/b;for(;u<=1;){C=m(h,e,n,o,u);w=m(p,t,a,s,u);x%2?l.moveTo(C,w):l.lineTo(C,w);u+=c[x]/b;x=(x+1)%v}x%2!==0&&l.lineTo(o,s);f=o-C;_=s-w;this._dashOffset=-g(f*f+_*_)},_dashedQuadraticTo:function(e,t,n,i){var a=n;var o=i;n=(n+2*e)/3;i=(i+2*t)/3;e=(this._xi+2*e)/3;t=(this._yi+2*t)/3;this._dashedBezierTo(e,t,n,i,a,o)},toStatic:function(){var e=this.data;if(e instanceof Array){e.length=this._len;if(x)this.data=new Float32Array(e)}},getBoundingRect:function(){c[0]=c[1]=h[0]=h[1]=Number.MAX_VALUE;l[0]=l[1]=p[0]=p[1]=-Number.MAX_VALUE;var e=this.data;var t=0;var n=0;var i=0;var r=0;for(var u=0;u<e.length;){var f=e[u++];if(1==u){t=e[u];n=e[u+1];i=t;r=n}switch(f){case d.M:i=e[u++];r=e[u++];t=i;n=r;h[0]=i;h[1]=r;p[0]=i;p[1]=r;break;case d.L:o.fromLine(t,n,e[u],e[u+1],h,p);t=e[u++];n=e[u++];break;case d.C:o.fromCubic(t,n,e[u++],e[u++],e[u++],e[u++],e[u],e[u+1],h,p);t=e[u++];n=e[u++];break;case d.Q:o.fromQuadratic(t,n,e[u++],e[u++],e[u],e[u+1],h,p);t=e[u++];n=e[u++];break;case d.A:var g=e[u++];var b=e[u++];var x=e[u++];var v=e[u++];var C=e[u++];var w=e[u++]+C;var I=e[u++];var y=1-e[u++];if(1==u){i=_(C)*x+g;r=m(C)*v+b}o.fromArc(g,b,x,v,C,w,y,h,p);t=_(w)*x+g;n=m(w)*v+b;break;case d.R:i=t=e[u++];r=n=e[u++];var $=e[u++];var A=e[u++];o.fromLine(i,r,i+$,r+A,h,p);break;case d.Z:t=i;n=r}a.min(c,c,h);a.max(l,l,p)}if(0===u)c[0]=c[1]=l[0]=l[1]=0;return new s(c[0],c[1],l[0]-c[0],l[1]-c[1])},rebuildPath:function(e){var t=this.data;var n,i;var a,o;var s,r;var c=this._ux;var l=this._uy;var h=this._len;for(var p=0;p<h;){var u=t[p++];if(1==p){a=t[p];o=t[p+1];n=a;i=o}switch(u){case d.M:n=a=t[p++];i=o=t[p++];e.moveTo(a,o);break;case d.L:s=t[p++];r=t[p++];if(b(s-a)>c||b(r-o)>l||p===h-1){e.lineTo(s,r);a=s;o=r}break;case d.C:e.bezierCurveTo(t[p++],t[p++],t[p++],t[p++],t[p++],t[p++]);a=t[p-2];o=t[p-1];break;case d.Q:e.quadraticCurveTo(t[p++],t[p++],t[p++],t[p++]);
a=t[p-2];o=t[p-1];break;case d.A:var f=t[p++];var g=t[p++];var x=t[p++];var v=t[p++];var C=t[p++];var w=t[p++];var I=t[p++];var y=t[p++];var $=x>v?x:v;var A=x>v?1:x/v;var E=x>v?v/x:1;var T=Math.abs(x-v)>.001;var N=C+w;if(T){e.translate(f,g);e.rotate(I);e.scale(A,E);e.arc(0,0,$,C,N,1-y);e.scale(1/A,1/E);e.rotate(-I);e.translate(-f,-g)}else e.arc(f,g,$,C,N,1-y);if(1==p){n=_(C)*x+f;i=m(C)*v+g}a=_(N)*x+f;o=m(N)*v+g;break;case d.R:n=a=t[p];i=o=t[p+1];e.rect(t[p++],t[p++],t[p++],t[p++]);break;case d.Z:e.closePath();a=n;o=i}}}};v.CMD=d;e.exports=v},function(e,t,n){"use strict";function i(e){return e>-w&&e<w}function a(e){return e>w||e<-w}function o(e,t,n,i,a){var o=1-a;return o*o*(o*e+3*a*t)+a*a*(a*i+3*o*n)}function s(e,t,n,i,a){var o=1-a;return 3*(((t-e)*o+2*(n-t)*a)*o+(i-n)*a*a)}function r(e,t,n,a,o,s){var r=a+3*(t-n)-e;var d=3*(n-2*t+e);var c=3*(t-e);var l=e-o;var h=d*d-3*r*c;var p=d*c-9*r*l;var u=c*c-3*d*l;var f=0;if(i(h)&&i(p))if(i(d))s[0]=0;else{var _=-c/d;if(_>=0&&_<=1)s[f++]=_}else{var m=p*p-4*h*u;if(i(m)){var g=p/h;var _=-d/r+g;var b=-g/2;if(_>=0&&_<=1)s[f++]=_;if(b>=0&&b<=1)s[f++]=b}else if(m>0){var x=C(m);var w=h*d+1.5*r*(-p+x);var I=h*d+1.5*r*(-p-x);if(w<0)w=-v(-w,$);else w=v(w,$);if(I<0)I=-v(-I,$);else I=v(I,$);var _=(-d-(w+I))/(3*r);if(_>=0&&_<=1)s[f++]=_}else{var A=(2*h*d-3*r*p)/(2*C(h*h*h));var E=Math.acos(A)/3;var T=C(h);var N=Math.cos(E);var _=(-d-2*T*N)/(3*r);var b=(-d+T*(N+y*Math.sin(E)))/(3*r);var S=(-d+T*(N-y*Math.sin(E)))/(3*r);if(_>=0&&_<=1)s[f++]=_;if(b>=0&&b<=1)s[f++]=b;if(S>=0&&S<=1)s[f++]=S}}return f}function d(e,t,n,o,s){var r=6*n-12*t+6*e;var d=9*t+3*o-3*e-9*n;var c=3*t-3*e;var l=0;if(i(d)){if(a(r)){var h=-c/r;if(h>=0&&h<=1)s[l++]=h}}else{var p=r*r-4*d*c;if(i(p))s[0]=-r/(2*d);else if(p>0){var u=C(p);var h=(-r+u)/(2*d);var f=(-r-u)/(2*d);if(h>=0&&h<=1)s[l++]=h;if(f>=0&&f<=1)s[l++]=f}}return l}function c(e,t,n,i,a,o){var s=(t-e)*a+e;var r=(n-t)*a+t;var d=(i-n)*a+n;var c=(r-s)*a+s;var l=(d-r)*a+r;var h=(l-c)*a+c;o[0]=e;o[1]=s;o[2]=c;o[3]=h;o[4]=h;o[5]=l;o[6]=d;o[7]=i}function l(e,t,n,i,a,s,r,d,c,l,h){var p;var u=.005;var f=1/0;var _;var m;var g;var b;A[0]=c;A[1]=l;for(var v=0;v<1;v+=.05){E[0]=o(e,n,a,r,v);E[1]=o(t,i,s,d,v);g=x(A,E);if(g<f){p=v;f=g}}f=1/0;for(var w=0;w<32&&!(u<I);w++){_=p-u;m=p+u;E[0]=o(e,n,a,r,_);E[1]=o(t,i,s,d,_);g=x(E,A);if(_>=0&&g<f){p=_;f=g}else{T[0]=o(e,n,a,r,m);T[1]=o(t,i,s,d,m);b=x(T,A);if(m<=1&&b<f){p=m;f=b}else u*=.5}}if(h){h[0]=o(e,n,a,r,p);h[1]=o(t,i,s,d,p)}return C(f)}function h(e,t,n,i){var a=1-i;return a*(a*e+2*i*t)+i*i*n}function p(e,t,n,i){return 2*((1-i)*(t-e)+i*(n-t))}function u(e,t,n,o,s){var r=e-2*t+n;var d=2*(t-e);var c=e-o;var l=0;if(i(r)){if(a(d)){var h=-c/d;if(h>=0&&h<=1)s[l++]=h}}else{var p=d*d-4*r*c;if(i(p)){var h=-d/(2*r);if(h>=0&&h<=1)s[l++]=h}else if(p>0){var u=C(p);var h=(-d+u)/(2*r);var f=(-d-u)/(2*r);if(h>=0&&h<=1)s[l++]=h;if(f>=0&&f<=1)s[l++]=f}}return l}function f(e,t,n){var i=e+n-2*t;if(0===i)return.5;else return(e-t)/i}function _(e,t,n,i,a){var o=(t-e)*i+e;var s=(n-t)*i+t;var r=(s-o)*i+o;a[0]=e;a[1]=o;a[2]=r;a[3]=r;a[4]=s;a[5]=n}function m(e,t,n,i,a,o,s,r,d){var c;var l=.005;var p=1/0;A[0]=s;A[1]=r;for(var u=0;u<1;u+=.05){E[0]=h(e,n,a,u);E[1]=h(t,i,o,u);var f=x(A,E);if(f<p){c=u;p=f}}p=1/0;for(var _=0;_<32&&!(l<I);_++){var m=c-l;var g=c+l;E[0]=h(e,n,a,m);E[1]=h(t,i,o,m);var f=x(E,A);if(m>=0&&f<p){c=m;p=f}else{T[0]=h(e,n,a,g);T[1]=h(t,i,o,g);var b=x(T,A);if(g<=1&&b<p){c=g;p=b}else l*=.5}}if(d){d[0]=h(e,n,a,c);d[1]=h(t,i,o,c)}return C(p)}var g=n(10);var b=g.create;var x=g.distSquare;var v=Math.pow;var C=Math.sqrt;var w=1e-8;var I=1e-4;var y=C(3);var $=1/3;var A=b();var E=b();var T=b();e.exports={cubicAt:o,cubicDerivativeAt:s,cubicRootAt:r,cubicExtrema:d,cubicSubdivide:c,cubicProjectPoint:l,quadraticAt:h,quadraticDerivativeAt:p,quadraticRootAt:u,quadraticExtremum:f,quadraticSubdivide:_,quadraticProjectPoint:m}},function(e,t,n){var i=n(10);var a=n(50);var o={};var s=Math.min;var r=Math.max;var d=Math.sin;var c=Math.cos;var l=i.create();var h=i.create();var p=i.create();var u=2*Math.PI;o.fromPoints=function(e,t,n){if(0!==e.length){var i=e[0];var a=i[0];var o=i[0];var d=i[1];var c=i[1];var l;for(l=1;l<e.length;l++){i=e[l];a=s(a,i[0]);o=r(o,i[0]);d=s(d,i[1]);c=r(c,i[1])}t[0]=a;t[1]=d;n[0]=o;n[1]=c}};o.fromLine=function(e,t,n,i,a,o){a[0]=s(e,n);a[1]=s(t,i);o[0]=r(e,n);o[1]=r(t,i)};var f=[];var _=[];o.fromCubic=function(e,t,n,i,o,d,c,l,h,p){var u=a.cubicExtrema;var m=a.cubicAt;var g;var b=u(e,n,o,c,f);h[0]=1/0;h[1]=1/0;p[0]=-(1/0);p[1]=-(1/0);for(g=0;g<b;g++){var x=m(e,n,o,c,f[g]);h[0]=s(x,h[0]);p[0]=r(x,p[0])}b=u(t,i,d,l,_);for(g=0;g<b;g++){var v=m(t,i,d,l,_[g]);h[1]=s(v,h[1]);p[1]=r(v,p[1])}h[0]=s(e,h[0]);p[0]=r(e,p[0]);h[0]=s(c,h[0]);p[0]=r(c,p[0]);h[1]=s(t,h[1]);p[1]=r(t,p[1]);h[1]=s(l,h[1]);p[1]=r(l,p[1])};o.fromQuadratic=function(e,t,n,i,o,d,c,l){var h=a.quadraticExtremum;var p=a.quadraticAt;var u=r(s(h(e,n,o),1),0);var f=r(s(h(t,i,d),1),0);var _=p(e,n,o,u);var m=p(t,i,d,f);c[0]=s(e,o,_);c[1]=s(t,d,m);l[0]=r(e,o,_);l[1]=r(t,d,m)};o.fromArc=function(e,t,n,a,o,s,r,f,_){var m=i.min;var g=i.max;var b=Math.abs(o-s);if(!(b%u<1e-4&&b>1e-4)){l[0]=c(o)*n+e;l[1]=d(o)*a+t;h[0]=c(s)*n+e;h[1]=d(s)*a+t;m(f,l,h);g(_,l,h);o%=u;if(o<0)o+=u;s%=u;if(s<0)s+=u;if(o>s&&!r)s+=u;else if(o<s&&r)o+=u;if(r){var x=s;s=o;o=x}for(var v=0;v<s;v+=Math.PI/2)if(v>o){p[0]=c(v)*n+e;p[1]=d(v)*a+t;m(f,p,f);g(_,p,_)}}else{f[0]=e-n;f[1]=t-a;_[0]=e+n;_[1]=t+a}};e.exports=o},function(e,t,n){"use strict";function i(e,t){return Math.abs(e-t)<x}function a(){var e=C[0];C[0]=C[1];C[1]=e}function o(e,t,n,i,o,s,r,d,c,l){if(l>t&&l>i&&l>s&&l>d||l<t&&l<i&&l<s&&l<d)return 0;var h=_.cubicRootAt(t,i,s,d,l,v);if(0===h)return 0;else{var p=0;var u=-1;var f,m;for(var g=0;g<h;g++){var b=v[g];var x=0===b||1===b?.5:1;var w=_.cubicAt(e,n,o,r,b);if(!(w<c)){if(u<0){u=_.cubicExtrema(t,i,s,d,C);if(C[1]<C[0]&&u>1)a();f=_.cubicAt(t,i,s,d,C[0]);if(u>1)m=_.cubicAt(t,i,s,d,C[1])}if(2==u)if(b<C[0])p+=f<t?x:-x;else if(b<C[1])p+=m<f?x:-x;else p+=d<m?x:-x;else if(b<C[0])p+=f<t?x:-x;else p+=d<f?x:-x}else;}return p}}function s(e,t,n,i,a,o,s,r){if(r>t&&r>i&&r>o||r<t&&r<i&&r<o)return 0;var d=_.quadraticRootAt(t,i,o,r,v);if(0===d)return 0;else{var c=_.quadraticExtremum(t,i,o);if(c>=0&&c<=1){var l=0;var h=_.quadraticAt(t,i,o,c);for(var p=0;p<d;p++){var u=0===v[p]||1===v[p]?.5:1;var f=_.quadraticAt(e,n,a,v[p]);if(!(f<s))if(v[p]<c)l+=h<t?u:-u;else l+=o<h?u:-u;else;}return l}else{var u=0===v[0]||1===v[0]?.5:1;var f=_.quadraticAt(e,n,a,v[0]);if(f<s)return 0;else return o<t?u:-u}}}function r(e,t,n,i,a,o,s,r){r-=t;if(r>n||r<-n)return 0;var d=Math.sqrt(n*n-r*r);v[0]=-d;v[1]=d;var c=Math.abs(i-a);if(c<1e-4)return 0;if(c%b<1e-4){i=0;a=b;var l=o?1:-1;if(s>=v[0]+e&&s<=v[1]+e)return l;else return 0}if(o){var d=i;i=f(a);a=f(d)}else{i=f(i);a=f(a)}if(i>a)a+=b;var h=0;for(var p=0;p<2;p++){var u=v[p];if(u+e>s){var _=Math.atan2(r,u);var l=o?1:-1;if(_<0)_=b+_;if(_>=i&&_<=a||_+b>=i&&_+b<=a){if(_>Math.PI/2&&_<1.5*Math.PI)l=-l;h+=l}}}return h}function d(e,t,n,a,d){var l=0;var f=0;var _=0;var b=0;var x=0;for(var v=0;v<e.length;){var C=e[v++];if(C===c.M&&v>1)if(!n)l+=m(f,_,b,x,a,d);if(1==v){f=e[v];_=e[v+1];b=f;x=_}switch(C){case c.M:b=e[v++];x=e[v++];f=b;_=x;break;case c.L:if(n){if(g(f,_,e[v],e[v+1],t,a,d))return!0}else l+=m(f,_,e[v],e[v+1],a,d)||0;f=e[v++];_=e[v++];break;case c.C:if(n){if(h.containStroke(f,_,e[v++],e[v++],e[v++],e[v++],e[v],e[v+1],t,a,d))return!0}else l+=o(f,_,e[v++],e[v++],e[v++],e[v++],e[v],e[v+1],a,d)||0;f=e[v++];_=e[v++];break;case c.Q:if(n){if(p.containStroke(f,_,e[v++],e[v++],e[v],e[v+1],t,a,d))return!0}else l+=s(f,_,e[v++],e[v++],e[v],e[v+1],a,d)||0;f=e[v++];_=e[v++];break;case c.A:var w=e[v++];var I=e[v++];var y=e[v++];var $=e[v++];var A=e[v++];var E=e[v++];var T=e[v++];var N=1-e[v++];var S=Math.cos(A)*y+w;var k=Math.sin(A)*$+I;if(v>1)l+=m(f,_,S,k,a,d);else{b=S;x=k}var D=(a-w)*$/y+w;if(n){if(u.containStroke(w,I,$,A,A+E,N,t,D,d))return!0}else l+=r(w,I,$,A,A+E,N,D,d);f=Math.cos(A+E)*y+w;_=Math.sin(A+E)*$+I;break;case c.R:b=f=e[v++];x=_=e[v++];var U=e[v++];var z=e[v++];var S=b+U;var k=x+z;if(n){if(g(b,x,S,x,t,a,d)||g(S,x,S,k,t,a,d)||g(S,k,b,k,t,a,d)||g(b,k,b,x,t,a,d))return!0}else{l+=m(S,x,S,k,a,d);l+=m(b,k,b,x,a,d)}break;case c.Z:if(n){if(g(f,_,b,x,t,a,d))return!0}else l+=m(f,_,b,x,a,d);f=b;_=x}}if(!n&&!i(_,x))l+=m(f,_,b,x,a,d)||0;return 0!==l}var c=n(49).CMD;var l=n(53);var h=n(54);var p=n(55);var u=n(56);var f=n(57).normalizeRadian;var _=n(50);var m=n(58);var g=l.containStroke;var b=2*Math.PI;var x=1e-4;var v=[-1,-1,-1];var C=[-1,-1];e.exports={contain:function(e,t,n){return d(e,0,!1,t,n)},containStroke:function(e,t,n,i){return d(e,t,!0,n,i)}}},function(e,t){e.exports={containStroke:function(e,t,n,i,a,o,s){if(0===a)return!1;var r=a;var d=0;var c=e;if(s>t+r&&s>i+r||s<t-r&&s<i-r||o>e+r&&o>n+r||o<e-r&&o<n-r)return!1;if(e!==n){d=(t-i)/(e-n);c=(e*i-n*t)/(e-n)}else return Math.abs(o-e)<=r/2;var l=d*o-s+c;var h=l*l/(d*d+1);return h<=r/2*r/2}}},function(e,t,n){var i=n(50);e.exports={containStroke:function(e,t,n,a,o,s,r,d,c,l,h){if(0===c)return!1;var p=c;if(h>t+p&&h>a+p&&h>s+p&&h>d+p||h<t-p&&h<a-p&&h<s-p&&h<d-p||l>e+p&&l>n+p&&l>o+p&&l>r+p||l<e-p&&l<n-p&&l<o-p&&l<r-p)return!1;var u=i.cubicProjectPoint(e,t,n,a,o,s,r,d,l,h,null);return u<=p/2}}},function(e,t,n){var i=n(50);e.exports={containStroke:function(e,t,n,a,o,s,r,d,c){if(0===r)return!1;var l=r;if(c>t+l&&c>a+l&&c>s+l||c<t-l&&c<a-l&&c<s-l||d>e+l&&d>n+l&&d>o+l||d<e-l&&d<n-l&&d<o-l)return!1;var h=i.quadraticProjectPoint(e,t,n,a,o,s,d,c,null);return h<=l/2}}},function(e,t,n){var i=n(57).normalizeRadian;var a=2*Math.PI;e.exports={containStroke:function(e,t,n,o,s,r,d,c,l){if(0===d)return!1;var h=d;c-=e;l-=t;var p=Math.sqrt(c*c+l*l);if(p-h>n||p+h<n)return!1;if(Math.abs(o-s)%a<1e-4)return!0;if(r){var u=o;o=i(s);s=i(u)}else{o=i(o);s=i(s)}if(o>s)s+=a;var f=Math.atan2(l,c);if(f<0)f+=a;return f>=o&&f<=s||f+a>=o&&f+a<=s}}},function(e,t){var n=2*Math.PI;e.exports={normalizeRadian:function(e){e%=n;if(e<0)e+=n;return e}}},function(e,t){e.exports=function n(e,t,i,a,o,s){if(s>t&&s>a||s<t&&s<a)return 0;
if(a===t)return 0;var r=a<t?1:-1;var d=(s-t)/(a-t);if(1===d||0===d)r=a<t?.5:-.5;var c=d*(i-e)+e;return c>o?r:0}},function(e,t){var n=function(e,t){this.image=e;this.repeat=t;this.type="pattern"};n.prototype.getCanvasPattern=function(e){return this._canvasPattern||(this._canvasPattern=e.createPattern(this.image,this.repeat))};e.exports=n},function(e,t,n){function i(e,t){var n=e.data;var i;var o;var l;var h;var p;var u;var f=a.M;var _=a.C;var m=a.L;var g=a.R;var b=a.A;var x=a.Q;for(l=0,h=0;l<n.length;){i=n[l++];h=l;o=0;switch(i){case f:o=1;break;case m:o=1;break;case _:o=3;break;case x:o=2;break;case b:var v=t[4];var C=t[5];var w=d(t[0]*t[0]+t[1]*t[1]);var I=d(t[2]*t[2]+t[3]*t[3]);var y=c(-t[1]/I,t[0]/w);n[l++]+=v;n[l++]+=C;n[l++]*=w;n[l++]*=I;n[l++]+=y;n[l++]+=y;l+=2;h=l;break;case g:u[0]=n[l++];u[1]=n[l++];s(u,u,t);n[h++]=u[0];n[h++]=u[1];u[0]+=n[l++];u[1]+=n[l++];s(u,u,t);n[h++]=u[0];n[h++]=u[1]}for(p=0;p<o;p++){var u=r[p];u[0]=n[l++];u[1]=n[l++];s(u,u,t);n[h++]=u[0];n[h++]=u[1]}}}var a=n(49).CMD;var o=n(10);var s=o.applyTransform;var r=[[],[],[]];var d=Math.sqrt;var c=Math.atan2;e.exports=i},function(e,t){var n=function(e){this.colorStops=e||[]};n.prototype={constructor:n,addColorStop:function(e,t){this.colorStops.push({offset:e,color:t})}};e.exports=n},function(e,t,n){function i(e){a.call(this,e)}var a=n(46);var o=n(9);var s=n(4);var r=n(63);var d=new r(50);i.prototype={constructor:i,type:"image",brush:function(e,t){var n=this.style;var i=n.image;var a;n.bind(e,this,t);if("string"==typeof i)a=this._image;else a=i;if(!a&&i){var o=d.get(i);if(!o){a=new Image;a.onload=function(){a.onload=null;for(var e=0;e<o.pending.length;e++)o.pending[e].dirty()};o={image:a,pending:[this]};a.src=i;d.put(i,o);this._image=a;return}else{a=o.image;this._image=a;if(!a.width||!a.height){o.pending.push(this);return}}}if(a){var s=n.width||a.width;var r=n.height||a.height;var c=n.x||0;var l=n.y||0;if(!a.width||!a.height)return;this.setTransform(e);if(n.sWidth&&n.sHeight){var h=n.sx||0;var p=n.sy||0;e.drawImage(a,h,p,n.sWidth,n.sHeight,c,l,s,r)}else if(n.sx&&n.sy){var h=n.sx;var p=n.sy;var u=s-h;var f=r-p;e.drawImage(a,h,p,u,f,c,l,s,r)}else e.drawImage(a,c,l,s,r);if(null==n.width)n.width=s;if(null==n.height)n.height=r;this.restoreTransform(e);if(null!=n.text)this.drawRectText(e,this.getBoundingRect())}},getBoundingRect:function(){var e=this.style;if(!this._rect)this._rect=new o(e.x||0,e.y||0,e.width||0,e.height||0);return this._rect}};s.inherits(i,a);e.exports=i},function(e,t){var n=function(){this.head=null;this.tail=null;this._len=0};var i=n.prototype;i.insert=function(e){var t=new a(e);this.insertEntry(t);return t};i.insertEntry=function(e){if(!this.head)this.head=this.tail=e;else{this.tail.next=e;e.prev=this.tail;this.tail=e}this._len++};i.remove=function(e){var t=e.prev;var n=e.next;if(t)t.next=n;else this.head=n;if(n)n.prev=t;else this.tail=t;e.next=e.prev=null;this._len--};i.len=function(){return this._len};var a=function(e){this.value=e;this.next;this.prev};var o=function(e){this._list=new n;this._map={};this._maxSize=e||10};var s=o.prototype;s.put=function(e,t){var n=this._list;var i=this._map;if(null==i[e]){var a=n.len();if(a>=this._maxSize&&a>0){var o=n.head;n.remove(o);delete i[o.key]}var s=n.insert(t);s.key=e;i[e]=s}};s.get=function(e){var t=this._map[e];var n=this._list;if(null!=t){if(t!==n.tail){n.remove(t);n.insertEntry(t)}return t.value}};s.clear=function(){this._list.clear();this._map={}};e.exports=o},function(e,t,n){var i=n(46);var a=n(4);var o=n(8);var s=function(e){i.call(this,e)};s.prototype={constructor:s,type:"text",brush:function(e,t){var n=this.style;var i=n.x||0;var a=n.y||0;var s=n.text;null!=s&&(s+="");n.bind(e,this,t);if(s){this.setTransform(e);var r;var d=n.textAlign;var c=n.textFont||n.font;if(n.textVerticalAlign){var l=o.getBoundingRect(s,c,n.textAlign,"top");r="middle";switch(n.textVerticalAlign){case"middle":a-=l.height/2-l.lineHeight/2;break;case"bottom":a-=l.height-l.lineHeight/2;break;default:a+=l.lineHeight/2}}else r=n.textBaseline;e.font=c||"12px sans-serif";e.textAlign=d||"left";if(e.textAlign!==d)e.textAlign="left";e.textBaseline=r||"alphabetic";if(e.textBaseline!==r)e.textBaseline="alphabetic";var h=o.measureText("国",e.font).width;var p=s.split("\n");for(var u=0;u<p.length;u++){n.hasFill()&&e.fillText(p[u],i,a);n.hasStroke()&&e.strokeText(p[u],i,a);a+=h}this.restoreTransform(e)}},getBoundingRect:function(){if(!this._rect){var e=this.style;var t=e.textVerticalAlign;var n=o.getBoundingRect(e.text+"",e.textFont||e.font,e.textAlign,t?"top":e.textBaseline);switch(t){case"middle":n.y-=n.height/2;break;case"bottom":n.y-=n.height}n.x+=e.x||0;n.y+=e.y||0;this._rect=n}return this._rect}};a.inherits(s,i);e.exports=s},function(e,t,n){"use strict";e.exports=n(45).extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(e,t,n){if(n)e.moveTo(t.cx+t.r,t.cy);e.arc(t.cx,t.cy,t.r,0,2*Math.PI,!0)}})},function(e,t,n){e.exports=n(45).extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},buildPath:function(e,t){var n=t.cx;var i=t.cy;var a=Math.max(t.r0||0,0);var o=Math.max(t.r,0);var s=t.startAngle;var r=t.endAngle;var d=t.clockwise;var c=Math.cos(s);var l=Math.sin(s);e.moveTo(c*a+n,l*a+i);e.lineTo(c*o+n,l*o+i);e.arc(n,i,o,s,r,!d);e.lineTo(Math.cos(r)*a+n,Math.sin(r)*a+i);if(0!==a)e.arc(n,i,a,r,s,d);e.closePath()}})},function(e,t,n){e.exports=n(45).extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(e,t){var n=t.cx;var i=t.cy;var a=2*Math.PI;e.moveTo(n+t.r,i);e.arc(n,i,t.r,0,a,!1);e.moveTo(n+t.r0,i);e.arc(n,i,t.r0,0,a,!0)}})},function(e,t,n){var i=n(69);e.exports=n(45).extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(e,t){i.buildPath(e,t,!0)}})},function(e,t,n){var i=n(70);var a=n(71);e.exports={buildPath:function(e,t,n){var o=t.points;var s=t.smooth;if(o&&o.length>=2){if(s&&"spline"!==s){var r=a(o,s,n,t.smoothConstraint);e.moveTo(o[0][0],o[0][1]);var d=o.length;for(var c=0;c<(n?d:d-1);c++){var l=r[2*c];var h=r[2*c+1];var p=o[(c+1)%d];e.bezierCurveTo(l[0],l[1],h[0],h[1],p[0],p[1])}}else{if("spline"===s)o=i(o,n);e.moveTo(o[0][0],o[0][1]);for(var c=1,u=o.length;c<u;c++)e.lineTo(o[c][0],o[c][1])}n&&e.closePath()}}}},function(e,t,n){function i(e,t,n,i,a,o,s){var r=.5*(n-e);var d=.5*(i-t);return(2*(t-n)+r+d)*s+(-3*(t-n)-2*r-d)*o+r*a+t}var a=n(10);e.exports=function(e,t){var n=e.length;var o=[];var s=0;for(var r=1;r<n;r++)s+=a.distance(e[r-1],e[r]);var d=s/2;d=d<n?n:d;for(var r=0;r<d;r++){var c=r/(d-1)*(t?n:n-1);var l=Math.floor(c);var h=c-l;var p;var u=e[l%n];var f;var _;if(!t){p=e[0===l?l:l-1];f=e[l>n-2?n-1:l+1];_=e[l>n-3?n-1:l+2]}else{p=e[(l-1+n)%n];f=e[(l+1)%n];_=e[(l+2)%n]}var m=h*h;var g=h*m;o.push([i(p[0],u[0],f[0],_[0],h,m,g),i(p[1],u[1],f[1],_[1],h,m,g)])}return o}},function(e,t,n){var i=n(10);var a=i.min;var o=i.max;var s=i.scale;var r=i.distance;var d=i.add;e.exports=function(e,t,n,c){var l=[];var h=[];var p=[];var u=[];var f;var _;var m,g;if(c){m=[1/0,1/0];g=[-(1/0),-(1/0)];for(var b=0,x=e.length;b<x;b++){a(m,m,e[b]);o(g,g,e[b])}a(m,m,c[0]);o(g,g,c[1])}for(var b=0,x=e.length;b<x;b++){var v=e[b];if(n){f=e[b?b-1:x-1];_=e[(b+1)%x]}else if(0===b||b===x-1){l.push(i.clone(e[b]));continue}else{f=e[b-1];_=e[b+1]}i.sub(h,_,f);s(h,h,t);var C=r(v,f);var w=r(v,_);var I=C+w;if(0!==I){C/=I;w/=I}s(p,h,-C);s(u,h,w);var y=d([],v,p);var $=d([],v,u);if(c){o(y,y,m);a(y,y,g);o($,$,m);a($,$,g)}l.push(y);l.push($)}if(n)l.push(l.shift());return l}},function(e,t,n){var i=n(69);e.exports=n(45).extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(e,t){i.buildPath(e,t,!1)}})},function(e,t,n){var i=n(74);e.exports=n(45).extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(e,t){var n=t.x;var a=t.y;var o=t.width;var s=t.height;if(!t.r)e.rect(n,a,o,s);else i.buildPath(e,t);e.closePath()}})},function(e,t){e.exports={buildPath:function(e,t){var n=t.x;var i=t.y;var a=t.width;var o=t.height;var s=t.r;var r;var d;var c;var l;if(a<0){n+=a;a=-a}if(o<0){i+=o;o=-o}if("number"==typeof s)r=d=c=l=s;else if(s instanceof Array)if(1===s.length)r=d=c=l=s[0];else if(2===s.length){r=c=s[0];d=l=s[1]}else if(3===s.length){r=s[0];d=l=s[1];c=s[2]}else{r=s[0];d=s[1];c=s[2];l=s[3]}else r=d=c=l=0;var h;if(r+d>a){h=r+d;r*=a/h;d*=a/h}if(c+l>a){h=c+l;c*=a/h;l*=a/h}if(d+c>o){h=d+c;d*=o/h;c*=o/h}if(r+l>o){h=r+l;r*=o/h;l*=o/h}e.moveTo(n+r,i);e.lineTo(n+a-d,i);0!==d&&e.quadraticCurveTo(n+a,i,n+a,i+d);e.lineTo(n+a,i+o-c);0!==c&&e.quadraticCurveTo(n+a,i+o,n+a-c,i+o);e.lineTo(n+l,i+o);0!==l&&e.quadraticCurveTo(n,i+o,n,i+o-l);e.lineTo(n,i+r);0!==r&&e.quadraticCurveTo(n,i,n+r,i)}}},function(e,t,n){e.exports=n(45).extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(e,t){var n=t.x1;var i=t.y1;var a=t.x2;var o=t.y2;var s=t.percent;if(0!==s){e.moveTo(n,i);if(s<1){a=n*(1-s)+a*s;o=i*(1-s)+o*s}e.lineTo(a,o)}},pointAt:function(e){var t=this.shape;return[t.x1*(1-e)+t.x2*e,t.y1*(1-e)+t.y2*e]}})},function(e,t,n){"use strict";function i(e,t,n){var i=e.cpx2;var a=e.cpy2;if(null===i||null===a)return[(n?h:c)(e.x1,e.cpx1,e.cpx2,e.x2,t),(n?h:c)(e.y1,e.cpy1,e.cpy2,e.y2,t)];else return[(n?l:d)(e.x1,e.cpx1,e.x2,t),(n?l:d)(e.y1,e.cpy1,e.y2,t)]}var a=n(50);var o=n(10);var s=a.quadraticSubdivide;var r=a.cubicSubdivide;var d=a.quadraticAt;var c=a.cubicAt;var l=a.quadraticDerivativeAt;var h=a.cubicDerivativeAt;var p=[];e.exports=n(45).extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(e,t){var n=t.x1;var i=t.y1;var a=t.x2;var o=t.y2;var d=t.cpx1;var c=t.cpy1;var l=t.cpx2;var h=t.cpy2;var u=t.percent;if(0!==u){e.moveTo(n,i);if(null==l||null==h){if(u<1){s(n,d,a,u,p);d=p[1];a=p[2];s(i,c,o,u,p);c=p[1];o=p[2]}e.quadraticCurveTo(d,c,a,o)}else{if(u<1){r(n,d,l,a,u,p);d=p[1];l=p[2];a=p[3];r(i,c,h,o,u,p);c=p[1];h=p[2];o=p[3]}e.bezierCurveTo(d,c,l,h,a,o)}}},pointAt:function(e){return i(this.shape,e,!1);
},tangentAt:function(e){var t=i(this.shape,e,!0);return o.normalize(t,t)}})},function(e,t,n){e.exports=n(45).extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(e,t){var n=t.cx;var i=t.cy;var a=Math.max(t.r,0);var o=t.startAngle;var s=t.endAngle;var r=t.clockwise;var d=Math.cos(o);var c=Math.sin(o);e.moveTo(d*a+n,c*a+i);e.arc(n,i,a,o,s,!r)}})},function(e,t,n){var i=n(45);e.exports=i.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){var e=this.__dirtyPath;var t=this.shape.paths;for(var n=0;n<t.length;n++)e=e||t[n].__dirtyPath;this.__dirtyPath=e;this.__dirty=this.__dirty||e},beforeBrush:function(){this._updatePathDirty();var e=this.shape.paths||[];var t=this.getGlobalScale();for(var n=0;n<e.length;n++)e[n].path.setScale(t[0],t[1])},buildPath:function(e,t){var n=t.paths||[];for(var i=0;i<n.length;i++)n[i].buildPath(e,n[i].shape,!0)},afterBrush:function(){var e=this.shape.paths;for(var t=0;t<e.length;t++)e[t].__dirtyPath=!1},getBoundingRect:function(){this._updatePathDirty();return i.prototype.getBoundingRect.call(this)}})},function(e,t,n){"use strict";var i=n(4);var a=n(61);var o=function(e,t,n,i,o,s){this.x=null==e?0:e;this.y=null==t?0:t;this.x2=null==n?1:n;this.y2=null==i?0:i;this.type="linear";this.global=s||!1;a.call(this,o)};o.prototype={constructor:o};i.inherits(o,a);e.exports=o},function(e,t,n){"use strict";var i=n(4);var a=n(61);var o=function(e,t,n,i,o){this.x=null==e?.5:e;this.y=null==t?.5:t;this.r=null==n?.5:n;this.type="radial";this.global=o||!1;a.call(this,i)};o.prototype={constructor:o};i.inherits(o,a);e.exports=o},function(e,t,n){function i(e){delete p[e]}var a=n(32);var o=n(2);var s=n(82);var r=n(84);var d=n(86);var c=n(89);var l=!o.canvasSupported;var h={canvas:n(91)};var p={};var u={};u.version="3.1.3";u.init=function(e,t){var n=new f(a(),e,t);p[n.id]=n;return n};u.dispose=function(e){if(e)e.dispose();else{for(var t in p)p[t].dispose();p={}}return u};u.getInstance=function(e){return p[e]};u.registerPainter=function(e,t){h[e]=t};var f=function(e,t,n){n=n||{};this.dom=t;this.id=e;var i=this;var a=new r;var p=n.renderer;if(l){if(!h.vml)throw new Error("You need to require 'zrender/vml/vml' to support IE8");p="vml"}else if(!p||!h[p])p="canvas";var u=new h[p](t,a,n);this.storage=a;this.painter=u;var f=!o.node?new c(u.getViewportRoot()):null;this.handler=new s(a,u,f);this.animation=new d({stage:{update:function(){if(i._needsRefresh)i.refreshImmediately();if(i._needsRefreshHover)i.refreshHoverImmediately()}}});this.animation.start();this._needsRefresh;var _=a.delFromMap;var m=a.addToMap;a.delFromMap=function(e){var t=a.get(e);_.call(a,e);t&&t.removeSelfFromZr(i)};a.addToMap=function(e){m.call(a,e);e.addSelfToZr(i)}};f.prototype={constructor:f,getId:function(){return this.id},add:function(e){this.storage.addRoot(e);this._needsRefresh=!0},remove:function(e){this.storage.delRoot(e);this._needsRefresh=!0},configLayer:function(e,t){this.painter.configLayer(e,t);this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=!1;this.painter.refresh();this._needsRefresh=!1},refresh:function(){this._needsRefresh=!0},addHover:function(e,t){if(this.painter.addHover){this.painter.addHover(e,t);this.refreshHover()}},removeHover:function(e){if(this.painter.removeHover){this.painter.removeHover(e);this.refreshHover()}},clearHover:function(){if(this.painter.clearHover){this.painter.clearHover();this.refreshHover()}},refreshHover:function(){this._needsRefreshHover=!0},refreshHoverImmediately:function(){this._needsRefreshHover=!1;this.painter.refreshHover&&this.painter.refreshHover()},resize:function(){this.painter.resize();this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(e,t,n){var i=a();return this.painter.pathToImage(i,e,t,n)},setCursorStyle:function(e){this.handler.setCursorStyle(e)},on:function(e,t,n){this.handler.on(e,t,n)},off:function(e,t){this.handler.off(e,t)},trigger:function(e,t){this.handler.trigger(e,t)},clear:function(){this.storage.delRoot();this.painter.clear()},dispose:function(){this.animation.stop();this.clear();this.storage.dispose();this.painter.dispose();this.handler.dispose();this.animation=this.storage=this.painter=this.handler=null;i(this.id)}};e.exports=u},function(e,t,n){"use strict";function i(e,t,n){return{type:e,event:n,target:t,cancelBubble:!1,offsetX:n.zrX,offsetY:n.zrY,gestureEvent:n.gestureEvent,pinchX:n.pinchX,pinchY:n.pinchY,pinchScale:n.pinchScale,wheelDelta:n.zrDelta}}function a(){}function o(e,t,n){if(e[e.rectHover?"rectContain":"contain"](t,n)){var i=e;for(;i;){if(i.silent||i.clipPath&&!i.clipPath.contain(t,n))return!1;i=i.parent}return!0}return!1}var s=n(4);var r=n(83);var d=n(33);a.prototype.dispose=function(){};var c=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove"];var l=function(e,t,n){d.call(this);this.storage=e;this.painter=t;n=n||new a;this.proxy=n;n.handler=this;this._hovered;this._lastTouchMoment;this._lastX;this._lastY;r.call(this);s.each(c,function(e){n.on&&n.on(e,this[e],this)},this)};l.prototype={constructor:l,mousemove:function(e){var t=e.zrX;var n=e.zrY;var i=this.findHover(t,n,null);var a=this._hovered;var o=this.proxy;this._hovered=i;o.setCursor&&o.setCursor(i?i.cursor:"default");if(a&&i!==a&&a.__zr)this.dispatchToElement(a,"mouseout",e);this.dispatchToElement(i,"mousemove",e);if(i&&i!==a)this.dispatchToElement(i,"mouseover",e)},mouseout:function(e){this.dispatchToElement(this._hovered,"mouseout",e);this.trigger("globalout",{event:e})},resize:function(e){this._hovered=null},dispatch:function(e,t){var n=this[e];n&&n.call(this,t)},dispose:function(){this.proxy.dispose();this.storage=this.proxy=this.painter=null},setCursorStyle:function(e){var t=this.proxy;t.setCursor&&t.setCursor(e)},dispatchToElement:function(e,t,n){var a="on"+t;var o=i(t,e,n);var s=e;for(;s;){s[a]&&(o.cancelBubble=s[a].call(s,o));s.trigger(t,o);s=s.parent;if(o.cancelBubble)break}if(!o.cancelBubble){this.trigger(t,o);this.painter&&this.painter.eachOtherLayer(function(e){if("function"==typeof e[a])e[a].call(e,o);if(e.trigger)e.trigger(t,o)})}},findHover:function(e,t,n){var i=this.storage.getDisplayList();for(var a=i.length-1;a>=0;a--)if(!i[a].silent&&i[a]!==n&&!i[a].ignore&&o(i[a],e,t))return i[a]}};s.each(["click","mousedown","mouseup","mousewheel","dblclick"],function(e){l.prototype[e]=function(t){var n=this.findHover(t.zrX,t.zrY,null);if("mousedown"===e){this._downel=n;this._upel=n}else if("mosueup"===e)this._upel=n;else if("click"===e)if(this._downel!==this._upel)return;this.dispatchToElement(n,e,t)}});s.mixin(l,d);s.mixin(l,r);e.exports=l},function(e,t){function n(){this.on("mousedown",this._dragStart,this);this.on("mousemove",this._drag,this);this.on("mouseup",this._dragEnd,this);this.on("globalout",this._dragEnd,this)}n.prototype={constructor:n,_dragStart:function(e){var t=e.target;if(t&&t.draggable){this._draggingTarget=t;t.dragging=!0;this._x=e.offsetX;this._y=e.offsetY;this.dispatchToElement(t,"dragstart",e.event)}},_drag:function(e){var t=this._draggingTarget;if(t){var n=e.offsetX;var i=e.offsetY;var a=n-this._x;var o=i-this._y;this._x=n;this._y=i;t.drift(a,o,e);this.dispatchToElement(t,"drag",e.event);var s=this.findHover(n,i,t);var r=this._dropTarget;this._dropTarget=s;if(t!==s){if(r&&s!==r)this.dispatchToElement(r,"dragleave",e.event);if(s&&s!==r)this.dispatchToElement(s,"dragenter",e.event)}}},_dragEnd:function(e){var t=this._draggingTarget;if(t)t.dragging=!1;this.dispatchToElement(t,"dragend",e.event);if(this._dropTarget)this.dispatchToElement(this._dropTarget,"drop",e.event);this._draggingTarget=null;this._dropTarget=null}};e.exports=n},function(e,t,n){"use strict";function i(e,t){if(e.zlevel===t.zlevel)if(e.z===t.z)return e.z2-t.z2;else return e.z-t.z;return e.zlevel-t.zlevel}var a=n(4);var o=n(2);var s=n(30);var r=n(85);var d=function(){this._elements={};this._roots=[];this._displayList=[];this._displayListLen=0};d.prototype={constructor:d,traverse:function(e,t){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(e,t)},getDisplayList:function(e,t){t=t||!1;if(e)this.updateDisplayList(t);return this._displayList},updateDisplayList:function(e){this._displayListLen=0;var t=this._roots;var n=this._displayList;for(var a=0,s=t.length;a<s;a++)this._updateAndAddDisplayable(t[a],null,e);n.length=this._displayListLen;o.canvasSupported&&r(n,i)},_updateAndAddDisplayable:function(e,t,n){if(!e.ignore||n){e.beforeUpdate();if(e.__dirty)e.update();e.afterUpdate();var i=e.clipPath;if(i){i.parent=e;i.updateTransform();if(t){t=t.slice();t.push(i)}else t=[i]}if(e.isGroup){var a=e._children;for(var o=0;o<a.length;o++){var s=a[o];if(e.__dirty)s.__dirty=!0;this._updateAndAddDisplayable(s,t,n)}e.__dirty=!1}else{e.__clipPaths=t;this._displayList[this._displayListLen++]=e}}},addRoot:function(e){if(!this._elements[e.id]){if(e instanceof s)e.addChildrenToStorage(this);this.addToMap(e);this._roots.push(e)}},delRoot:function(e){if(null!=e)if(!(e instanceof Array)){var t;if("string"==typeof e)t=this._elements[e];else t=e;var n=a.indexOf(this._roots,t);if(n>=0){this.delFromMap(t.id);this._roots.splice(n,1);if(t instanceof s)t.delChildrenFromStorage(this)}}else for(var i=0,o=e.length;i<o;i++)this.delRoot(e[i]);else{for(var i=0;i<this._roots.length;i++){var r=this._roots[i];if(r instanceof s)r.delChildrenFromStorage(this)}this._elements={};this._roots=[];this._displayList=[];this._displayListLen=0}},addToMap:function(e){if(e instanceof s)e.__storage=this;e.dirty(!1);this._elements[e.id]=e;return this},get:function(e){return this._elements[e]},delFromMap:function(e){var t=this._elements;var n=t[e];if(n){delete t[e];if(n instanceof s)n.__storage=null}return this},dispose:function(){this._elements=this._renderList=this._roots=null},displayableSortFunc:i};e.exports=d},function(e,t){function n(e){var t=0;for(;e>=l;){t|=1&e;
e>>=1}return e+t}function i(e,t,n,i){var o=t+1;if(o===n)return 1;if(i(e[o++],e[t])<0){for(;o<n&&i(e[o],e[o-1])<0;)o++;a(e,t,o)}else for(;o<n&&i(e[o],e[o-1])>=0;)o++;return o-t}function a(e,t,n){n--;for(;t<n;){var i=e[t];e[t++]=e[n];e[n--]=i}}function o(e,t,n,i,a){if(i===t)i++;for(;i<n;i++){var o=e[i];var s=t;var r=i;var d;for(;s<r;){d=s+r>>>1;if(a(o,e[d])<0)r=d;else s=d+1}var c=i-s;switch(c){case 3:e[s+3]=e[s+2];case 2:e[s+2]=e[s+1];case 1:e[s+1]=e[s];break;default:for(;c>0;){e[s+c]=e[s+c-1];c--}}e[s]=o}}function s(e,t,n,i,a,o){var s=0;var r=0;var d=1;if(o(e,t[n+a])>0){r=i-a;for(;d<r&&o(e,t[n+a+d])>0;){s=d;d=(d<<1)+1;if(d<=0)d=r}if(d>r)d=r;s+=a;d+=a}else{r=a+1;for(;d<r&&o(e,t[n+a-d])<=0;){s=d;d=(d<<1)+1;if(d<=0)d=r}if(d>r)d=r;var c=s;s=a-d;d=a-c}s++;for(;s<d;){var l=s+(d-s>>>1);if(o(e,t[n+l])>0)s=l+1;else d=l}return d}function r(e,t,n,i,a,o){var s=0;var r=0;var d=1;if(o(e,t[n+a])<0){r=a+1;for(;d<r&&o(e,t[n+a-d])<0;){s=d;d=(d<<1)+1;if(d<=0)d=r}if(d>r)d=r;var c=s;s=a-d;d=a-c}else{r=i-a;for(;d<r&&o(e,t[n+a+d])>=0;){s=d;d=(d<<1)+1;if(d<=0)d=r}if(d>r)d=r;s+=a;d+=a}s++;for(;s<d;){var l=s+(d-s>>>1);if(o(e,t[n+l])<0)d=l;else s=l+1}return d}function d(e,t){function n(e,t){m[b]=e;g[b]=t;b+=1}function i(){for(;b>1;){var e=b-2;if(e>=1&&g[e-1]<=g[e]+g[e+1]||e>=2&&g[e-2]<=g[e]+g[e-1]){if(g[e-1]<g[e+1])e--}else if(g[e]>g[e+1])break;o(e)}}function a(){for(;b>1;){var e=b-2;if(e>0&&g[e-1]<g[e+1])e--;o(e)}}function o(n){var i=m[n];var a=g[n];var o=m[n+1];var l=g[n+1];g[n]=a+l;if(n===b-3){m[n+1]=m[n+2];g[n+1]=g[n+2]}b--;var h=r(e[o],e,i,a,0,t);i+=h;a-=h;if(0!==a){l=s(e[i+a-1],e,o,l,l-1,t);if(0!==l)if(a<=l)d(i,a,o,l);else c(i,a,o,l)}}function d(n,i,a,o){var d=0;for(d=0;d<i;d++)x[d]=e[n+d];var c=0;var p=a;var u=n;e[u++]=e[p++];if(0!==--o)if(1!==i){var f=l;var _,m,g;for(;;){_=0;m=0;g=!1;do if(t(e[p],x[c])<0){e[u++]=e[p++];m++;_=0;if(0===--o){g=!0;break}}else{e[u++]=x[c++];_++;m=0;if(1===--i){g=!0;break}}while((_|m)<f);if(g)break;do{_=r(e[p],x,c,i,0,t);if(0!==_){for(d=0;d<_;d++)e[u+d]=x[c+d];u+=_;c+=_;i-=_;if(i<=1){g=!0;break}}e[u++]=e[p++];if(0===--o){g=!0;break}m=s(x[c],e,p,o,0,t);if(0!==m){for(d=0;d<m;d++)e[u+d]=e[p+d];u+=m;p+=m;o-=m;if(0===o){g=!0;break}}e[u++]=x[c++];if(1===--i){g=!0;break}f--}while(_>=h||m>=h);if(g)break;if(f<0)f=0;f+=2}l=f;l<1&&(l=1);if(1===i){for(d=0;d<o;d++)e[u+d]=e[p+d];e[u+o]=x[c]}else if(0===i)throw new Error;else for(d=0;d<i;d++)e[u+d]=x[c+d]}else{for(d=0;d<o;d++)e[u+d]=e[p+d];e[u+o]=x[c]}else for(d=0;d<i;d++)e[u+d]=x[c+d]}function c(n,i,a,o){var d=0;for(d=0;d<o;d++)x[d]=e[a+d];var c=n+i-1;var p=o-1;var u=a+o-1;var f=0;var _=0;e[u--]=e[c--];if(0!==--i)if(1!==o){var m=l;for(;;){var g=0;var b=0;var v=!1;do if(t(x[p],e[c])<0){e[u--]=e[c--];g++;b=0;if(0===--i){v=!0;break}}else{e[u--]=x[p--];b++;g=0;if(1===--o){v=!0;break}}while((g|b)<m);if(v)break;do{g=i-r(x[p],e,n,i,i-1,t);if(0!==g){u-=g;c-=g;i-=g;_=u+1;f=c+1;for(d=g-1;d>=0;d--)e[_+d]=e[f+d];if(0===i){v=!0;break}}e[u--]=x[p--];if(1===--o){v=!0;break}b=o-s(e[c],x,0,o,o-1,t);if(0!==b){u-=b;p-=b;o-=b;_=u+1;f=p+1;for(d=0;d<b;d++)e[_+d]=x[f+d];if(o<=1){v=!0;break}}e[u--]=e[c--];if(0===--i){v=!0;break}m--}while(g>=h||b>=h);if(v)break;if(m<0)m=0;m+=2}l=m;if(l<1)l=1;if(1===o){u-=i;c-=i;_=u+1;f=c+1;for(d=i-1;d>=0;d--)e[_+d]=e[f+d];e[u]=x[p]}else if(0===o)throw new Error;else{f=u-(o-1);for(d=0;d<o;d++)e[f+d]=x[d]}}else{u-=i;c-=i;_=u+1;f=c+1;for(d=i-1;d>=0;d--)e[_+d]=e[f+d];e[u]=x[p]}else{f=u-(o-1);for(d=0;d<o;d++)e[f+d]=x[d]}}var l=h;var u=0;var f=p;var _=0;var m;var g;var b=0;u=e.length;if(u<2*p)f=u>>>1;var x=[];_=u<120?5:u<1542?10:u<119151?19:40;m=[];g=[];this.mergeRuns=i;this.forceMergeRuns=a;this.pushRun=n}function c(e,t,a,s){if(!a)a=0;if(!s)s=e.length;var r=s-a;if(!(r<2)){var c=0;if(!(r<l)){var h=new d(e,t);var p=n(r);do{c=i(e,a,s,t);if(c<p){var u=r;if(u>p)u=p;o(e,a,a+u,a+c,t);c=u}h.pushRun(a,c);h.mergeRuns();r-=c;a+=c}while(0!==r);h.forceMergeRuns()}else{c=i(e,a,s,t);o(e,a,s,a+c,t)}}}var l=32;var h=7;var p=256;e.exports=c},function(e,t,n){"use strict";var i=n(4);var a=n(87).Dispatcher;var o=n(88);var s=n(36);var r=function(e){e=e||{};this.stage=e.stage||{};this.onframe=e.onframe||function(){};this._clips=[];this._running=!1;this._time;this._pausedTime;this._pauseStart;this._paused=!1;a.call(this)};r.prototype={constructor:r,addClip:function(e){this._clips.push(e)},addAnimator:function(e){e.animation=this;var t=e.getClips();for(var n=0;n<t.length;n++)this.addClip(t[n])},removeClip:function(e){var t=i.indexOf(this._clips,e);if(t>=0)this._clips.splice(t,1)},removeAnimator:function(e){var t=e.getClips();for(var n=0;n<t.length;n++)this.removeClip(t[n]);e.animation=null},_update:function(){var e=(new Date).getTime()-this._pausedTime;var t=e-this._time;var n=this._clips;var i=n.length;var a=[];var o=[];for(var s=0;s<i;s++){var r=n[s];var d=r.step(e);if(d){a.push(d);o.push(r)}}for(var s=0;s<i;)if(n[s]._needsRemove){n[s]=n[i-1];n.pop();i--}else s++;i=a.length;for(var s=0;s<i;s++)o[s].fire(a[s]);this._time=e;this.onframe(t);this.trigger("frame",t);if(this.stage.update)this.stage.update()},_startLoop:function(){function e(){if(t._running){o(e);!t._paused&&t._update()}}var t=this;this._running=!0;o(e)},start:function(){this._time=(new Date).getTime();this._pausedTime=0;this._startLoop()},stop:function(){this._running=!1},pause:function(){if(!this._paused){this._pauseStart=(new Date).getTime();this._paused=!0}},resume:function(){if(this._paused){this._pausedTime+=(new Date).getTime()-this._pauseStart;this._paused=!1}},clear:function(){this._clips=[]},animate:function(e,t){t=t||{};var n=new s(e,t.loop,t.getter,t.setter);return n}};i.mixin(r,a);e.exports=r},function(e,t,n){"use strict";function i(e){return e.getBoundingClientRect?e.getBoundingClientRect():{left:0,top:0}}function a(e,t,n){var a=i(e);n=n||{};n.zrX=t.clientX-a.left;n.zrY=t.clientY-a.top;return n}function o(e,t){t=t||window.event;if(null!=t.zrX)return t;var n=t.type;var i=n&&n.indexOf("touch")>=0;if(!i){a(e,t,t);t.zrDelta=t.wheelDelta?t.wheelDelta/120:-(t.detail||0)/3}else{var o="touchend"!=n?t.targetTouches[0]:t.changedTouches[0];o&&a(e,o,t)}return t}function s(e,t,n){if(c)e.addEventListener(t,n);else e.attachEvent("on"+t,n)}function r(e,t,n){if(c)e.removeEventListener(t,n);else e.detachEvent("on"+t,n)}var d=n(33);var c="undefined"!=typeof window&&!!window.addEventListener;var l=c?function(e){e.preventDefault();e.stopPropagation();e.cancelBubble=!0}:function(e){e.returnValue=!1;e.cancelBubble=!0};e.exports={clientToLocal:a,normalizeEvent:o,addEventListener:s,removeEventListener:r,stop:l,Dispatcher:d}},function(e,t){e.exports="undefined"!=typeof window&&(window.requestAnimationFrame||window.msRequestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(e){setTimeout(e,16)}},function(e,t,n){function i(e){return"mousewheel"===e&&p.browser.firefox?"DOMMouseScroll":e}function a(e,t,n){var i=e._gestureMgr;"start"===n&&i.clear();var a=i.recognize(t,e.handler.findHover(t.zrX,t.zrY,null),e.dom);"end"===n&&i.clear();if(a){var o=a.type;t.gestureEvent=o;e.handler.dispatchToElement(a.target,o,a.event)}}function o(e){e._touching=!0;clearTimeout(e._touchTimer);e._touchTimer=setTimeout(function(){e._touching=!1},700)}function s(){return p.touchEventsSupported}function r(e){function t(e,t){return function(){if(!t._touching)return e.apply(t,arguments)}}for(var n=0;n<x.length;n++){var i=x[n];e._handlers[i]=l.bind(v[i],e)}for(var n=0;n<b.length;n++){var i=b[n];e._handlers[i]=t(v[i],e)}}function d(e){function t(t,n){l.each(t,function(t){f(e,i(t),n._handlers[t])},n)}h.call(this);this.dom=e;this._touching=!1;this._touchTimer;this._gestureMgr=new u;this._handlers={};r(this);if(s())t(x,this);t(b,this)}var c=n(87);var l=n(4);var h=n(33);var p=n(2);var u=n(90);var f=c.addEventListener;var _=c.removeEventListener;var m=c.normalizeEvent;var g=300;var b=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove"];var x=["touchstart","touchend","touchmove"];var v={mousemove:function(e){e=m(this.dom,e);this.trigger("mousemove",e)},mouseout:function(e){e=m(this.dom,e);var t=e.toElement||e.relatedTarget;if(t!=this.dom)for(;t&&9!=t.nodeType;){if(t===this.dom)return;t=t.parentNode}this.trigger("mouseout",e)},touchstart:function(e){e=m(this.dom,e);this._lastTouchMoment=new Date;a(this,e,"start");v.mousemove.call(this,e);v.mousedown.call(this,e);o(this)},touchmove:function(e){e=m(this.dom,e);a(this,e,"change");v.mousemove.call(this,e);o(this)},touchend:function(e){e=m(this.dom,e);a(this,e,"end");v.mouseup.call(this,e);if(+new Date-this._lastTouchMoment<g)v.click.call(this,e);o(this)}};l.each(["click","mousedown","mouseup","mousewheel","dblclick"],function(e){v[e]=function(t){t=m(this.dom,t);this.trigger(e,t)}});var C=d.prototype;C.dispose=function(){var e=b.concat(x);for(var t=0;t<e.length;t++){var n=e[t];_(this.dom,i(n),this._handlers[n])}};C.setCursor=function(e){this.dom.style.cursor=e||"default"};l.mixin(d,h);e.exports=d},function(e,t,n){"use strict";function i(e){var t=e[1][0]-e[0][0];var n=e[1][1]-e[0][1];return Math.sqrt(t*t+n*n)}function a(e){return[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]}var o=n(87);var s=function(){this._track=[]};s.prototype={constructor:s,recognize:function(e,t,n){this._doTrack(e,t,n);return this._recognize(e)},clear:function(){this._track.length=0;return this},_doTrack:function(e,t,n){var i=e.touches;if(i){var a={points:[],touches:[],target:t,event:e};for(var s=0,r=i.length;s<r;s++){var d=i[s];var c=o.clientToLocal(n,d);a.points.push([c.zrX,c.zrY]);a.touches.push(d)}this._track.push(a)}},_recognize:function(e){for(var t in r)if(r.hasOwnProperty(t)){var n=r[t](this._track,e);if(n)return n}}};var r={pinch:function(e,t){var n=e.length;if(n){var o=(e[n-1]||{}).points;var s=(e[n-2]||{}).points||o;if(s&&s.length>1&&o&&o.length>1){var r=i(o)/i(s);!isFinite(r)&&(r=1);t.pinchScale=r;var d=a(o);t.pinchX=d[0];t.pinchY=d[1];return{type:"pinch",target:e[0].target,event:t}}}}};e.exports=s},function(e,t,n){"use strict";function i(e){return parseInt(e,10)}function a(e){if(!e)return!1;
if(e.isBuildin)return!0;if("function"!=typeof e.resize||"function"!=typeof e.refresh)return!1;else return!0}function o(e){e.__unusedCount++}function s(e){if(1==e.__unusedCount)e.clear()}function r(e,t,n){x.copy(e.getBoundingRect());if(e.transform)x.applyTransform(e.transform);v.width=t;v.height=n;return!x.intersect(v)}function d(e,t){if(e==t)return!1;if(!e||!t||e.length!==t.length)return!0;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!0}function c(e,t){for(var n=0;n<e.length;n++){var i=e[n];var a=i.path;i.setTransform(t);a.beginPath(t);i.buildPath(a,i.shape);t.clip();i.restoreTransform(t)}}function l(e,t){var n=document.createElement("div");var i=n.style;i.position="relative";i.overflow="hidden";i.width=e+"px";i.height=t+"px";return n}var h=n(41);var p=n(4);var u=n(40);var f=n(9);var _=n(85);var m=n(92);var g=n(88);var b=5;var x=new f(0,0,0,0);var v=new f(0,0,0,0);var C=function(e,t,n){var i=!e.nodeName||"CANVAS"===e.nodeName.toUpperCase();n=n||{};this.dpr=n.devicePixelRatio||h.devicePixelRatio;this._singleCanvas=i;this.root=e;var a=e.style;if(a){a["-webkit-tap-highlight-color"]="transparent";a["-webkit-user-select"]=a["user-select"]=a["-webkit-touch-callout"]="none";e.innerHTML=""}this.storage=t;var o=this._zlevelList=[];var s=this._layers={};this._layerConfig={};if(!i){this._width=this._getWidth();this._height=this._getHeight();var r=this._domRoot=l(this._width,this._height);e.appendChild(r)}else{var d=e.width;var c=e.height;this._width=d;this._height=c;var p=new m(e,this,1);p.initContext();s[0]=p;o.push(0)}this.pathToImage=this._createPathToImage();this._progressiveLayers=[];this._hoverlayer;this._hoverElements=[]};C.prototype={constructor:C,isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._singleCanvas?this._layers[0].dom:this._domRoot},refresh:function(e){var t=this.storage.getDisplayList(!0);var n=this._zlevelList;this._paintList(t,e);for(var i=0;i<n.length;i++){var a=n[i];var o=this._layers[a];if(!o.isBuildin&&o.refresh)o.refresh()}this.refreshHover();if(this._progressiveLayers.length)this._startProgessive();return this},addHover:function(e,t){if(!e.__hoverMir){var n=new e.constructor({style:e.style,shape:e.shape});n.__from=e;e.__hoverMir=n;n.setStyle(t);this._hoverElements.push(n)}},removeHover:function(e){var t=e.__hoverMir;var n=this._hoverElements;var i=p.indexOf(n,t);if(i>=0)n.splice(i,1);e.__hoverMir=null},clearHover:function(e){var t=this._hoverElements;for(var n=0;n<t.length;n++){var i=t[n].__from;if(i)i.__hoverMir=null}t.length=0},refreshHover:function(){var e=this._hoverElements;var t=e.length;var n=this._hoverlayer;n&&n.clear();if(t){_(e,this.storage.displayableSortFunc);if(!n)n=this._hoverlayer=this.getLayer(1e5);var i={};n.ctx.save();for(var a=0;a<t;){var o=e[a];var s=o.__from;if(s&&s.__zr){a++;if(!s.invisible){o.transform=s.transform;o.invTransform=s.invTransform;o.__clipPaths=s.__clipPaths;this._doPaintEl(o,n,!0,i)}}else{e.splice(a,1);s.__hoverMir=null;t--}}n.ctx.restore()}},_startProgessive:function(){function e(){if(n===t._progressiveToken&&t.storage){t._doPaintList(t.storage.getDisplayList());if(t._furtherProgressive){t._progress++;g(e)}else t._progressiveToken=-1}}var t=this;if(t._furtherProgressive){var n=t._progressiveToken=+new Date;t._progress++;g(e)}},_clearProgressive:function(){this._progressiveToken=-1;this._progress=0;p.each(this._progressiveLayers,function(e){e.__dirty&&e.clear()})},_paintList:function(e,t){if(null==t)t=!1;this._updateLayerStatus(e);this._clearProgressive();this.eachBuildinLayer(o);this._doPaintList(e,t);this.eachBuildinLayer(s)},_doPaintList:function(e,t){function n(e){var t=o.dpr||1;o.save();o.globalAlpha=1;o.shadowBlur=0;i.__dirty=!0;o.setTransform(1,0,0,1,0,0);o.drawImage(e.dom,0,0,c*t,l*t);o.restore()}var i;var a;var o;var s;var r=0;var d;var c=this._width;var l=this._height;var h;var f=this._progress;for(var _=0,m=e.length;_<m;_++){var g=e[_];var x=this._singleCanvas?0:g.zlevel;var v=g.__frame;if(v<0&&d){n(d);d=null}if(a!==x){if(o)o.restore();s={};a=x;i=this.getLayer(a);if(!i.isBuildin)u("ZLevel "+a+" has been used by unkown layer "+i.id);o=i.ctx;o.save();i.__unusedCount=0;if(i.__dirty||t)i.clear()}if(i.__dirty||t){if(v>=0){if(!d){d=this._progressiveLayers[Math.min(r++,b-1)];d.ctx.save();d.renderScope={};if(d&&d.__progress>d.__maxProgress){_=d.__nextIdxNotProg-1;continue}h=d.__progress;if(!d.__dirty)f=h;d.__progress=f+1}if(v===f)this._doPaintEl(g,d,!0,d.renderScope)}else this._doPaintEl(g,i,t,s);g.__dirty=!1}else;}if(d)n(d);o&&o.restore();this._furtherProgressive=!1;p.each(this._progressiveLayers,function(e){if(e.__maxProgress>=e.__progress)this._furtherProgressive=!0},this)},_doPaintEl:function(e,t,n,i){var a=t.ctx;var o=e.transform;if((t.__dirty||n)&&!e.invisible&&0!==e.style.opacity&&(!o||o[0]||o[3])&&(!e.culling||!r(e,this._width,this._height))){var s=e.__clipPaths;if(i.prevClipLayer!==t||d(s,i.prevElClipPaths)){if(i.prevElClipPaths){i.prevClipLayer.ctx.restore();i.prevClipLayer=i.prevElClipPaths=null;i.prevEl=null}if(s){a.save();c(s,a);i.prevClipLayer=t;i.prevElClipPaths=s}}e.beforeBrush&&e.beforeBrush(a);e.brush(a,i.prevEl||null);i.prevEl=e;e.afterBrush&&e.afterBrush(a)}},getLayer:function(e){if(this._singleCanvas)return this._layers[0];var t=this._layers[e];if(!t){t=new m("zr_"+e,this,this.dpr);t.isBuildin=!0;if(this._layerConfig[e])p.merge(t,this._layerConfig[e],!0);this.insertLayer(e,t);t.initContext()}return t},insertLayer:function(e,t){var n=this._layers;var i=this._zlevelList;var o=i.length;var s=null;var r=-1;var d=this._domRoot;if(!n[e])if(a(t)){if(o>0&&e>i[0]){for(r=0;r<o-1&&!(i[r]<e&&i[r+1]>e);r++);s=n[i[r]]}i.splice(r+1,0,e);if(s){var c=s.dom;if(c.nextSibling)d.insertBefore(t.dom,c.nextSibling);else d.appendChild(t.dom)}else if(d.firstChild)d.insertBefore(t.dom,d.firstChild);else d.appendChild(t.dom);n[e]=t}else u("Layer of zlevel "+e+" is not valid");else u("ZLevel "+e+" has been used already")},eachLayer:function(e,t){var n=this._zlevelList;var i;var a;for(a=0;a<n.length;a++){i=n[a];e.call(t,this._layers[i],i)}},eachBuildinLayer:function(e,t){var n=this._zlevelList;var i;var a;var o;for(o=0;o<n.length;o++){a=n[o];i=this._layers[a];if(i.isBuildin)e.call(t,i,a)}},eachOtherLayer:function(e,t){var n=this._zlevelList;var i;var a;var o;for(o=0;o<n.length;o++){a=n[o];i=this._layers[a];if(!i.isBuildin)e.call(t,i,a)}},getLayers:function(){return this._layers},_updateLayerStatus:function(e){var t=this._layers;var n=this._progressiveLayers;var i={};var a={};this.eachBuildinLayer(function(e,t){i[t]=e.elCount;e.elCount=0;e.__dirty=!1});p.each(n,function(e,t){a[t]=e.elCount;e.elCount=0;e.__dirty=!1});var o=0;var s;var r;var d=0;for(var c=0,l=e.length;c<l;c++){var h=e[c];var u=this._singleCanvas?0:h.zlevel;var f=t[u];var _=h.progressive;if(f){f.elCount++;f.__dirty=f.__dirty||h.__dirty}if(_>=0){if(r!==_){r=_;d++}var g=h.__frame=d-1;if(!s){var x=Math.min(o,b-1);s=n[x];if(!s){s=n[x]=new m("progressive",this,this.dpr);s.initContext()}s.__maxProgress=0}s.__dirty=s.__dirty||h.__dirty;s.elCount++;s.__maxProgress=Math.max(s.__maxProgress,g);if(s.__maxProgress>=s.__progress)f.__dirty=!0}else{h.__frame=-1;if(s){s.__nextIdxNotProg=c;o++;s=null}}}if(s){o++;s.__nextIdxNotProg=c}this.eachBuildinLayer(function(e,t){if(i[t]!==e.elCount)e.__dirty=!0});n.length=Math.min(o,b);p.each(n,function(e,t){if(a[t]!==e.elCount)h.__dirty=!0;if(e.__dirty)e.__progress=0})},clear:function(){this.eachBuildinLayer(this._clearLayer);return this},_clearLayer:function(e){e.clear()},configLayer:function(e,t){if(t){var n=this._layerConfig;if(!n[e])n[e]=t;else p.merge(n[e],t,!0);var i=this._layers[e];if(i)p.merge(i,n[e],!0)}},delLayer:function(e){var t=this._layers;var n=this._zlevelList;var i=t[e];if(i){i.dom.parentNode.removeChild(i.dom);delete t[e];n.splice(p.indexOf(n,e),1)}},resize:function(e,t){var n=this._domRoot;n.style.display="none";e=e||this._getWidth();t=t||this._getHeight();n.style.display="";if(this._width!=e||t!=this._height){n.style.width=e+"px";n.style.height=t+"px";for(var i in this._layers)this._layers[i].resize(e,t);this.refresh(!0)}this._width=e;this._height=t;return this},clearLayer:function(e){var t=this._layers[e];if(t)t.clear()},dispose:function(){this.root.innerHTML="";this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(e){e=e||{};if(this._singleCanvas)return this._layers[0].dom;var t=new m("image",this,e.pixelRatio||this.dpr);t.initContext();t.clearColor=e.backgroundColor;t.clear();var n=this.storage.getDisplayList(!0);var i={};for(var a=0;a<n.length;a++){var o=n[a];this._doPaintEl(o,t,!0,i)}return t.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getWidth:function(){var e=this.root;var t=document.defaultView.getComputedStyle(e);return(e.clientWidth||i(t.width)||i(e.style.width))-(i(t.paddingLeft)||0)-(i(t.paddingRight)||0)|0},_getHeight:function(){var e=this.root;var t=document.defaultView.getComputedStyle(e);return(e.clientHeight||i(t.height)||i(e.style.height))-(i(t.paddingTop)||0)-(i(t.paddingBottom)||0)|0},_pathToImage:function(e,t,i,a,o){var s=document.createElement("canvas");var r=s.getContext("2d");s.width=i*o;s.height=a*o;r.clearRect(0,0,i*o,a*o);var d={position:t.position,rotation:t.rotation,scale:t.scale};t.position=[0,0,0];t.rotation=0;t.scale=[1,1];if(t)t.brush(r);var c=n(62);var l=new c({id:e,style:{x:0,y:0,image:s}});if(null!=d.position)l.position=t.position=d.position;if(null!=d.rotation)l.rotation=t.rotation=d.rotation;if(null!=d.scale)l.scale=t.scale=d.scale;return l},_createPathToImage:function(){var e=this;return function(t,n,i,a){return e._pathToImage(t,n,i,a,e.dpr)}}};e.exports=C},function(e,t,n){function i(){return!1}function a(e,t,n,i){var a=document.createElement(t);var o=n.getWidth();var s=n.getHeight();var r=a.style;r.position="absolute";r.left=0;r.top=0;r.width=o+"px";r.height=s+"px";a.width=o*i;a.height=s*i;a.setAttribute("data-zr-dom-id",e);return a}var o=n(4);var s=n(41);var r=n(47);var d=n(59);var c=function(e,t,n){
var r;n=n||s.devicePixelRatio;if("string"==typeof e)r=a(e,"canvas",t,n);else if(o.isObject(e)){r=e;e=r.id}this.id=e;this.dom=r;var d=r.style;if(d){r.onselectstart=i;d["-webkit-user-select"]="none";d["user-select"]="none";d["-webkit-touch-callout"]="none";d["-webkit-tap-highlight-color"]="rgba(0,0,0,0)"}this.domBack=null;this.ctxBack=null;this.painter=t;this.config=null;this.clearColor=0;this.motionBlur=!1;this.lastFrameAlpha=.7;this.dpr=n};c.prototype={constructor:c,elCount:0,__dirty:!0,initContext:function(){this.ctx=this.dom.getContext("2d");this.ctx.dpr=this.dpr},createBackBuffer:function(){var e=this.dpr;this.domBack=a("back-"+this.id,"canvas",this.painter,e);this.ctxBack=this.domBack.getContext("2d");if(1!=e)this.ctxBack.scale(e,e)},resize:function(e,t){var n=this.dpr;var i=this.dom;var a=i.style;var o=this.domBack;a.width=e+"px";a.height=t+"px";i.width=e*n;i.height=t*n;if(o){o.width=e*n;o.height=t*n;if(1!=n)this.ctxBack.scale(n,n)}},clear:function(e){var t=this.dom;var n=this.ctx;var i=t.width;var a=t.height;var o=this.clearColor;var s=this.motionBlur&&!e;var c=this.lastFrameAlpha;var l=this.dpr;if(s){if(!this.domBack)this.createBackBuffer();this.ctxBack.globalCompositeOperation="copy";this.ctxBack.drawImage(t,0,0,i/l,a/l)}n.clearRect(0,0,i,a);if(o){var h;if(o.colorStops){h=o.__canvasGradient||r.getGradient(n,o,{x:0,y:0,width:i,height:a});o.__canvasGradient=h}else if(o.image)h=d.prototype.getCanvasPattern.call(o,n);n.save();n.fillStyle=h||o;n.fillRect(0,0,i,a);n.restore()}if(s){var p=this.domBack;n.save();n.globalAlpha=c;n.drawImage(p,0,0,i,a);n.restore()}}};e.exports=c},function(e,t,n){var i=n(61);e.exports=function(e){function t(t){var n=(t.visualColorAccessPath||"itemStyle.normal.color").split(".");var a=t.getData();var o=t.get(n)||t.getColorFromPalette(t.get("name"));a.setVisual("color",o);if(!e.isSeriesFiltered(t)){if("function"==typeof o&&!(o instanceof i))a.each(function(e){a.setItemVisual(e,"color",o(t.getDataParams(e)))});a.each(function(e){var t=a.getItemModel(e);var i=t.get(n,!0);if(null!=i)a.setItemVisual(e,"color",i)})}}e.eachRawSeries(t)}},function(e,t,n){function i(e,t){t=t.split(",");var n=e;for(var i=0;i<t.length;i++){n=n&&n[t[i]];if(null==n)break}return n}function a(e,t,n,i){t=t.split(",");var a=e;var o;for(var s=0;s<t.length-1;s++){o=t[s];if(null==a[o])a[o]={};a=a[o]}if(i||null==a[t[s]])a[t[s]]=n}function o(e){h(d,function(t){if(t[0]in e&&!(t[1]in e))e[t[1]]=e[t[0]]})}var s=n(4);var r=n(95);var d=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]];var c=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"];var l=["bar","boxplot","candlestick","chord","effectScatter","funnel","gauge","lines","graph","heatmap","line","map","parallel","pie","radar","sankey","scatter","treemap"];var h=s.each;e.exports=function(e){h(e.series,function(e){if(s.isObject(e)){var t=e.type;r(e);if("pie"===t||"gauge"===t)if(null!=e.clockWise)e.clockwise=e.clockWise;if("gauge"===t){var n=i(e,"pointer.color");null!=n&&a(e,"itemStyle.normal.color",n)}for(var d=0;d<l.length;d++)if(l[d]===e.type){o(e);break}}});if(e.dataRange)e.visualMap=e.dataRange;h(c,function(t){var n=e[t];if(n){if(!s.isArray(n))n=[n];h(n,function(e){o(e)})}})}},function(e,t,n){function i(e){var t=e&&e.itemStyle;if(t)a.each(o,function(n){var i=t.normal;var o=t.emphasis;if(i&&i[n]){e[n]=e[n]||{};if(!e[n].normal)e[n].normal=i[n];else a.merge(e[n].normal,i[n]);i[n]=null}if(o&&o[n]){e[n]=e[n]||{};if(!e[n].emphasis)e[n].emphasis=o[n];else a.merge(e[n].emphasis,o[n]);o[n]=null}})}var a=n(4);var o=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];e.exports=function(e){if(e){i(e);i(e.markPoint);i(e.markLine);var t=e.data;if(t){for(var n=0;n<t.length;n++)i(t[n]);var o=e.markPoint;if(o&&o.data){var s=o.data;for(var n=0;n<s.length;n++)i(s[n])}var r=e.markLine;if(r&&r.data){var d=r.data;for(var n=0;n<d.length;n++)if(a.isArray(d[n])){i(d[n][0]);i(d[n][1])}else i(d[n])}}}}},function(e,t,n){var i=n(43);var a=n(4);var o=Math.PI;e.exports=function(e,t){t=t||{};a.defaults(t,{text:"loading",color:"#c23531",textColor:"#000",maskColor:"rgba(255, 255, 255, 0.8)",zlevel:0});var n=new i.Rect({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4});var s=new i.Arc({shape:{startAngle:-o/2,endAngle:-o/2+.1,r:10},style:{stroke:t.color,lineCap:"round",lineWidth:5},zlevel:t.zlevel,z:10001});var r=new i.Rect({style:{fill:"none",text:t.text,textPosition:"right",textDistance:10,textFill:t.textColor},zlevel:t.zlevel,z:10001});s.animateShape(!0).when(1e3,{endAngle:3*o/2}).start("circularInOut");s.animateShape(!0).when(1e3,{startAngle:3*o/2}).delay(300).start("circularInOut");var d=new i.Group;d.add(s);d.add(r);d.add(n);d.resize=function(){var t=e.getWidth()/2;var i=e.getHeight()/2;s.setShape({cx:t,cy:i});var a=s.shape.r;r.setShape({x:t-a,y:i-a,width:2*a,height:2*a});n.setShape({x:0,y:0,width:e.getWidth(),height:e.getHeight()})};d.resize();return d}},function(e,t,n){(function(t){function i(e){if(!p.isArray(e))e=[e];return e}function a(e,t){var n=e.dimensions;var i=new g(p.map(n,e.getDimensionInfo,e),e.hostModel);m(i,e);var a=i._storage={};var o=e._storage;for(var s=0;s<n.length;s++){var r=n[s];var d=o[r];if(p.indexOf(t,r)>=0)a[r]=new d.constructor(o[r].length);else a[r]=o[r]}return i}var o="undefined";var s="undefined"==typeof window?t:window;var r=typeof s.Float64Array===o?Array:s.Float64Array;var d=typeof s.Int32Array===o?Array:s.Int32Array;var c={"float":r,"int":d,ordinal:Array,number:Array,time:Array};var l=n(12);var h=n(98);var p=n(4);var u=n(5);var f=p.isObject;var _=["stackedOn","hasItemOption","_nameList","_idList","_rawData"];var m=function(e,t){p.each(_.concat(t.__wrappedMethods||[]),function(n){if(t.hasOwnProperty(n))e[n]=t[n]});e.__wrappedMethods=t.__wrappedMethods};var g=function(e,t){e=e||["x","y"];var n={};var i=[];for(var a=0;a<e.length;a++){var o;var s={};if("string"==typeof e[a]){o=e[a];s={name:o,stackable:!1,type:"number"}}else{s=e[a];o=s.name;s.type=s.type||"number"}i.push(o);n[o]=s}this.dimensions=i;this._dimensionInfos=n;this.hostModel=t;this.dataType;this.indices=[];this._storage={};this._nameList=[];this._idList=[];this._optionModels=[];this.stackedOn=null;this._visual={};this._layout={};this._itemVisuals=[];this._itemLayouts=[];this._graphicEls=[];this._rawData;this._extent};var b=g.prototype;b.type="list";b.hasItemOption=!0;b.getDimension=function(e){if(!isNaN(e))e=this.dimensions[e]||e;return e};b.getDimensionInfo=function(e){return p.clone(this._dimensionInfos[this.getDimension(e)])};b.initData=function(e,t,n){e=e||[];if(!0)if(!p.isArray(e))throw new Error("Invalid data.");this._rawData=e;var i=this._storage={};var a=this.indices=[];var o=this.dimensions;var s=e.length;var r=this._dimensionInfos;var d=[];var l={};t=t||[];for(var h=0;h<o.length;h++){var f=r[o[h]];var _=c[f.type];i[o[h]]=new _(s)}var m=this;if(!n)m.hasItemOption=!1;n=n||function(e,t,n,i){var a=u.getDataItemValue(e);if(u.isDataItemOption(e))m.hasItemOption=!0;return u.converDataValue(a instanceof Array?a[i]:a,r[t])};for(var g=0;g<e.length;g++){var b=e[g];for(var x=0;x<o.length;x++){var v=o[x];var C=i[v];C[g]=n(b,v,g,x)}a.push(g)}for(var h=0;h<e.length;h++){if(!t[h])if(e[h]&&null!=e[h].name)t[h]=e[h].name;var w=t[h]||"";var I=e[h]&&e[h].id;if(!I&&w){l[w]=l[w]||0;I=w;if(l[w]>0)I+="__ec__"+l[w];l[w]++}I&&(d[h]=I)}this._nameList=t;this._idList=d};b.count=function(){return this.indices.length};b.get=function(e,t,n){var i=this._storage;var a=this.indices[t];if(null==a)return NaN;var o=i[e]&&i[e][a];if(n){var s=this._dimensionInfos[e];if(s&&s.stackable){var r=this.stackedOn;for(;r;){var d=r.get(e,t);if(o>=0&&d>0||o<=0&&d<0)o+=d;r=r.stackedOn}}}return o};b.getValues=function(e,t,n){var i=[];if(!p.isArray(e)){n=t;t=e;e=this.dimensions}for(var a=0,o=e.length;a<o;a++)i.push(this.get(e[a],t,n));return i};b.hasValue=function(e){var t=this.dimensions;var n=this._dimensionInfos;for(var i=0,a=t.length;i<a;i++)if("ordinal"!==n[t[i]].type&&isNaN(this.get(t[i],e)))return!1;return!0};b.getDataExtent=function(e,t){e=this.getDimension(e);var n=this._storage[e];var i=this.getDimensionInfo(e);t=i&&i.stackable&&t;var a=(this._extent||(this._extent={}))[e+!!t];var o;if(a)return a;if(n){var s=1/0;var r=-(1/0);for(var d=0,c=this.count();d<c;d++){o=this.get(e,d,t);o<s&&(s=o);o>r&&(r=o)}return this._extent[e+!!t]=[s,r]}else return[1/0,-(1/0)]};b.getSum=function(e,t){var n=this._storage[e];var i=0;if(n)for(var a=0,o=this.count();a<o;a++){var s=this.get(e,a,t);if(!isNaN(s))i+=s}return i};b.indexOf=function(e,t){var n=this._storage;var i=n[e];var a=this.indices;if(i)for(var o=0,s=a.length;o<s;o++){var r=a[o];if(i[r]===t)return o}return-1};b.indexOfName=function(e){var t=this.indices;var n=this._nameList;for(var i=0,a=t.length;i<a;i++){var o=t[i];if(n[o]===e)return i}return-1};b.indexOfRawIndex=function(e){var t=this.indices;var n=0;var i=t.length-1;for(;n<=i;){var a=(n+i)/2|0;if(t[a]<e)n=a+1;else if(t[a]>e)i=a-1;else return a}return-1};b.indexOfNearest=function(e,t,n,i){var a=this._storage;var o=a[e];if(null==i)i=1/0;var s=-1;if(o){var r=Number.MAX_VALUE;for(var d=0,c=this.count();d<c;d++){var l=t-this.get(e,d,n);var h=Math.abs(l);if(l<=i&&(h<r||h===r&&l>0)){r=h;s=d}}}return s};b.getRawIndex=function(e){var t=this.indices[e];return null==t?-1:t};b.getRawDataItem=function(e){return this._rawData[this.getRawIndex(e)]};b.getName=function(e){return this._nameList[this.indices[e]]||""};b.getId=function(e){return this._idList[this.indices[e]]||this.getRawIndex(e)+""};b.each=function(e,t,n,a){if("function"==typeof e){a=n;n=t;t=e;e=[]}e=p.map(i(e),this.getDimension,this);var o=[];var s=e.length;var r=this.indices;a=a||this;for(var d=0;d<r.length;d++)switch(s){case 0:t.call(a,d);break;case 1:t.call(a,this.get(e[0],d,n),d);break;case 2:t.call(a,this.get(e[0],d,n),this.get(e[1],d,n),d);break;default:for(var c=0;c<s;c++)o[c]=this.get(e[c],d,n);o[c]=d;t.apply(a,o)}};b.filterSelf=function(e,t,n,a){if("function"==typeof e){a=n;n=t;t=e;e=[]}e=p.map(i(e),this.getDimension,this);var o=[];
var s=[];var r=e.length;var d=this.indices;a=a||this;for(var c=0;c<d.length;c++){var l;if(1===r)l=t.call(a,this.get(e[0],c,n),c);else{for(var h=0;h<r;h++)s[h]=this.get(e[h],c,n);s[h]=c;l=t.apply(a,s)}if(l)o.push(d[c])}this.indices=o;this._extent={};return this};b.mapArray=function(e,t,n,i){if("function"==typeof e){i=n;n=t;t=e;e=[]}var a=[];this.each(e,function(){a.push(t&&t.apply(this,arguments))},n,i);return a};b.map=function(e,t,n,o){e=p.map(i(e),this.getDimension,this);var s=a(this,e);var r=s.indices=this.indices;var d=s._storage;var c=[];this.each(e,function(){var n=arguments[arguments.length-1];var i=t&&t.apply(this,arguments);if(null!=i){if("number"==typeof i){c[0]=i;i=c}for(var a=0;a<i.length;a++){var o=e[a];var s=d[o];var l=r[n];if(s)s[l]=i[a]}}},n,o);return s};b.downSample=function(e,t,n,i){var o=a(this,[e]);var s=this._storage;var r=o._storage;var d=this.indices;var c=o.indices=[];var l=[];var h=[];var p=Math.floor(1/t);var u=r[e];var f=this.count();for(var _=0;_<s[e].length;_++)r[e][_]=s[e][_];for(var _=0;_<f;_+=p){if(p>f-_){p=f-_;l.length=p}for(var m=0;m<p;m++){var g=d[_+m];l[m]=u[g];h[m]=g}var b=n(l);var g=h[i(l,b)||0];u[g]=b;c.push(g)}return o};b.getItemModel=function(e){var t=this.hostModel;e=this.indices[e];return new l(this._rawData[e],t,t&&t.ecModel)};b.diff=function(e){var t=this._idList;var n=e&&e._idList;return new h(e?e.indices:[],this.indices,function(e){return n[e]||e+""},function(e){return t[e]||e+""})};b.getVisual=function(e){var t=this._visual;return t&&t[e]};b.setVisual=function(e,t){if(!f(e)){this._visual=this._visual||{};this._visual[e]=t}else for(var n in e)if(e.hasOwnProperty(n))this.setVisual(n,e[n])};b.setLayout=function(e,t){if(!f(e))this._layout[e]=t;else for(var n in e)if(e.hasOwnProperty(n))this.setLayout(n,e[n])};b.getLayout=function(e){return this._layout[e]};b.getItemLayout=function(e){return this._itemLayouts[e]};b.setItemLayout=function(e,t,n){this._itemLayouts[e]=n?p.extend(this._itemLayouts[e]||{},t):t};b.clearItemLayouts=function(){this._itemLayouts.length=0};b.getItemVisual=function(e,t,n){var i=this._itemVisuals[e];var a=i&&i[t];if(null==a&&!n)return this.getVisual(t);else return a};b.setItemVisual=function(e,t,n){var i=this._itemVisuals[e]||{};this._itemVisuals[e]=i;if(!f(t))i[t]=n;else for(var a in t)if(t.hasOwnProperty(a))i[a]=t[a]};b.clearAllVisual=function(){this._visual={};this._itemVisuals=[]};var x=function(e){e.seriesIndex=this.seriesIndex;e.dataIndex=this.dataIndex;e.dataType=this.dataType};b.setItemGraphicEl=function(e,t){var n=this.hostModel;if(t){t.dataIndex=e;t.dataType=this.dataType;t.seriesIndex=n&&n.seriesIndex;if("group"===t.type)t.traverse(x,t)}this._graphicEls[e]=t};b.getItemGraphicEl=function(e){return this._graphicEls[e]};b.eachItemGraphicEl=function(e,t){p.each(this._graphicEls,function(n,i){if(n)e&&e.call(t,n,i)})};b.cloneShallow=function(){var e=p.map(this.dimensions,this.getDimensionInfo,this);var t=new g(e,this.hostModel);t._storage=this._storage;m(t,this);t.indices=this.indices.slice();if(this._extent)t._extent=p.extend({},this._extent);return t};b.wrapMethod=function(e,t){var n=this[e];if("function"==typeof n){this.__wrappedMethods=this.__wrappedMethods||[];this.__wrappedMethods.push(e);this[e]=function(){var e=n.apply(this,arguments);return t.apply(this,[e].concat(p.slice(arguments)))}}};b.TRANSFERABLE_METHODS=["cloneShallow","downSample","map"];b.CHANGABLE_METHODS=["filterSelf"];e.exports=g}).call(t,function(){return this}())},function(e,t){"use strict";function n(e){return e}function i(e,t,i,a){this._old=e;this._new=t;this._oldKeyGetter=i||n;this._newKeyGetter=a||n}function a(e,t,n,i){for(var a=0;a<e.length;a++){var o=i(e[a],a);var s=t[o];if(null==s){n.push(o);t[o]=a}else{if(!s.length)t[o]=s=[s];s.push(a)}}}i.prototype={constructor:i,add:function(e){this._add=e;return this},update:function(e){this._update=e;return this},remove:function(e){this._remove=e;return this},execute:function(){var e=this._old;var t=this._new;var n=this._oldKeyGetter;var i=this._newKeyGetter;var o={};var s={};var r=[];var d=[];var c;a(e,o,r,n);a(t,s,d,i);for(c=0;c<e.length;c++){var l=r[c];var h=s[l];if(null!=h){var p=h.length;if(p){1===p&&(s[l]=null);h=h.unshift()}else s[l]=null;this._update&&this._update(h,c)}else this._remove&&this._remove(c)}for(var c=0;c<d.length;c++){var l=d[c];if(s.hasOwnProperty(l)){var h=s[l];if(null==h)continue;if(!h.length)this._add&&this._add(h);else for(var u=0,p=h.length;u<p;u++)this._add&&this._add(h[u])}}}};e.exports=i},function(e,t,n){var i=n(4);var a=n(1);var o=a.PRIORITY;n(100);n(103);a.registerVisual(i.curry(n(109),"line","circle","line"));a.registerLayout(i.curry(n(110),"line"));a.registerProcessor(o.PROCESSOR.STATISTIC,i.curry(n(111),"line"));n(112)},function(e,t,n){"use strict";var i=n(101);var a=n(28);e.exports=a.extend({type:"series.line",dependencies:["grid","polar"],getInitialData:function(e,t){if(!0){var n=e.coordinateSystem;if("polar"!==n&&"cartesian2d"!==n)throw new Error("Line not support coordinateSystem besides cartesian and polar")}return i(e.data,this,t)},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,clipOverflow:!0,label:{normal:{position:"top"}},lineStyle:{normal:{width:2,type:"solid"}},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:!1,connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0}})},function(e,t,n){"use strict";function i(e){var t=0;for(;t<e.length&&null==e[t];)t++;return e[t]}function a(e){var t=i(e);return null!=t&&!h.isArray(f(t))}function o(e,t,n){e=e||[];if(!0)if(!h.isArray(e))throw new Error("Invalid data.");var i=t.get("coordinateSystem");var o=m[i];var s=u.get(i);var r=o&&o(e,t,n);var g=r&&r.dimensions;if(!g){g=s&&s.dimensions||["x","y"];g=l(g,e,g.concat(["value"]))}var b=r?r.categoryIndex:-1;var x=new c(g,t);var v=d(r,e);var C={};var w=b>=0&&a(e)?function(e,t,n,i){if(p.isDataItemOption(e))x.hasItemOption=!0;return i===b?n:_(f(e),g[i])}:function(e,t,n,i){var a=f(e);var o=_(a&&a[i],g[i]);if(p.isDataItemOption(e))x.hasItemOption=!0;var s=r&&r.categoryAxesModels;if(s&&s[t])if("string"==typeof o){C[t]=C[t]||s[t].getCategories();o=h.indexOf(C[t],o);if(o<0&&!isNaN(o))o=+o}return o};x.hasItemOption=!1;x.initData(e,v,w);return x}function s(e){return"category"!==e&&"time"!==e}function r(e){return"category"===e?"ordinal":"time"===e?"time":"float"}function d(e,t){var n=[];var i=e&&e.dimensions[e.categoryIndex];var a;if(i)a=e.categoryAxesModels[i.name];if(a){var o=a.getCategories();if(o){var s=t.length;if(h.isArray(t[0])&&t[0].length>1){n=[];for(var r=0;r<s;r++)n[r]=o[t[r][e.categoryIndex||0]]}else n=o.slice(0)}}return n}var c=n(97);var l=n(102);var h=n(4);var p=n(5);var u=n(26);var f=p.getDataItemValue;var _=p.converDataValue;var m={cartesian2d:function(e,t,n){var i=h.map(["xAxis","yAxis"],function(e){return n.queryComponents({mainType:e,index:t.get(e+"Index"),id:t.get(e+"Id")})[0]});var a=i[0];var o=i[1];if(!0){if(!a)throw new Error('xAxis "'+h.retrieve(t.get("xAxisIndex"),t.get("xAxisId"),0)+'" not found');if(!o)throw new Error('yAxis "'+h.retrieve(t.get("xAxisIndex"),t.get("yAxisId"),0)+'" not found')}var d=a.get("type");var c=o.get("type");var p=[{name:"x",type:r(d),stackable:s(d)},{name:"y",type:r(c),stackable:s(c)}];var u="category"===d;var f="category"===c;l(p,e,["x","y","z"]);var _={};if(u)_.x=a;if(f)_.y=o;return{dimensions:p,categoryIndex:u?0:f?1:-1,categoryAxesModels:_}},polar:function(e,t,n){var i=n.queryComponents({mainType:"polar",index:t.get("polarIndex"),id:t.get("polarId")})[0];var a=i.findAxisModel("angleAxis");var o=i.findAxisModel("radiusAxis");if(!0){if(!a)throw new Error("angleAxis option not found");if(!o)throw new Error("radiusAxis option not found")}var d=o.get("type");var c=a.get("type");var h=[{name:"radius",type:r(d),stackable:s(d)},{name:"angle",type:r(c),stackable:s(c)}];var p="category"===c;var u="category"===d;l(h,e,["radius","angle","value"]);var f={};if(u)f.radius=o;if(p)f.angle=a;return{dimensions:h,categoryIndex:p?1:u?0:-1,categoryAxesModels:f}},geo:function(e,t,n){return{dimensions:l([{name:"lng"},{name:"lat"}],e,["lng","lat","value"])}}};e.exports=o},function(e,t,n){function i(e,t,n,i){if(!t)return e;var r=a(t[0]);var d=o.isArray(r)&&r.length||1;n=n||[];i=i||"extra";for(var c=0;c<d;c++)if(!e[c]){var l=n[c]||i+(c-n.length);e[c]=s(t,c)?{type:"ordinal",name:l}:l}return e}function a(e){return o.isArray(e)?e:o.isObject(e)?e.value:e}var o=n(4);var s=i.guessOrdinal=function(e,t){for(var n=0,i=e.length;n<i;n++){var s=a(e[n]);if(!o.isArray(s))return!1;var s=s[t];if(null!=s&&isFinite(s))return!1;else if(o.isString(s)&&"-"!==s)return!0}return!1};e.exports=i},function(e,t,n){"use strict";function i(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++){var i=e[n];var a=t[n];if(i[0]!==a[0]||i[1]!==a[1])return}return!0}}function a(e){return"number"==typeof e?e:e?.3:0}function o(e){var t=e.getGlobalExtent();if(e.onBand){var n=e.getBandWidth()/2-1;var i=t[1]>t[0]?1:-1;t[0]+=i*n;t[1]-=i*n}return t}function s(e){return e>=0?1:-1}function r(e,t){var n=e.getBaseAxis();var i=e.getOtherAxis(n);var a=n.onZero?0:i.scale.getExtent()[0];var o=i.dim;var r="x"===o||"radius"===o?1:0;return t.mapArray([o],function(i,d){var c;var l=t.stackedOn;for(;l&&s(l.get(o,d))===s(i);){c=l;break}var h=[];h[r]=t.get(n.dim,d);h[1-r]=c?c.get(o,d,!0):a;return e.dataToPoint(h)},!0)}function d(e,t){if(null!=t.dataIndex)return t.dataIndex;else if(null!=t.name)return e.indexOfName(t.name)}function c(e,t,n){var i=o(e.getAxis("x"));var a=o(e.getAxis("y"));var s=e.getBaseAxis().isHorizontal();var r=Math.min(i[0],i[1]);var d=Math.min(a[0],a[1]);var c=Math.max(i[0],i[1])-r;var l=Math.max(a[0],a[1])-d;var h=n.get("lineStyle.normal.width")||2;var p=n.get("clipOverflow")?h/2:Math.max(c,l);if(s){d-=p;l+=2*p}else{r-=p;c+=2*p}var u=new x.Rect({shape:{x:r,y:d,width:c,height:l}});if(t){u.shape[s?"width":"height"]=0;x.initProps(u,{shape:{width:c,height:l}},n)}return u;
}function l(e,t,n){var i=e.getAngleAxis();var a=e.getRadiusAxis();var o=a.getExtent();var s=i.getExtent();var r=Math.PI/180;var d=new x.Sector({shape:{cx:e.cx,cy:e.cy,r0:o[0],r:o[1],startAngle:-s[0]*r,endAngle:-s[1]*r,clockwise:i.inverse}});if(t){d.shape.endAngle=-s[0]*r;x.initProps(d,{shape:{endAngle:-s[1]*r}},n)}return d}function h(e,t,n){return"polar"===e.type?l(e,t,n):c(e,t,n)}function p(e,t,n){var i=t.getBaseAxis();var a="x"===i.dim||"radius"===i.dim?0:1;var o=[];for(var s=0;s<e.length-1;s++){var r=e[s+1];var d=e[s];o.push(d);var c=[];switch(n){case"end":c[a]=r[a];c[1-a]=d[1-a];o.push(c);break;case"middle":var l=(d[a]+r[a])/2;var h=[];c[a]=h[a]=l;c[1-a]=d[1-a];h[1-a]=r[1-a];o.push(c);o.push(h);break;default:c[a]=d[a];c[1-a]=r[1-a];o.push(c)}}e[s]&&o.push(e[s]);return o}function u(e,t){return Math.max(Math.min(e,t[1]),t[0])}function f(e,t){var n=e.getVisual("visualMeta");if(n&&n.length){var i;for(var a=n.length-1;a>=0;a--)if(n[a].dimension<2){i=n[a];break}if(i&&"cartesian2d"===t.type){var o=i.dimension;var s=e.dimensions[o];var r=e.getDataExtent(s);var d=i.stops;var c=[];if(d[0].interval)d.sort(function(e,t){return e.interval[0]-t.interval[0]});var l=d[0];var h=d[d.length-1];var p=l.interval?u(l.interval[0],r):l.value;var f=h.interval?u(h.interval[1],r):h.value;var _=f-p;if(0===_)return e.getItemVisual(0,"color");for(var a=0;a<d.length;a++)if(d[a].interval){if(d[a].interval[1]===d[a].interval[0])continue;c.push({offset:(u(d[a].interval[0],r)-p)/_,color:d[a].color},{offset:(u(d[a].interval[1],r)-p)/_,color:d[a].color})}else c.push({offset:(d[a].value-p)/_,color:d[a].color});var m=new x.LinearGradient(0,0,0,0,c,(!0));var g=t.getAxis(s);var b=Math.round(g.toGlobalCoord(g.dataToCoord(p)));var v=Math.round(g.toGlobalCoord(g.dataToCoord(f)));m[s]=b;m[s+"2"]=v;return m}else if(!0)console.warn("Visual map on line style only support x or y dimension.")}}var _=n(4);var m=n(104);var g=n(105);var b=n(107);var x=n(43);var v=n(108);var C=n(42);e.exports=C.extend({type:"line",init:function(){var e=new x.Group;var t=new m;this.group.add(t.group);this._symbolDraw=t;this._lineGroup=e},render:function(e,t,n){var o=e.coordinateSystem;var s=this.group;var d=e.getData();var c=e.getModel("lineStyle.normal");var l=e.getModel("areaStyle.normal");var u=d.mapArray(d.getItemLayout,!0);var m="polar"===o.type;var g=this._coordSys;var b=this._symbolDraw;var x=this._polyline;var v=this._polygon;var C=this._lineGroup;var w=e.get("animation");var I=!l.isEmpty();var y=r(o,d);var $=e.get("showSymbol");var A=$&&!m&&!e.get("showAllSymbol")&&this._getSymbolIgnoreFunc(d,o);var E=this._data;E&&E.eachItemGraphicEl(function(e,t){if(e.__temp){s.remove(e);E.setItemGraphicEl(t,null)}});if(!$)b.remove();s.add(C);var T=!m&&e.get("step");if(!x||g.type!==o.type||T!==this._step){$&&b.updateData(d,A);if(T){u=p(u,o,T);y=p(y,o,T)}x=this._newPolyline(u,o,w);if(I)v=this._newPolygon(u,y,o,w);C.setClipPath(h(o,!0,e))}else{if(I&&!v)v=this._newPolygon(u,y,o,w);else if(v&&!I){C.remove(v);v=this._polygon=null}C.setClipPath(h(o,!1,e));$&&b.updateData(d,A);d.eachItemGraphicEl(function(e){e.stopAnimation(!0)});if(!i(this._stackedOnPoints,y)||!i(this._points,u))if(w)this._updateAnimation(d,y,o,n,T);else{if(T){u=p(u,o,T);y=p(y,o,T)}x.setShape({points:u});v&&v.setShape({points:u,stackedOnPoints:y})}}var N=f(d,o)||d.getVisual("color");x.useStyle(_.defaults(c.getLineStyle(),{fill:"none",stroke:N,lineJoin:"bevel"}));var S=e.get("smooth");S=a(e.get("smooth"));x.setShape({smooth:S,smoothMonotone:e.get("smoothMonotone"),connectNulls:e.get("connectNulls")});if(v){var k=d.stackedOn;var D=0;v.useStyle(_.defaults(l.getAreaStyle(),{fill:N,opacity:.7,lineJoin:"bevel"}));if(k){var U=k.hostModel;D=a(U.get("smooth"))}v.setShape({smooth:S,stackedOnSmooth:D,smoothMonotone:e.get("smoothMonotone"),connectNulls:e.get("connectNulls")})}this._data=d;this._coordSys=o;this._stackedOnPoints=y;this._points=u;this._step=T},highlight:function(e,t,n,i){var a=e.getData();var o=d(a,i);if(!(o instanceof Array)&&null!=o&&o>=0){var s=a.getItemGraphicEl(o);if(!s){var r=a.getItemLayout(o);s=new g(a,o);s.position=r;s.setZ(e.get("zlevel"),e.get("z"));s.ignore=isNaN(r[0])||isNaN(r[1]);s.__temp=!0;a.setItemGraphicEl(o,s);s.stopSymbolAnimation(!0);this.group.add(s)}s.highlight()}else C.prototype.highlight.call(this,e,t,n,i)},downplay:function(e,t,n,i){var a=e.getData();var o=d(a,i);if(null!=o&&o>=0){var s=a.getItemGraphicEl(o);if(s)if(s.__temp){a.setItemGraphicEl(o,null);this.group.remove(s)}else s.downplay()}else C.prototype.downplay.call(this,e,t,n,i)},_newPolyline:function(e){var t=this._polyline;if(t)this._lineGroup.remove(t);t=new v.Polyline({shape:{points:e},silent:!0,z2:10});this._lineGroup.add(t);this._polyline=t;return t},_newPolygon:function(e,t){var n=this._polygon;if(n)this._lineGroup.remove(n);n=new v.Polygon({shape:{points:e,stackedOnPoints:t},silent:!0});this._lineGroup.add(n);this._polygon=n;return n},_getSymbolIgnoreFunc:function(e,t){var n=t.getAxesByScale("ordinal")[0];if(n&&n.isLabelIgnored)return _.bind(n.isLabelIgnored,n)},_updateAnimation:function(e,t,n,i,a){var o=this._polyline;var s=this._polygon;var r=e.hostModel;var d=b(this._data,e,this._stackedOnPoints,t,this._coordSys,n);var c=d.current;var l=d.stackedOnCurrent;var h=d.next;var u=d.stackedOnNext;if(a){c=p(d.current,n,a);l=p(d.stackedOnCurrent,n,a);h=p(d.next,n,a);u=p(d.stackedOnNext,n,a)}o.shape.__points=d.current;o.shape.points=c;x.updateProps(o,{shape:{points:h}},r);if(s){s.setShape({points:c,stackedOnPoints:l});x.updateProps(s,{shape:{points:h,stackedOnPoints:u,__points:d.next}},r)}var f=[];var _=d.status;for(var m=0;m<_.length;m++){var g=_[m].cmd;if("="===g){var v=e.getItemGraphicEl(_[m].idx1);if(v)f.push({el:v,ptIdx:m})}}if(o.animators&&o.animators.length)o.animators[0].during(function(){for(var e=0;e<f.length;e++){var t=f[e].el;t.attr("position",o.shape.__points[f[e].ptIdx])}})},remove:function(e){var t=this.group;var n=this._data;this._lineGroup.removeAll();this._symbolDraw.remove(!0);n&&n.eachItemGraphicEl(function(e,i){if(e.__temp){t.remove(e);n.setItemGraphicEl(i,null)}});this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}})},function(e,t,n){function i(e){this.group=new o.Group;this._symbolCtor=e||s}function a(e,t,n){var i=e.getItemLayout(t);return i&&!isNaN(i[0])&&!isNaN(i[1])&&!(n&&n(t))&&"none"!==e.getItemVisual(t,"symbol")}var o=n(43);var s=n(105);var r=i.prototype;r.updateData=function(e,t){var n=this.group;var i=e.hostModel;var s=this._data;var r=this._symbolCtor;var d={itemStyle:i.getModel("itemStyle.normal").getItemStyle(["color"]),hoverItemStyle:i.getModel("itemStyle.emphasis").getItemStyle(),symbolRotate:i.get("symbolRotate"),symbolOffset:i.get("symbolOffset"),hoverAnimation:i.get("hoverAnimation"),labelModel:i.getModel("label.normal"),hoverLabelModel:i.getModel("label.emphasis")};e.diff(s).add(function(i){var o=e.getItemLayout(i);if(a(e,i,t)){var s=new r(e,i,d);s.attr("position",o);e.setItemGraphicEl(i,s);n.add(s)}}).update(function(c,l){var h=s.getItemGraphicEl(l);var p=e.getItemLayout(c);if(a(e,c,t)){if(!h){h=new r(e,c);h.attr("position",p)}else{h.updateData(e,c,d);o.updateProps(h,{position:p},i)}n.add(h);e.setItemGraphicEl(c,h)}else n.remove(h)}).remove(function(e){var t=s.getItemGraphicEl(e);t&&t.fadeOut(function(){n.remove(t)})}).execute();this._data=e};r.updateLayout=function(){var e=this._data;if(e)e.eachItemGraphicEl(function(t,n){var i=e.getItemLayout(n);t.attr("position",i)})};r.remove=function(e){var t=this.group;var n=this._data;if(n)if(e)n.eachItemGraphicEl(function(e){e.fadeOut(function(){t.remove(e)})});else t.removeAll()};e.exports=i},function(e,t,n){function i(e){if(!(e instanceof Array))e=[+e,+e];return e}function a(e,t,n){d.Group.call(this);this.updateData(e,t,n)}function o(e,t){this.parent.drift(e,t)}var s=n(4);var r=n(106);var d=n(43);var c=n(7);var l=a.prototype;l._createSymbol=function(e,t,n){this.removeAll();var a=t.hostModel;var s=t.getItemVisual(n,"color");var c=r.createSymbol(e,-.5,-.5,1,1,s);c.attr({z2:100,culling:!0,scale:[0,0]});c.drift=o;var l=i(t.getItemVisual(n,"symbolSize"));d.initProps(c,{scale:l},a,n);this._symbolType=e;this.add(c)};l.stopSymbolAnimation=function(e){this.childAt(0).stopAnimation(e)};l.getSymbolPath=function(){return this.childAt(0)};l.getScale=function(){return this.childAt(0).scale};l.highlight=function(){this.childAt(0).trigger("emphasis")};l.downplay=function(){this.childAt(0).trigger("normal")};l.setZ=function(e,t){var n=this.childAt(0);n.zlevel=e;n.z=t};l.setDraggable=function(e){var t=this.childAt(0);t.draggable=e;t.cursor=e?"move":"pointer"};l.updateData=function(e,t,n){this.silent=!1;var a=e.getItemVisual(t,"symbol")||"circle";var o=e.hostModel;var s=i(e.getItemVisual(t,"symbolSize"));if(a!==this._symbolType)this._createSymbol(a,e,t);else{var r=this.childAt(0);d.updateProps(r,{scale:s},o,t)}this._updateCommon(e,t,s,n);this._seriesModel=o};var h=["itemStyle","normal"];var p=["itemStyle","emphasis"];var u=["label","normal"];var f=["label","emphasis"];l._updateCommon=function(e,t,n,a){var o=this.childAt(0);var r=e.hostModel;var l=e.getItemVisual(t,"color");if("image"!==o.type)o.useStyle({strokeNoScale:!0});a=a||null;var _=a&&a.itemStyle;var m=a&&a.hoverItemStyle;var g=a&&a.symbolRotate;var b=a&&a.symbolOffset;var x=a&&a.labelModel;var v=a&&a.hoverLabelModel;var C=a&&a.hoverAnimation;if(!a||e.hasItemOption){var w=e.getItemModel(t);_=w.getModel(h).getItemStyle(["color"]);m=w.getModel(p).getItemStyle();g=w.getShallow("symbolRotate");b=w.getShallow("symbolOffset");x=w.getModel(u);v=w.getModel(f);C=w.getShallow("hoverAnimation")}else m=s.extend({},m);var I=o.style;o.rotation=(g||0)*Math.PI/180||0;if(b)o.attr("position",[c.parsePercent(b[0],n[0]),c.parsePercent(b[1],n[1])]);o.setColor(l);o.setStyle(_);var y=e.getItemVisual(t,"opacity");if(null!=y)I.opacity=y;var $=e.dimensions.slice();var A;var E;for(;$.length&&(A=$.pop(),E=e.getDimensionInfo(A).type,"ordinal"===E||"time"===E););if(null!=A&&x.getShallow("show")){d.setText(I,x,l);
I.text=s.retrieve(r.getFormattedLabel(t,"normal"),e.get(A,t))}else I.text="";if(null!=A&&v.getShallow("show")){d.setText(m,v,l);m.text=s.retrieve(r.getFormattedLabel(t,"emphasis"),e.get(A,t))}else m.text="";var T=i(e.getItemVisual(t,"symbolSize"));o.off("mouseover").off("mouseout").off("emphasis").off("normal");o.hoverStyle=m;d.setHoverStyle(o);if(C&&r.ifEnableAnimation()){var N=function(){var e=T[1]/T[0];this.animateTo({scale:[Math.max(1.1*T[0],T[0]+3),Math.max(1.1*T[1],T[1]+3*e)]},400,"elasticOut")};var S=function(){this.animateTo({scale:T},400,"elasticOut")};o.on("mouseover",N).on("mouseout",S).on("emphasis",N).on("normal",S)}};l.fadeOut=function(e){var t=this.childAt(0);this.silent=!0;t.style.text="";d.updateProps(t,{scale:[0,0]},this._seriesModel,this.dataIndex,e)};s.inherits(a,d.Group);e.exports=a},function(e,t,n){"use strict";var i=n(43);var a=n(9);var o=i.extendShape({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var n=t.cx;var i=t.cy;var a=t.width/2;var o=t.height/2;e.moveTo(n,i-o);e.lineTo(n+a,i+o);e.lineTo(n-a,i+o);e.closePath()}});var s=i.extendShape({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var n=t.cx;var i=t.cy;var a=t.width/2;var o=t.height/2;e.moveTo(n,i-o);e.lineTo(n+a,i);e.lineTo(n,i+o);e.lineTo(n-a,i);e.closePath()}});var r=i.extendShape({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var n=t.x;var i=t.y;var a=t.width/5*3;var o=Math.max(a,t.height);var s=a/2;var r=s*s/(o-s);var d=i-o+s+r;var c=Math.asin(r/s);var l=Math.cos(c)*s;var h=Math.sin(c);var p=Math.cos(c);e.arc(n,d,s,Math.PI-c,2*Math.PI+c);var u=.6*s;var f=.7*s;e.bezierCurveTo(n+l-h*u,d+r+p*u,n,i-f,n,i);e.bezierCurveTo(n,i-f,n-l+h*u,d+r+p*u,n-l,d+r);e.closePath()}});var d=i.extendShape({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var n=t.height;var i=t.width;var a=t.x;var o=t.y;var s=i/3*2;e.moveTo(a,o);e.lineTo(a+s,o+n);e.lineTo(a,o+n/4*3);e.lineTo(a-s,o+n);e.lineTo(a,o);e.closePath()}});var c={line:i.Line,rect:i.Rect,roundRect:i.Rect,square:i.Rect,circle:i.Circle,diamond:s,pin:r,arrow:d,triangle:o};var l={line:function(e,t,n,i,a){a.x1=e;a.y1=t+i/2;a.x2=e+n;a.y2=t+i/2},rect:function(e,t,n,i,a){a.x=e;a.y=t;a.width=n;a.height=i},roundRect:function(e,t,n,i,a){a.x=e;a.y=t;a.width=n;a.height=i;a.r=Math.min(n,i)/4},square:function(e,t,n,i,a){var o=Math.min(n,i);a.x=e;a.y=t;a.width=o;a.height=o},circle:function(e,t,n,i,a){a.cx=e+n/2;a.cy=t+i/2;a.r=Math.min(n,i)/2},diamond:function(e,t,n,i,a){a.cx=e+n/2;a.cy=t+i/2;a.width=n;a.height=i},pin:function(e,t,n,i,a){a.x=e+n/2;a.y=t+i/2;a.width=n;a.height=i},arrow:function(e,t,n,i,a){a.x=e+n/2;a.y=t+i/2;a.width=n;a.height=i},triangle:function(e,t,n,i,a){a.cx=e+n/2;a.cy=t+i/2;a.width=n;a.height=i}};var h={};for(var p in c)h[p]=new c[p];var u=i.extendShape({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},beforeBrush:function(){var e=this.style;var t=this.shape;if("pin"===t.symbolType&&"inside"===e.textPosition){e.textPosition=["50%","40%"];e.textAlign="center";e.textVerticalAlign="middle"}},buildPath:function(e,t,n){var i=t.symbolType;var a=h[i];if("none"!==t.symbolType){if(!a){i="rect";a=h[i]}l[i](t.x,t.y,t.width,t.height,a.shape);a.buildPath(e,a.shape,n)}}});var f=function(e){if("image"!==this.type){var t=this.style;var n=this.shape;if(n&&"line"===n.symbolType)t.stroke=e;else if(this.__isEmptyBrush){t.stroke=e;t.fill="#fff"}else{t.fill&&(t.fill=e);t.stroke&&(t.stroke=e)}this.dirty(!1)}};var _={createSymbol:function(e,t,n,o,s,r){var d=0===e.indexOf("empty");if(d)e=e.substr(5,1).toLowerCase()+e.substr(6);var c;if(0===e.indexOf("image://"))c=new i.Image({style:{image:e.slice(8),x:t,y:n,width:o,height:s}});else if(0===e.indexOf("path://"))c=i.makePath(e.slice(7),{},new a(t,n,o,s));else c=new u({shape:{symbolType:e,x:t,y:n,width:o,height:s}});c.__isEmptyBrush=d;c.setColor=f;c.setColor(r);return c}};e.exports=_},function(e,t){function n(e){return e>=0?1:-1}function i(e,t,i){var a=e.getBaseAxis();var o=e.getOtherAxis(a);var s=a.onZero?0:o.scale.getExtent()[0];var r=o.dim;var d="x"===r||"radius"===r?1:0;var c;var l=t.stackedOn;var h=t.get(r,i);for(;l&&n(l.get(r,i))===n(h);){c=l;break}var p=[];p[d]=t.get(a.dim,i);p[1-d]=c?c.get(r,i,!0):s;return e.dataToPoint(p)}function a(e,t){var n=[];t.diff(e).add(function(e){n.push({cmd:"+",idx:e})}).update(function(e,t){n.push({cmd:"=",idx:t,idx1:e})}).remove(function(e){n.push({cmd:"-",idx:e})}).execute();return n}e.exports=function(e,t,n,o,s,r){var d=a(e,t);var c=[];var l=[];var h=[];var p=[];var u=[];var f=[];var _=[];var m=r.dimensions;for(var g=0;g<d.length;g++){var b=d[g];var x=!0;switch(b.cmd){case"=":var v=e.getItemLayout(b.idx);var C=t.getItemLayout(b.idx1);if(isNaN(v[0])||isNaN(v[1]))v=C.slice();c.push(v);l.push(C);h.push(n[b.idx]);p.push(o[b.idx1]);_.push(t.getRawIndex(b.idx1));break;case"+":var w=b.idx;c.push(s.dataToPoint([t.get(m[0],w,!0),t.get(m[1],w,!0)]));l.push(t.getItemLayout(w).slice());h.push(i(s,t,w));p.push(o[w]);_.push(t.getRawIndex(w));break;case"-":var w=b.idx;var I=e.getRawIndex(w);if(I!==w){c.push(e.getItemLayout(w));l.push(r.dataToPoint([e.get(m[0],w,!0),e.get(m[1],w,!0)]));h.push(n[w]);p.push(i(r,e,w));_.push(I)}else x=!1}if(x){u.push(b);f.push(f.length)}}f.sort(function(e,t){return _[e]-_[t]});var y=[];var $=[];var A=[];var E=[];var T=[];for(var g=0;g<f.length;g++){var w=f[g];y[g]=c[w];$[g]=l[w];A[g]=h[w];E[g]=p[w];T[g]=u[w]}return{current:y,next:$,stackedOnCurrent:A,stackedOnNext:E,status:T}}},function(e,t,n){function i(e){return isNaN(e[0])||isNaN(e[1])}function a(e,t,n,a,o,s,_,m,g,b,x){var v=0;var C=n;for(var w=0;w<a;w++){var I=t[C];if(C>=o||C<0)break;if(i(I)){if(x){C+=s;continue}break}if(C===n){e[s>0?"moveTo":"lineTo"](I[0],I[1]);h(u,I)}else if(g>0){var y=C+s;var $=t[y];if(x)for(;$&&i(t[y]);){y+=s;$=t[y]}var A=.5;var E=t[v];var $=t[y];if(!$||i($))h(f,I);else{if(i($)&&!x)$=I;r.sub(p,$,E);var T;var N;if("x"===b||"y"===b){var S="x"===b?0:1;T=Math.abs(I[S]-E[S]);N=Math.abs(I[S]-$[S])}else{T=r.dist(I,E);N=r.dist(I,$)}A=N/(N+T);l(f,I,p,-g*(1-A))}d(u,u,m);c(u,u,_);d(f,f,m);c(f,f,_);e.bezierCurveTo(u[0],u[1],f[0],f[1],I[0],I[1]);l(u,I,p,g*A)}else e.lineTo(I[0],I[1]);v=C;C+=s}return w}function o(e,t){var n=[1/0,1/0];var i=[-(1/0),-(1/0)];if(t)for(var a=0;a<e.length;a++){var o=e[a];if(o[0]<n[0])n[0]=o[0];if(o[1]<n[1])n[1]=o[1];if(o[0]>i[0])i[0]=o[0];if(o[1]>i[1])i[1]=o[1]}return{min:t?n:i,max:t?i:n}}var s=n(45);var r=n(10);var d=r.min;var c=r.max;var l=r.scaleAndAdd;var h=r.copy;var p=[];var u=[];var f=[];e.exports={Polyline:s.extend({type:"ec-polyline",shape:{points:[],smooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},style:{fill:null,stroke:"#000"},buildPath:function(e,t){var n=t.points;var s=0;var r=n.length;var d=o(n,t.smoothConstraint);if(t.connectNulls){for(;r>0&&i(n[r-1]);r--);for(;s<r&&i(n[s]);s++);}for(;s<r;)s+=a(e,n,s,r,r,1,d.min,d.max,t.smooth,t.smoothMonotone,t.connectNulls)+1}}),Polygon:s.extend({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},buildPath:function(e,t){var n=t.points;var s=t.stackedOnPoints;var r=0;var d=n.length;var c=t.smoothMonotone;var l=o(n,t.smoothConstraint);var h=o(s,t.smoothConstraint);if(t.connectNulls){for(;d>0&&i(n[d-1]);d--);for(;r<d&&i(n[r]);r++);}for(;r<d;){var p=a(e,n,r,d,d,1,l.min,l.max,t.smooth,c,t.connectNulls);a(e,s,r+p-1,p,d,-1,h.min,h.max,t.stackedOnSmooth,c,t.connectNulls);r+=p+1;e.closePath()}}})}},function(e,t){e.exports=function(e,t,n,i,a){i.eachRawSeriesByType(e,function(e){var a=e.getData();var o=e.get("symbol")||t;var s=e.get("symbolSize");a.setVisual({legendSymbol:n||o,symbol:o,symbolSize:s});if(!i.isSeriesFiltered(e)){if("function"==typeof s)a.each(function(t){var n=e.getRawValue(t);var i=e.getDataParams(t);a.setItemVisual(t,"symbolSize",s(n,i))});a.each(function(e){var t=a.getItemModel(e);var n=t.getShallow("symbol",!0);var i=t.getShallow("symbolSize",!0);if(null!=n)a.setItemVisual(e,"symbol",n);if(null!=i)a.setItemVisual(e,"symbolSize",i)})}})}},function(e,t){e.exports=function(e,t){t.eachSeriesByType(e,function(e){var t=e.getData();var n=e.coordinateSystem;if(n){var i=n.dimensions;if("singleAxis"===n.type)t.each(i[0],function(e,i){t.setItemLayout(i,isNaN(e)?[NaN,NaN]:n.dataToPoint(e))});else t.each(i,function(e,i,a){t.setItemLayout(a,isNaN(e)||isNaN(i)?[NaN,NaN]:n.dataToPoint([e,i]))},!0)}})}},function(e,t){var n={average:function(e){var t=0;var n=0;for(var i=0;i<e.length;i++)if(!isNaN(e[i])){t+=e[i];n++}return 0===n?NaN:t/n},sum:function(e){var t=0;for(var n=0;n<e.length;n++)t+=e[n]||0;return t},max:function(e){var t=-(1/0);for(var n=0;n<e.length;n++)e[n]>t&&(t=e[n]);return t},min:function(e){var t=1/0;for(var n=0;n<e.length;n++)e[n]<t&&(t=e[n]);return t},nearest:function(e){return e[0]}};var i=function(e,t){return Math.round(e.length/2)};e.exports=function(e,t,a){t.eachSeriesByType(e,function(e){var t=e.getData();var a=e.get("sampling");var o=e.coordinateSystem;if("cartesian2d"===o.type&&a){var s=o.getBaseAxis();var r=o.getOtherAxis(s);var d=s.getExtent();var c=d[1]-d[0];var l=Math.round(t.count()/c);if(l>1){var h;if("string"==typeof a)h=n[a];else if("function"==typeof a)h=a;if(h){t=t.downSample(r.dim,1/l,h,i);e.setData(t)}}}},this)}},function(e,t,n){"use strict";var i=n(43);var a=n(4);var o=n(1);n(113);n(130);o.extendComponentView({type:"grid",render:function(e,t){this.group.removeAll();if(e.get("show"))this.group.add(new i.Rect({shape:e.coordinateSystem.getRect(),style:a.defaults({fill:e.get("backgroundColor")},e.getItemStyle()),silent:!0}))}});o.registerPreprocessor(function(e){if(e.xAxis&&e.yAxis&&!e.grid)e.grid={}})},function(e,t,n){function i(e,t,n){return e.findGridModel()===t}function a(e){var t=e.model;var n=t.getFormattedLabels();var i;var a=1;var o=n.length;if(o>40)a=Math.ceil(o/40);for(var s=0;s<o;s+=a)if(!e.isLabelIgnored(s)){var r=t.getTextRect(n[s]);i?i.union(r):i=r}return i}function o(e,t,n){this._coordsMap={};this._coordsList=[];this._axesMap={};
this._axesList=[];this._initCartesian(e,t,n);this._model=e}function s(e,t){var n=e.getExtent();var i=n[0]+n[1];e.toGlobalCoord="x"===e.dim?function(e){return e+t}:function(e){return i-e+t};e.toLocalCoord="x"===e.dim?function(e){return e-t}:function(e){return i-e+t}}function r(e,t){return p.map(x,function(n){var i=t.queryComponents({mainType:n,index:e.get(n+"Index"),id:e.get(n+"Id")})[0];if(!0)if(!i)throw new Error(n+' "'+p.retrieve(e.get(n+"Index"),e.get(n+"Id"),0)+'" not found');return i})}function d(e){return"cartesian2d"===e.get("coordinateSystem")}var c=t;var l=n(21);var h=n(114);var p=n(4);var u=n(120);var f=n(122);var _=p.each;var m=h.ifAxisCrossZero;var g=h.niceScaleExtent;n(125);var b=o.prototype;b.type="grid";b.getRect=function(){return this._rect};b.update=function(e,t){function n(e){var t=i[e];for(var n in t){var a=t[n];if(a&&("category"===a.type||!m(a)))return!0}return!1}var i=this._axesMap;this._updateScale(e,this._model);_(i.x,function(e){g(e,e.model)});_(i.y,function(e){g(e,e.model)});_(i.x,function(e){if(n("y"))e.onZero=!1});_(i.y,function(e){if(n("x"))e.onZero=!1});this.resize(this._model,t)};b.resize=function(e,t){function n(){_(o,function(e){var t=e.isHorizontal();var n=t?[0,i.width]:[0,i.height];var a=e.inverse?1:0;e.setExtent(n[a],n[1-a]);s(e,t?i.x:i.y)})}var i=l.getLayoutRect(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()});this._rect=i;var o=this._axesList;n();if(e.get("containLabel")){_(o,function(e){if(!e.model.get("axisLabel.inside")){var t=a(e);if(t){var n=e.isHorizontal()?"height":"width";var o=e.model.get("axisLabel.margin");i[n]-=t[n]+o;if("top"===e.position)i.y+=t.height+o;else if("left"===e.position)i.x+=t.width+o}}});n()}};b.getAxis=function(e,t){var n=this._axesMap[e];if(null!=n){if(null==t)for(var i in n)return n[i];return n[t]}};b.getCartesian=function(e,t){if(null!=e&&null!=t){var n="x"+e+"y"+t;return this._coordsMap[n]}else for(var i=0,a=this._coordsList;i<a.length;i++)if(a[i].getAxis("x").index===e||a[i].getAxis("y").index===t)return a[i]};b._initCartesian=function(e,t,n){function a(n){return function(a,d){if(i(a,e,t)){var c=a.get("position");if("x"===n){if("top"!==c&&"bottom"!==c){c="bottom";if(o[c])c="top"===c?"bottom":"top"}}else if("left"!==c&&"right"!==c){c="left";if(o[c])c="left"===c?"right":"left"}o[c]=!0;var l=new f(n,h.createScaleByModel(a),[0,0],a.get("type"),c);var p="category"===l.type;l.onBand=p&&a.get("boundaryGap");l.inverse=a.get("inverse");l.onZero=a.get("axisLine.onZero");a.axis=l;l.model=a;l.grid=this;l.index=d;this._axesList.push(l);s[n][d]=l;r[n]++}}}var o={left:!1,right:!1,top:!1,bottom:!1};var s={x:{},y:{}};var r={x:0,y:0};t.eachComponent("xAxis",a("x"),this);t.eachComponent("yAxis",a("y"),this);if(r.x&&r.y){this._axesMap=s;_(s.x,function(e,t){_(s.y,function(n,i){var a="x"+t+"y"+i;var o=new u(a);o.grid=this;this._coordsMap[a]=o;this._coordsList.push(o);o.addAxis(e);o.addAxis(n)},this)},this)}else{this._axesMap={};this._axesList=[]}};b._updateScale=function(e,t){function n(e,t,n){_(n.coordDimToDataDim(t.dim),function(n){t.scale.unionExtent(e.getDataExtent(n,"ordinal"!==t.scale.type))})}p.each(this._axesList,function(e){e.scale.setExtent(1/0,-(1/0))});e.eachSeries(function(a){if(d(a)){var o=r(a,e);var s=o[0];var c=o[1];if(!i(s,t,e)||!i(c,t,e))return;var l=this.getCartesian(s.componentIndex,c.componentIndex);var h=a.getData();var p=l.getAxis("x");var u=l.getAxis("y");if("list"===h.type){n(h,p,a);n(h,u,a)}}},this)};var x=["xAxis","yAxis"];o.create=function(e,t){var n=[];e.eachComponent("grid",function(i,a){var s=new o(i,e,t);s.name="grid_"+a;s.resize(i,t);i.coordinateSystem=s;n.push(s)});e.eachSeries(function(t){if(d(t)){var n=r(t,e);var i=n[0];var a=n[1];var o=i.findGridModel();if(!0){if(!o)throw new Error('Grid "'+p.retrieve(i.get("gridIndex"),i.get("gridId"),0)+'" not found');if(i.findGridModel()!==a.findGridModel())throw new Error("xAxis and yAxis must use the same grid")}var s=o.coordinateSystem;t.coordinateSystem=s.getCartesian(i.componentIndex,a.componentIndex)}});return n};o.dimensions=u.prototype.dimensions;n(26).register("cartesian2d",o);e.exports=o},function(e,t,n){var i=n(115);var a=n(117);n(118);n(119);var o=n(116);var s=n(7);var r=n(4);var d=n(8);var c={};c.getScaleExtent=function(e,t){var n=e.scale;var i=n.getExtent();var a=i[1]-i[0];if("ordinal"===n.type)if(!isFinite(a))return[0,0];else return i;var o=t.getMin?t.getMin():t.get("min");var d=t.getMax?t.getMax():t.get("max");var c=t.getNeedCrossZero?t.getNeedCrossZero():!t.get("scale");var l=t.get("boundaryGap");if(!r.isArray(l))l=[l||0,l||0];l[0]=s.parsePercent(l[0],1);l[1]=s.parsePercent(l[1],1);var h=!0;var p=!0;if(null==o){o=i[0]-l[0]*a;h=!1}if(null==d){d=i[1]+l[1]*a;p=!1}if("dataMin"===o)o=i[0];if("dataMax"===d)d=i[1];if(c){if(o>0&&d>0&&!h)o=0;if(o<0&&d<0&&!p)d=0}return[o,d]};c.niceScaleExtent=function(e,t){var n=e.scale;var i=c.getScaleExtent(e,t);var a=null!=(t.getMin?t.getMin():t.get("min"));var o=null!=(t.getMax?t.getMax():t.get("max"));var s=t.get("splitNumber");if("log"===n.type)n.base=t.get("logBase");n.setExtent(i[0],i[1]);n.niceExtent(s,a,o);var r=t.get("minInterval");if(isFinite(r)&&!a&&!o&&"interval"===n.type){var d=n.getInterval();var l=Math.max(Math.abs(d),r)/d;i=n.getExtent();n.setExtent(l*i[0],i[1]*l);n.niceExtent(s)}var d=t.get("interval");if(null!=d)n.setInterval&&n.setInterval(d)};c.createScaleByModel=function(e,t){t=t||e.get("type");if(t)switch(t){case"category":return new i(e.getCategories(),[1/0,-(1/0)]);case"value":return new a;default:return(o.getClass(t)||a).create(e)}};c.ifAxisCrossZero=function(e){var t=e.scale.getExtent();var n=t[0];var i=t[1];return!(n>0&&i>0||n<0&&i<0)};c.getAxisLabelInterval=function(e,t,n,i){var a;var o=0;var s=0;var r=1;if(t.length>40)r=Math.floor(t.length/40);for(var c=0;c<e.length;c+=r){var l=e[c];var h=d.getBoundingRect(t[c],n,"center","top");h[i?"x":"y"]+=l;h[i?"width":"height"]*=1.3;if(!a)a=h.clone();else if(a.intersect(h)){s++;o=Math.max(o,s)}else{a.union(h);s=0}}if(0===o&&r>1)return r;else return(o+1)*r-1};c.getFormattedLabels=function(e,t){var n=e.scale;var i=n.getTicksLabels();var a=n.getTicks();if("string"==typeof t){t=function(e){return function(t){return e.replace("{value}",t)}}(t);return r.map(i,t)}else if("function"==typeof t)return r.map(a,function(i,a){return t("category"===e.type?n.getLabel(i):i,a)},this);else return i};e.exports=c},function(e,t,n){var i=n(4);var a=n(116);var o=a.prototype;var s=a.extend({type:"ordinal",init:function(e,t){this._data=e;this._extent=t||[0,e.length-1]},parse:function(e){return"string"==typeof e?i.indexOf(this._data,e):Math.round(e)},contain:function(e){e=this.parse(e);return o.contain.call(this,e)&&null!=this._data[e]},normalize:function(e){return o.normalize.call(this,this.parse(e))},scale:function(e){return Math.round(o.scale.call(this,e))},getTicks:function(){var e=[];var t=this._extent;var n=t[0];for(;n<=t[1];){e.push(n);n++}return e},getLabel:function(e){return this._data[e]},count:function(){return this._extent[1]-this._extent[0]+1},niceTicks:i.noop,niceExtent:i.noop});s.create=function(){return new s};e.exports=s},function(e,t,n){function i(){this._extent=[1/0,-(1/0)];this._interval=0;this.init&&this.init.apply(this,arguments)}var a=n(13);var o=i.prototype;o.parse=function(e){return e};o.contain=function(e){var t=this._extent;return e>=t[0]&&e<=t[1]};o.normalize=function(e){var t=this._extent;if(t[1]===t[0])return.5;else return(e-t[0])/(t[1]-t[0])};o.scale=function(e){var t=this._extent;return e*(t[1]-t[0])+t[0]};o.unionExtent=function(e){var t=this._extent;e[0]<t[0]&&(t[0]=e[0]);e[1]>t[1]&&(t[1]=e[1])};o.getExtent=function(){return this._extent.slice()};o.setExtent=function(e,t){var n=this._extent;if(!isNaN(e))n[0]=e;if(!isNaN(t))n[1]=t};o.getTicksLabels=function(){var e=[];var t=this.getTicks();for(var n=0;n<t.length;n++)e.push(this.getLabel(t[n]));return e};a.enableClassExtend(i);a.enableClassManagement(i,{registerWhenExtend:!0});e.exports=i},function(e,t,n){var i=n(7);var a=n(6);var o=n(116);var s=Math.floor;var r=Math.ceil;var d=i.getPrecisionSafe;var c=i.round;var l=o.extend({type:"interval",_interval:0,setExtent:function(e,t){var n=this._extent;if(!isNaN(e))n[0]=parseFloat(e);if(!isNaN(t))n[1]=parseFloat(t)},unionExtent:function(e){var t=this._extent;e[0]<t[0]&&(t[0]=e[0]);e[1]>t[1]&&(t[1]=e[1]);l.prototype.setExtent.call(this,t[0],t[1])},getInterval:function(){if(!this._interval)this.niceTicks();return this._interval},setInterval:function(e){this._interval=e;this._niceExtent=this._extent.slice()},getTicks:function(){if(!this._interval)this.niceTicks();var e=this._interval;var t=this._extent;var n=[];var i=1e4;if(e){var a=this._niceExtent;var o=d(e)+2;if(t[0]<a[0])n.push(t[0]);var s=a[0];for(;s<=a[1];){n.push(s);s=c(s+e,o);if(n.length>i)return[]}if(t[1]>a[1])n.push(t[1])}return n},getTicksLabels:function(){var e=[];var t=this.getTicks();for(var n=0;n<t.length;n++)e.push(this.getLabel(t[n]));return e},getLabel:function(e){return a.addCommas(e)},niceTicks:function(e){e=e||5;var t=this._extent;var n=t[1]-t[0];if(isFinite(n)){if(n<0){n=-n;t.reverse()}var a=c(i.nice(n/e,!0),Math.max(d(t[0]),d(t[1]))+2);var o=d(a)+2;var l=[c(r(t[0]/a)*a,o),c(s(t[1]/a)*a,o)];this._interval=a;this._niceExtent=l}},niceExtent:function(e,t,n){var i=this._extent;if(i[0]===i[1])if(0!==i[0]){var a=i[0];if(!n){i[1]+=a/2;i[0]-=a/2}else i[0]-=a/2}else i[1]=1;var o=i[1]-i[0];if(!isFinite(o)){i[0]=0;i[1]=1}this.niceTicks(e);var d=this._interval;if(!t)i[0]=c(s(i[0]/d)*d);if(!n)i[1]=c(r(i[1]/d)*d)}});l.create=function(){return new l};e.exports=l},function(e,t,n){var i=n(4);var a=n(7);var o=n(6);var s=n(117);var r=s.prototype;var d=Math.ceil;var c=Math.floor;var l=1e3;var h=60*l;var p=60*h;var u=24*p;var f=function(e,t,n,i){for(;n<i;){var a=n+i>>>1;if(e[a][2]<t)n=a+1;else i=a}return n};var _=s.extend({type:"time",getLabel:function(e){var t=this._stepLvl;var n=new Date(e);return o.formatTime(t[0],n)},niceExtent:function(e,t,n){var i=this._extent;if(i[0]===i[1]){i[0]-=u;i[1]+=u}if(i[1]===-(1/0)&&i[0]===1/0){
var o=new Date;i[1]=new Date(o.getFullYear(),o.getMonth(),o.getDate());i[0]=i[1]-u}this.niceTicks(e);var s=this._interval;if(!t)i[0]=a.round(c(i[0]/s)*s);if(!n)i[1]=a.round(d(i[1]/s)*s)},niceTicks:function(e){e=e||10;var t=this._extent;var n=t[1]-t[0];var i=n/e;var o=m.length;var s=f(m,i,0,o);var r=m[Math.min(s,o-1)];var l=r[2];if("year"===r[0]){var h=n/l;var p=a.nice(h/e,!0);l*=p}var u=[d(t[0]/l)*l,c(t[1]/l)*l];this._stepLvl=r;this._interval=l;this._niceExtent=u},parse:function(e){return+a.parseDate(e)}});i.each(["contain","normalize"],function(e){_.prototype[e]=function(t){return r[e].call(this,this.parse(t))}});var m=[["hh:mm:ss",1,l],["hh:mm:ss",5,5*l],["hh:mm:ss",10,10*l],["hh:mm:ss",15,15*l],["hh:mm:ss",30,30*l],["hh:mm\nMM-dd",1,h],["hh:mm\nMM-dd",5,5*h],["hh:mm\nMM-dd",10,10*h],["hh:mm\nMM-dd",15,15*h],["hh:mm\nMM-dd",30,30*h],["hh:mm\nMM-dd",1,p],["hh:mm\nMM-dd",2,2*p],["hh:mm\nMM-dd",6,6*p],["hh:mm\nMM-dd",12,12*p],["MM-dd\nyyyy",1,u],["week",7,7*u],["month",1,31*u],["quarter",3,380*u/4],["half-year",6,380*u/2],["year",1,380*u]];_.create=function(){return new _};e.exports=_},function(e,t,n){var i=n(4);var a=n(116);var o=n(7);var s=n(117);var r=a.prototype;var d=s.prototype;var c=Math.floor;var l=Math.ceil;var h=Math.pow;var p=Math.log;var u=a.extend({type:"log",base:10,getTicks:function(){return i.map(d.getTicks.call(this),function(e){return o.round(h(this.base,e))},this)},getLabel:d.getLabel,scale:function(e){e=r.scale.call(this,e);return h(this.base,e)},setExtent:function(e,t){var n=this.base;e=p(e)/p(n);t=p(t)/p(n);d.setExtent.call(this,e,t)},getExtent:function(){var e=this.base;var t=r.getExtent.call(this);t[0]=h(e,t[0]);t[1]=h(e,t[1]);return t},unionExtent:function(e){var t=this.base;e[0]=p(e[0])/p(t);e[1]=p(e[1])/p(t);r.unionExtent.call(this,e)},niceTicks:function(e){e=e||10;var t=this._extent;var n=t[1]-t[0];if(!(n===1/0||n<=0)){var i=o.quantity(n);var a=e/n*i;if(a<=.5)i*=10;for(;!isNaN(i)&&Math.abs(i)<1&&Math.abs(i)>0;)i*=10;var s=[o.round(l(t[0]/i)*i),o.round(c(t[1]/i)*i)];this._interval=i;this._niceExtent=s}},niceExtent:d.niceExtent});i.each(["contain","normalize"],function(e){u.prototype[e]=function(t){t=p(t)/p(this.base);return r[e].call(this,t)}});u.create=function(){return new u};e.exports=u},function(e,t,n){"use strict";function i(e){o.call(this,e)}var a=n(4);var o=n(121);i.prototype={constructor:i,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(e){var t=this.getAxis("x");var n=this.getAxis("y");return t.contain(t.toLocalCoord(e[0]))&&n.contain(n.toLocalCoord(e[1]))},containData:function(e){return this.getAxis("x").containData(e[0])&&this.getAxis("y").containData(e[1])},dataToPoints:function(e,t){return e.mapArray(["x","y"],function(e,t){return this.dataToPoint([e,t])},t,this)},dataToPoint:function(e,t){var n=this.getAxis("x");var i=this.getAxis("y");return[n.toGlobalCoord(n.dataToCoord(e[0],t)),i.toGlobalCoord(i.dataToCoord(e[1],t))]},pointToData:function(e,t){var n=this.getAxis("x");var i=this.getAxis("y");return[n.coordToData(n.toLocalCoord(e[0]),t),i.coordToData(i.toLocalCoord(e[1]),t)]},getOtherAxis:function(e){return this.getAxis("x"===e.dim?"y":"x")}};a.inherits(i,o);e.exports=i},function(e,t,n){"use strict";function i(e){return this._axes[e]}var a=n(4);var o=function(e){this._axes={};this._dimList=[];this.name=e||""};o.prototype={constructor:o,type:"cartesian",getAxis:function(e){return this._axes[e]},getAxes:function(){return a.map(this._dimList,i,this)},getAxesByScale:function(e){e=e.toLowerCase();return a.filter(this.getAxes(),function(t){return t.scale.type===e})},addAxis:function(e){var t=e.dim;this._axes[t]=e;this._dimList.push(t)},dataToCoord:function(e){return this._dataCoordConvert(e,"dataToCoord")},coordToData:function(e){return this._dataCoordConvert(e,"coordToData")},_dataCoordConvert:function(e,t){var n=this._dimList;var i=e instanceof Array?[]:{};for(var a=0;a<n.length;a++){var o=n[a];var s=this._axes[o];i[o]=s[t](e[o])}return i}};e.exports=o},function(e,t,n){var i=n(4);var a=n(123);var o=n(124);var s=function(e,t,n,i,o){a.call(this,e,t,n);this.type=i||"value";this.position=o||"bottom"};s.prototype={constructor:s,index:0,onZero:!1,model:null,isHorizontal:function(){var e=this.position;return"top"===e||"bottom"===e},getGlobalExtent:function(){var e=this.getExtent();e[0]=this.toGlobalCoord(e[0]);e[1]=this.toGlobalCoord(e[1]);return e},getLabelInterval:function(){var e=this._labelInterval;if(!e)e=this._labelInterval=o(this);return e},isLabelIgnored:function(e){if("category"===this.type){var t=this.getLabelInterval();return"function"==typeof t&&!t(e,this.scale.getLabel(e))||e%(t+1)}},toLocalCoord:null,toGlobalCoord:null};i.inherits(s,a);e.exports=s},function(e,t,n){function i(e,t){var n=e[1]-e[0];var i=t;var a=n/i/2;e[0]+=a;e[1]-=a}var a=n(7);var o=a.linearMap;var s=n(4);var r=[0,1];var d=function(e,t,n){this.dim=e;this.scale=t;this._extent=n||[0,0];this.inverse=!1;this.onBand=!1};d.prototype={constructor:d,contain:function(e){var t=this._extent;var n=Math.min(t[0],t[1]);var i=Math.max(t[0],t[1]);return e>=n&&e<=i},containData:function(e){return this.contain(this.dataToCoord(e))},getExtent:function(){var e=this._extent.slice();return e},getPixelPrecision:function(e){return a.getPixelPrecision(e||this.scale.getExtent(),this._extent)},setExtent:function(e,t){var n=this._extent;n[0]=e;n[1]=t},dataToCoord:function(e,t){var n=this._extent;var a=this.scale;e=a.normalize(e);if(this.onBand&&"ordinal"===a.type){n=n.slice();i(n,a.count())}return o(e,r,n,t)},coordToData:function(e,t){var n=this._extent;var a=this.scale;if(this.onBand&&"ordinal"===a.type){n=n.slice();i(n,a.count())}var s=o(e,n,r,t);return this.scale.scale(s)},getTicksCoords:function(e){if(this.onBand&&!e){var t=this.getBands();var n=[];for(var i=0;i<t.length;i++)n.push(t[i][0]);if(t[i-1])n.push(t[i-1][1]);return n}else return s.map(this.scale.getTicks(),this.dataToCoord,this)},getLabelsCoords:function(){return s.map(this.scale.getTicks(),this.dataToCoord,this)},getBands:function(){var e=this.getExtent();var t=[];var n=this.scale.count();var i=e[0];var a=e[1];var o=a-i;for(var s=0;s<n;s++)t.push([o*s/n+i,o*(s+1)/n+i]);return t},getBandWidth:function(){var e=this._extent;var t=this.scale.getExtent();var n=t[1]-t[0]+(this.onBand?1:0);0===n&&(n=1);var i=Math.abs(e[1]-e[0]);return Math.abs(i)/n}};e.exports=d},function(e,t,n){"use strict";var i=n(4);var a=n(114);e.exports=function(e){var t=e.model;var n=t.getModel("axisLabel");var o=n.get("interval");if("category"!==e.type||"auto"!==o)return"auto"===o?0:o;else return a.getAxisLabelInterval(i.map(e.scale.getTicks(),e.dataToCoord,e),t.getFormattedLabels(),n.getModel("textStyle").getFont(),e.isHorizontal())}},function(e,t,n){"use strict";n(126);var i=n(19);e.exports=i.extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}})},function(e,t,n){"use strict";function i(e,t){return t.type||(t.data?"category":"value")}var a=n(19);var o=n(4);var s=n(127);var r=a.extend({type:"cartesian2dAxis",axis:null,init:function(){r.superApply(this,"init",arguments);this._resetRange()},mergeOption:function(){r.superApply(this,"mergeOption",arguments);this._resetRange()},restoreData:function(){r.superApply(this,"restoreData",arguments);this._resetRange()},setRange:function(e,t){this.option.rangeStart=e;this.option.rangeEnd=t},getMin:function(){var e=this.option;return null!=e.rangeStart?e.rangeStart:e.min},getMax:function(){var e=this.option;return null!=e.rangeEnd?e.rangeEnd:e.max},getNeedCrossZero:function(){var e=this.option;return null!=e.rangeStart||null!=e.rangeEnd?!1:!e.scale},findGridModel:function(){return this.ecModel.queryComponents({mainType:"grid",index:this.get("gridIndex"),id:this.get("gridId")})[0]},_resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}});o.merge(r.prototype,n(129));var d={offset:0};s("x",r,i,d);s("y",r,i,d);e.exports=r},function(e,t,n){var i=n(128);var a=n(4);var o=n(19);var s=n(21);var r=["value","category","time","log"];e.exports=function(e,t,n,d){a.each(r,function(o){t.extend({type:e+"Axis."+o,mergeDefaultAndTheme:function(t,i){var r=this.layoutMode;var d=r?s.getLayoutParams(t):{};var c=i.getTheme();a.merge(t,c.get(o+"Axis"));a.merge(t,this.getDefaultOption());t.type=n(e,t);if(r)s.mergeLayoutParam(t,d,r)},defaultOption:a.mergeAll([{},i[o+"Axis"],d],!0)})});o.registerSubTypeDefaulter(e+"Axis",a.curry(n,e))}},function(e,t,n){var i=n(4);var a={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisLine:{show:!0,onZero:!0,lineStyle:{color:"#333",width:1,type:"solid"}},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,margin:8,textStyle:{fontSize:12}},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}};var o=i.merge({boundaryGap:!0,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},a);var s=i.merge({boundaryGap:[0,0],splitNumber:5},a);var r=i.defaults({scale:!0,min:"dataMin",max:"dataMax"},s);var d=i.defaults({logBase:10},s);d.scale=!0;e.exports={categoryAxis:o,valueAxis:s,timeAxis:r,logAxis:d}},function(e,t,n){function i(e){if(s.isObject(e)&&null!=e.value)return e.value;else return e}function a(){return"category"===this.get("type")&&s.map(this.get("data"),i)}function o(){return r.getFormattedLabels(this.axis,this.get("axisLabel.formatter"))}var s=n(4);var r=n(114);e.exports={getFormattedLabels:o,getCategories:a}},function(e,t,n){"use strict";n(126);n(131)},function(e,t,n){function i(e,t){
function n(e,t){var n=i.getAxis(e);return n.toGlobalCoord(n.dataToCoord(0))}var i=e.coordinateSystem;var a=t.axis;var o={};var s=a.position;var r=a.onZero?"onZero":s;var d=a.dim;var c=i.getRect();var l=[c.x,c.x+c.width,c.y,c.y+c.height];var h=t.get("offset")||0;var p={x:{top:l[2]-h,bottom:l[3]+h},y:{left:l[0]-h,right:l[1]+h}};p.x.onZero=Math.max(Math.min(n("y"),p.x.bottom),p.x.top);p.y.onZero=Math.max(Math.min(n("x"),p.y.right),p.y.left);o.position=["y"===d?p.y[r]:l[0],"x"===d?p.x[r]:l[3]];o.rotation=Math.PI/2*("x"===d?0:1);var u={top:-1,bottom:1,left:-1,right:1};o.labelDirection=o.tickDirection=o.nameDirection=u[s];if(a.onZero)o.labelOffset=p[d][s]-p[d].onZero;if(t.getModel("axisTick").get("inside"))o.tickDirection=-o.tickDirection;if(t.getModel("axisLabel").get("inside"))o.labelDirection=-o.labelDirection;var f=t.getModel("axisLabel").get("rotate");o.labelRotation="top"===r?-f:f;o.labelInterval=a.getLabelInterval();o.z2=1;return o}var a=n(4);var o=n(43);var s=n(132);var r=s.ifIgnoreOnTick;var d=s.getInterval;var c=["axisLine","axisLabel","axisTick","axisName"];var l=["splitArea","splitLine"];var h=n(1).extendComponentView({type:"axis",render:function(e,t){this.group.removeAll();var n=this._axisGroup;this._axisGroup=new o.Group;this.group.add(this._axisGroup);if(e.get("show")){var r=e.findGridModel();var d=i(r,e);var h=new s(e,d);a.each(c,h.add,h);this._axisGroup.add(h.getGroup());a.each(l,function(t){if(e.get(t+".show"))this["_"+t](e,r,d.labelInterval)},this);o.groupTransition(n,this._axisGroup,e)}},_splitLine:function(e,t,n){var i=e.axis;var s=e.getModel("splitLine");var c=s.getModel("lineStyle");var l=c.get("color");var h=d(s,n);l=a.isArray(l)?l:[l];var p=t.coordinateSystem.getRect();var u=i.isHorizontal();var f=0;var _=i.getTicksCoords();var m=i.scale.getTicks();var g=[];var b=[];var x=c.getLineStyle();for(var v=0;v<_.length;v++)if(!r(i,v,h)){var C=i.toGlobalCoord(_[v]);if(u){g[0]=C;g[1]=p.y;b[0]=C;b[1]=p.y+p.height}else{g[0]=p.x;g[1]=C;b[0]=p.x+p.width;b[1]=C}var w=f++%l.length;this._axisGroup.add(new o.Line(o.subPixelOptimizeLine({anid:"line_"+m[v],shape:{x1:g[0],y1:g[1],x2:b[0],y2:b[1]},style:a.defaults({stroke:l[w]},x),silent:!0})))}else;},_splitArea:function(e,t,n){var i=e.axis;var s=e.getModel("splitArea");var c=s.getModel("areaStyle");var l=c.get("color");var h=t.coordinateSystem.getRect();var p=i.getTicksCoords();var u=i.scale.getTicks();var f=i.toGlobalCoord(p[0]);var _=i.toGlobalCoord(p[0]);var m=0;var g=d(s,n);var b=c.getAreaStyle();l=a.isArray(l)?l:[l];for(var x=1;x<p.length;x++)if(!r(i,x,g)){var v=i.toGlobalCoord(p[x]);var C;var w;var I;var y;if(i.isHorizontal()){C=f;w=h.y;I=v-C;y=h.height}else{C=h.x;w=_;I=h.width;y=v-w}var $=m++%l.length;this._axisGroup.add(new o.Rect({anid:"area_"+u[x],shape:{x:C,y:w,width:I,height:y},style:a.defaults({fill:l[$]},b),silent:!0}));f=C+I;_=w+y}else;}});h.extend({type:"xAxis"});h.extend({type:"yAxis"})},function(e,t,n){function i(e){var t={componentType:e.mainType};t[e.mainType+"Index"]=e.componentIndex;return t}function a(e,t,n){var i=p(t-e.rotation);var a;var o;if(u(i)){o=n>0?"top":"bottom";a="center"}else if(u(i-g)){o=n>0?"bottom":"top";a="center"}else{o="middle";if(i>0&&i<g)a=n>0?"right":"left";else a=n>0?"left":"right"}return{rotation:i,textAlign:a,verticalAlign:o}}function o(e,t,n,i){var a=p(n-e.rotation);var o;var s;var r=i[0]>i[1];var d="start"===t&&!r||"start"!==t&&r;if(u(a-g/2)){s=d?"bottom":"top";o="center"}else if(u(a-1.5*g)){s=d?"top":"bottom";o="center"}else{s="middle";if(a<1.5*g&&a>g/2)o=d?"left":"right";else o=d?"right":"left"}return{rotation:a,textAlign:o,verticalAlign:s}}function s(e){var t=e.get("tooltip");return e.get("silent")||!(e.get("triggerEvent")||t&&t.show)}var r=n(4);var d=n(6);var c=n(43);var l=n(12);var h=n(7);var p=h.remRadian;var u=h.isRadianAroundZero;var f=n(10);var _=f.applyTransform;var m=r.retrieve;var g=Math.PI;var b=function(e,t){this.opt=t;this.axisModel=e;r.defaults(t,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0});this.group=new c.Group;var n=new c.Group({position:t.position.slice(),rotation:t.rotation});n.updateTransform();this._transform=n.transform;this._dumbGroup=n};b.prototype={constructor:b,hasBuilder:function(e){return!!x[e]},add:function(e){x[e].call(this)},getGroup:function(){return this.group}};var x={axisLine:function(){var e=this.opt;var t=this.axisModel;if(t.get("axisLine.show")){var n=this.axisModel.axis.getExtent();var i=this._transform;var a=[n[0],0];var o=[n[1],0];if(i){_(a,a,i);_(o,o,i)}this.group.add(new c.Line(c.subPixelOptimizeLine({anid:"line",shape:{x1:a[0],y1:a[1],x2:o[0],y2:o[1]},style:r.extend({lineCap:"round"},t.getModel("axisLine.lineStyle").getLineStyle()),strokeContainThreshold:e.strokeContainThreshold||5,silent:!0,z2:1})))}},axisTick:function(){var e=this.axisModel;if(e.get("axisTick.show")){var t=e.axis;var n=e.getModel("axisTick");var i=this.opt;var a=n.getModel("lineStyle");var o=n.get("length");var s=C(n,i.labelInterval);var d=t.getTicksCoords(n.get("alignWithLabel"));var l=t.scale.getTicks();var h=[];var p=[];var u=this._transform;for(var f=0;f<d.length;f++)if(!v(t,f,s)){var m=d[f];h[0]=m;h[1]=0;p[0]=m;p[1]=i.tickDirection*o;if(u){_(h,h,u);_(p,p,u)}this.group.add(new c.Line(c.subPixelOptimizeLine({anid:"tick_"+l[f],shape:{x1:h[0],y1:h[1],x2:p[0],y2:p[1]},style:r.defaults(a.getLineStyle(),{stroke:e.get("axisLine.lineStyle.color")}),z2:2,silent:!0})))}else;}},axisLabel:function(){function e(e,t){var n=e&&e.getBoundingRect().clone();var i=t&&t.getBoundingRect().clone();if(n&&i){n.applyTransform(e.getLocalTransform());i.applyTransform(t.getLocalTransform());return n.intersect(i)}}var t=this.opt;var n=this.axisModel;var o=m(t.axisLabelShow,n.get("axisLabel.show"));if(o){var r=n.axis;var d=n.getModel("axisLabel");var h=d.getModel("textStyle");var p=d.get("margin");var u=r.scale.getTicks();var f=n.getFormattedLabels();var _=m(t.labelRotation,d.get("rotate"))||0;_=_*g/180;var b=a(t,_,t.labelDirection);var x=n.get("data");var C=[];var w=s(n);var I=n.get("triggerEvent");for(var y=0;y<u.length;y++)if(!v(r,y,t.labelInterval)){var $=h;if(x&&x[y]&&x[y].textStyle)$=new l(x[y].textStyle,h,n.ecModel);var A=$.getTextColor()||n.get("axisLine.lineStyle.color");var E=r.dataToCoord(u[y]);var T=[E,t.labelOffset+t.labelDirection*p];var N=r.scale.getLabel(u[y]);var S=new c.Text({anid:"label_"+u[y],style:{text:f[y],textAlign:$.get("align",!0)||b.textAlign,textVerticalAlign:$.get("baseline",!0)||b.verticalAlign,textFont:$.getFont(),fill:"function"==typeof A?A(N):A},position:T,rotation:b.rotation,silent:w,z2:10});if(I){S.eventData=i(n);S.eventData.targetType="axisLabel";S.eventData.value=N}this._dumbGroup.add(S);S.updateTransform();C.push(S);this.group.add(S);S.decomposeTransform()}else;if("category"!==r.type){if(n.getMin?n.getMin():n.get("min")){var k=C[0];var D=C[1];if(e(k,D))k.ignore=!0}if(n.getMax?n.getMax():n.get("max")){var U=C[C.length-1];var z=C[C.length-2];if(e(z,U))U.ignore=!0}}}},axisName:function(){var e=this.opt;var t=this.axisModel;var n=m(e.axisName,t.get("name"));if(n){var l=t.get("nameLocation");var h=e.nameDirection;var p=t.getModel("nameTextStyle");var u=t.get("nameGap")||0;var f=this.axisModel.axis.getExtent();var _=f[0]>f[1]?-1:1;var b=["start"===l?f[0]-_*u:"end"===l?f[1]+_*u:(f[0]+f[1])/2,"middle"===l?e.labelOffset+h*u:0];var x;var v=t.get("nameRotate");if(null!=v)v=v*g/180;var C;if("middle"===l)x=a(e,null!=v?v:e.rotation,h);else{x=o(e,l,v||0,f);C=e.axisNameAvailableWidth;if(null!=C){C=Math.abs(C/Math.sin(x.rotation));!isFinite(C)&&(C=null)}}var w=p.getFont();var I=t.get("nameTruncate",!0)||{};var y=I.ellipsis;var $=m(I.maxWidth,C);var A=null!=y&&null!=$?d.truncateText(n,$,w,y,{minChar:2,placeholder:I.placeholder}):n;var E=t.get("tooltip",!0);var T=t.mainType;var N={componentType:T,name:n,$vars:["name"]};N[T+"Index"]=t.componentIndex;var S=new c.Text({anid:"name",__fullText:n,__truncatedText:A,style:{text:A,textFont:w,fill:p.getTextColor()||t.get("axisLine.lineStyle.color"),textAlign:x.textAlign,textVerticalAlign:x.verticalAlign},position:b,rotation:x.rotation,silent:s(t),z2:1,tooltip:E&&E.show?r.extend({content:n,formatter:function(){return n},formatterParams:N},E):null});if(t.get("triggerEvent")){S.eventData=i(t);S.eventData.targetType="axisName";S.eventData.name=n}this._dumbGroup.add(S);S.updateTransform();this.group.add(S);S.decomposeTransform()}}};var v=b.ifIgnoreOnTick=function(e,t,n){var i;var a=e.scale;return"ordinal"===a.type&&("function"==typeof n?(i=a.getTicks()[t],!n(i,a.getLabel(i))):t%(n+1))};var C=b.getInterval=function(e,t){var n=e.get("interval");if(null==n||"auto"==n)n=t;return n};e.exports=b},function(e,t,n){var i=n(4);n(113);n(134);n(135);var a=n(137);var o=n(1);o.registerLayout(i.curry(a,"bar"));o.registerVisual(function(e){e.eachSeriesByType("bar",function(e){var t=e.getData();t.setVisual("legendSymbol","roundRect")})});n(112)},function(e,t,n){"use strict";var i=n(28);var a=n(101);e.exports=i.extend({type:"series.bar",dependencies:["grid","polar"],getInitialData:function(e,t){if(!0){var n=e.coordinateSystem;if("cartesian2d"!==n)throw new Error("Bar only support cartesian2d coordinateSystem")}return a(e.data,this,t)},getMarkerPosition:function(e){var t=this.coordinateSystem;if(t){var n=t.dataToPoint(e,!0);var i=this.getData();var a=i.getLayout("offset");var o=i.getLayout("size");var s=t.getBaseAxis().isHorizontal()?0:1;n[s]+=a+o/2;return n}return[NaN,NaN]},brushSelector:"rect",defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,itemStyle:{normal:{},emphasis:{}}}})},function(e,t,n){"use strict";function i(e,t){var n=e.width>0?1:-1;var i=e.height>0?1:-1;t=Math.min(t,Math.abs(e.width),Math.abs(e.height));e.x+=n*t/2;e.y+=i*t/2;e.width-=n*t;e.height-=i*t}var a=n(4);var o=n(43);a.extend(n(12).prototype,n(136));e.exports=n(1).extendChartView({type:"bar",render:function(e,t,n){var i=e.get("coordinateSystem");if("cartesian2d"===i)this._renderOnCartesian(e,t,n);return this.group},_renderOnCartesian:function(e,t,n){
function s(t,n){var s=d.getItemLayout(t);var r=d.getItemModel(t).get(f)||0;i(s,r);var c=new o.Rect({shape:a.extend({},s)});if(u){var l=c.shape;var h=p?"height":"width";var _={};l[h]=0;_[h]=s[h];o[n?"updateProps":"initProps"](c,{shape:_},e,t)}return c}var r=this.group;var d=e.getData();var c=this._data;var l=e.coordinateSystem;var h=l.getBaseAxis();var p=h.isHorizontal();var u=e.get("animation");var f=["itemStyle","normal","barBorderWidth"];d.diff(c).add(function(e){if(d.hasValue(e)){var t=s(e);d.setItemGraphicEl(e,t);r.add(t)}}).update(function(t,n){var a=c.getItemGraphicEl(n);if(d.hasValue(t)){if(!a)a=s(t,!0);var l=d.getItemLayout(t);var h=d.getItemModel(t).get(f)||0;i(l,h);o.updateProps(a,{shape:l},e,t);d.setItemGraphicEl(t,a);r.add(a)}else r.remove(a)}).remove(function(t){var n=c.getItemGraphicEl(t);if(n){n.style.text="";o.updateProps(n,{shape:{width:0}},e,t,function(){r.remove(n)})}}).execute();this._updateStyle(e,d,p);this._data=d},_updateStyle:function(e,t,n){function i(e,t,n,i,a){o.setText(e,t,n);e.text=i;if("outside"===e.textPosition)e.textPosition=a}t.eachItemGraphicEl(function(s,r){var d=t.getItemModel(r);var c=t.getItemVisual(r,"color");var l=t.getItemVisual(r,"opacity");var h=t.getItemLayout(r);var p=d.getModel("itemStyle.normal");var u=d.getModel("itemStyle.emphasis").getBarItemStyle();s.setShape("r",p.get("barBorderRadius")||0);s.useStyle(a.defaults({fill:c,opacity:l},p.getBarItemStyle()));var f=n?h.height>0?"bottom":"top":h.width>0?"left":"right";var _=d.getModel("label.normal");var m=d.getModel("label.emphasis");var g=s.style;if(_.get("show"))i(g,_,c,a.retrieve(e.getFormattedLabel(r,"normal"),e.getRawValue(r)),f);else g.text="";if(m.get("show"))i(u,m,c,a.retrieve(e.getFormattedLabel(r,"emphasis"),e.getRawValue(r)),f);else u.text="";o.setHoverStyle(s,u)})},remove:function(e,t){var n=this.group;if(e.get("animation")){if(this._data)this._data.eachItemGraphicEl(function(t){t.style.text="";o.updateProps(t,{shape:{width:0}},e,t.dataIndex,function(){n.remove(t)})})}else n.removeAll()}})},function(e,t,n){var i=n(15)([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]);e.exports={getBarItemStyle:function(e){var t=i.call(this,e);if(this.getBorderLineDash){var n=this.getBorderLineDash();n&&(t.lineDash=n)}return t}}},function(e,t,n){"use strict";function i(e){return e.get("stack")||"__ec_stack_"+e.seriesIndex}function a(e){return e.dim+e.index}function o(e,t){var n={};r.each(e,function(e,t){var o=e.getData();var s=e.coordinateSystem;var r=s.getBaseAxis();var d=r.getExtent();var l="category"===r.type?r.getBandWidth():Math.abs(d[1]-d[0])/o.count();var h=n[a(r)]||{bandWidth:l,remainedWidth:l,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}};var p=h.stacks;n[a(r)]=h;var u=i(e);if(!p[u])h.autoWidthCount++;p[u]=p[u]||{width:0,maxWidth:0};var f=c(e.get("barWidth"),l);var _=c(e.get("barMaxWidth"),l);var m=e.get("barGap");var g=e.get("barCategoryGap");if(f&&!p[u].width){f=Math.min(h.remainedWidth,f);p[u].width=f;h.remainedWidth-=f}_&&(p[u].maxWidth=_);null!=m&&(h.gap=m);null!=g&&(h.categoryGap=g)});var o={};r.each(n,function(e,t){o[t]={};var n=e.stacks;var i=e.bandWidth;var a=c(e.categoryGap,i);var s=c(e.gap,1);var d=e.remainedWidth;var l=e.autoWidthCount;var h=(d-a)/(l+(l-1)*s);h=Math.max(h,0);r.each(n,function(e,t){var n=e.maxWidth;if(!e.width&&n&&n<h){n=Math.min(n,d);d-=n;e.width=n;l--}});h=(d-a)/(l+(l-1)*s);h=Math.max(h,0);var p=0;var u;r.each(n,function(e,t){if(!e.width)e.width=h;u=e;p+=e.width*(1+s)});if(u)p-=u.width*s;var f=-p/2;r.each(n,function(e,n){o[t][n]=o[t][n]||{offset:f,width:e.width};f+=e.width*(1+s)})});return o}function s(e,t,n){var s=o(r.filter(t.getSeriesByType(e),function(e){return!t.isSeriesFiltered(e)&&e.coordinateSystem&&"cartesian2d"===e.coordinateSystem.type}));var d={};t.eachSeriesByType(e,function(e){var t=e.getData();var n=e.coordinateSystem;var o=n.getBaseAxis();var r=i(e);var c=s[a(o)][r];var l=c.offset;var h=c.width;var p=n.getOtherAxis(o);var u=e.get("barMinHeight")||0;var f=o.onZero?p.toGlobalCoord(p.dataToCoord(0)):p.getGlobalExtent()[0];var _=n.dataToPoints(t,!0);d[r]=d[r]||[];t.setLayout({offset:l,size:h});t.each(p.dim,function(e,n){if(!isNaN(e)){if(!d[r][n])d[r][n]={p:f,n:f};var i=e>=0?"p":"n";var a=_[n];var o=d[r][n][i];var s,c,m,g;if(p.isHorizontal()){s=o;c=a[1]+l;m=a[0]-o;g=h;if(Math.abs(m)<u)m=(m<0?-1:1)*u;d[r][n][i]+=m}else{s=a[0]+l;c=o;m=h;g=a[1]-o;if(Math.abs(g)<u)g=(g<=0?-1:1)*u;d[r][n][i]+=g}t.setItemLayout(n,{x:s,y:c,width:m,height:g})}},!0)},this)}var r=n(4);var d=n(7);var c=d.parsePercent;e.exports=s},function(e,t,n){var i=n(4);var a=n(1);n(139);n(141);n(142)("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]);a.registerVisual(i.curry(n(143),"pie"));a.registerLayout(i.curry(n(144),"pie"));a.registerProcessor(i.curry(n(146),"pie"))},function(e,t,n){"use strict";var i=n(97);var a=n(4);var o=n(5);var s=n(102);var r=n(140);var d=n(1).extendSeriesModel({type:"series.pie",init:function(e){d.superApply(this,"init",arguments);this.legendDataProvider=function(){return this._dataBeforeProcessed};this.updateSelectedMap(e.data);this._defaultLabelLine(e)},mergeOption:function(e){d.superCall(this,"mergeOption",e);this.updateSelectedMap(this.option.data)},getInitialData:function(e,t){var n=s(["value"],e.data);var a=new i(n,this);a.initData(e.data);return a},getDataParams:function(e){var t=this._data;var n=d.superCall(this,"getDataParams",e);var i=t.getSum("value");n.percent=!i?0:+(t.get("value",e)/i*100).toFixed(2);n.$vars.push("percent");return n},_defaultLabelLine:function(e){o.defaultEmphasis(e.labelLine,["show"]);var t=e.labelLine.normal;var n=e.labelLine.emphasis;t.show=t.show&&e.label.normal.show;n.show=n.show&&e.label.emphasis.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,selectedOffset:10,avoidLabelOverlap:!0,label:{normal:{rotate:!1,show:!0,position:"outer"},emphasis:{}},labelLine:{normal:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:"solid"}}},itemStyle:{normal:{borderWidth:1},emphasis:{}},animationEasing:"cubicOut",data:[]}});a.mixin(d,r);e.exports=d},function(e,t,n){var i=n(4);e.exports={updateSelectedMap:function(e){this._selectTargetMap=i.reduce(e||[],function(e,t){e[t.name]=t;return e},{})},select:function(e){var t=this._selectTargetMap;var n=t[e];var a=this.get("selectedMode");if("single"===a)i.each(t,function(e){e.selected=!1});n&&(n.selected=!0)},unSelect:function(e){var t=this._selectTargetMap[e];t&&(t.selected=!1)},toggleSelected:function(e){var t=this._selectTargetMap[e];if(null!=t){this[t.selected?"unSelect":"select"](e);return t.selected}},isSelected:function(e){var t=this._selectTargetMap[e];return t&&t.selected}}},function(e,t,n){function i(e,t,n,i){var o=t.getData();var s=this.dataIndex;var r=o.getName(s);var d=t.get("selectedOffset");i.dispatchAction({type:"pieToggleSelect",from:e,name:r,seriesId:t.id});o.each(function(e){a(o.getItemGraphicEl(e),o.getItemLayout(e),t.isSelected(o.getName(e)),d,n)})}function a(e,t,n,i,a){var o=(t.startAngle+t.endAngle)/2;var s=Math.cos(o);var r=Math.sin(o);var d=n?i:0;var c=[s*d,r*d];a?e.animate().when(200,{position:c}).start("bounceOut"):e.attr("position",c)}function o(e,t){function n(){o.ignore=o.hoverIgnore;s.ignore=s.hoverIgnore}function i(){o.ignore=o.normalIgnore;s.ignore=s.normalIgnore}r.Group.call(this);var a=new r.Sector({z2:2});var o=new r.Polyline;var s=new r.Text;this.add(a);this.add(o);this.add(s);this.updateData(e,t,!0);this.on("emphasis",n).on("normal",i).on("mouseover",n).on("mouseout",i)}function s(e,t,n,i,a){var o=i.getModel("textStyle");var s="inside"===a||"inner"===a;return{fill:o.getTextColor()||(s?"#fff":e.getItemVisual(t,"color")),opacity:e.getItemVisual(t,"opacity"),textFont:o.getFont(),text:d.retrieve(e.hostModel.getFormattedLabel(t,n),e.getName(t))}}var r=n(43);var d=n(4);var c=o.prototype;c.updateData=function(e,t,n){function i(){s.stopAnimation(!0);s.animateTo({shape:{r:h.r+10}},300,"elasticOut")}function o(){s.stopAnimation(!0);s.animateTo({shape:{r:h.r}},300,"elasticOut")}var s=this.childAt(0);var c=e.hostModel;var l=e.getItemModel(t);var h=e.getItemLayout(t);var p=d.extend({},h);p.label=null;if(n){s.setShape(p);s.shape.endAngle=h.startAngle;r.updateProps(s,{shape:{endAngle:h.endAngle}},c,t)}else r.updateProps(s,{shape:p},c,t);var u=l.getModel("itemStyle");var f=e.getItemVisual(t,"color");s.useStyle(d.defaults({lineJoin:"bevel",fill:f},u.getModel("normal").getItemStyle()));s.hoverStyle=u.getModel("emphasis").getItemStyle();a(this,e.getItemLayout(t),l.get("selected"),c.get("selectedOffset"),c.get("animation"));s.off("mouseover").off("mouseout").off("emphasis").off("normal");if(l.get("hoverAnimation")&&c.ifEnableAnimation())s.on("mouseover",i).on("mouseout",o).on("emphasis",i).on("normal",o);this._updateLabel(e,t);r.setHoverStyle(this)};c._updateLabel=function(e,t){var n=this.childAt(1);var i=this.childAt(2);var a=e.hostModel;var o=e.getItemModel(t);var d=e.getItemLayout(t);var c=d.label;var l=e.getItemVisual(t,"color");r.updateProps(n,{shape:{points:c.linePoints||[[c.x,c.y],[c.x,c.y],[c.x,c.y]]}},a,t);r.updateProps(i,{style:{x:c.x,y:c.y}},a,t);i.attr({style:{textVerticalAlign:c.verticalAlign,textAlign:c.textAlign,textFont:c.font},rotation:c.rotation,origin:[c.x,c.y],z2:10});var h=o.getModel("label.normal");var p=o.getModel("label.emphasis");var u=o.getModel("labelLine.normal");var f=o.getModel("labelLine.emphasis");var _=h.get("position")||p.get("position");i.setStyle(s(e,t,"normal",h,_));i.ignore=i.normalIgnore=!h.get("show");i.hoverIgnore=!p.get("show");n.ignore=n.normalIgnore=!u.get("show");n.hoverIgnore=!f.get("show");n.setStyle({stroke:l,opacity:e.getItemVisual(t,"opacity")
});n.setStyle(u.getModel("lineStyle").getLineStyle());i.hoverStyle=s(e,t,"emphasis",p,_);n.hoverStyle=f.getModel("lineStyle").getLineStyle();var m=u.get("smooth");if(m&&m===!0)m=.4;n.setShape({smooth:m})};d.inherits(o,r.Group);var l=n(42).extend({type:"pie",init:function(){var e=new r.Group;this._sectorGroup=e},render:function(e,t,n,a){if(!a||a.from!==this.uid){var s=e.getData();var r=this._data;var c=this.group;var l=t.get("animation");var h=!r;var p=d.curry(i,this.uid,e,l,n);var u=e.get("selectedMode");s.diff(r).add(function(e){var t=new o(s,e);if(h)t.eachChild(function(e){e.stopAnimation(!0)});u&&t.on("click",p);s.setItemGraphicEl(e,t);c.add(t)}).update(function(e,t){var n=r.getItemGraphicEl(t);n.updateData(s,e);n.off("click");u&&n.on("click",p);c.add(n);s.setItemGraphicEl(e,n)}).remove(function(e){var t=r.getItemGraphicEl(e);c.remove(t)}).execute();if(l&&h&&s.count()>0){var f=s.getItemLayout(0);var _=Math.max(n.getWidth(),n.getHeight())/2;var m=d.bind(c.removeClipPath,c);c.setClipPath(this._createClipPath(f.cx,f.cy,_,f.startAngle,f.clockwise,m,e))}this._data=s}},_createClipPath:function(e,t,n,i,a,o,s){var d=new r.Sector({shape:{cx:e,cy:t,r0:0,r:n,startAngle:i,endAngle:i,clockwise:a}});r.initProps(d,{shape:{endAngle:i+(a?1:-1)*Math.PI*2}},s,o);return d}});e.exports=l},function(e,t,n){var i=n(1);var a=n(4);e.exports=function(e,t){a.each(t,function(t){t.update="updateView";i.registerAction(t,function(n,i){var a={};i.eachComponent({mainType:"series",subType:e,query:n},function(e){if(e[t.method])e[t.method](n.name);var i=e.getData();i.each(function(t){var n=i.getName(t);a[n]=e.isSelected(n)||!1})});return{name:n.name,selected:a}})})}},function(e,t){e.exports=function(e,t){var n={};t.eachRawSeriesByType(e,function(e){var i=e.getRawData();var a={};if(!t.isSeriesFiltered(e)){var o=e.getData();o.each(function(e){var t=o.getRawIndex(e);a[t]=e});i.each(function(t){var s=i.getItemModel(t);var r=a[t];var d=null!=r&&o.getItemVisual(r,"color",!0);if(!d){var c=s.get("itemStyle.normal.color")||e.getColorFromPalette(i.getName(t),n);i.setItemVisual(t,"color",c);if(null!=r)o.setItemVisual(r,"color",c)}else i.setItemVisual(t,"color",d)})}})}},function(e,t,n){var i=n(7);var a=i.parsePercent;var o=n(145);var s=n(4);var r=2*Math.PI;var d=Math.PI/180;e.exports=function(e,t,n,c){t.eachSeriesByType(e,function(e){var t=e.get("center");var c=e.get("radius");if(!s.isArray(c))c=[0,c];if(!s.isArray(t))t=[t,t];var l=n.getWidth();var h=n.getHeight();var p=Math.min(l,h);var u=a(t[0],l);var f=a(t[1],h);var _=a(c[0],p/2);var m=a(c[1],p/2);var g=e.getData();var b=-e.get("startAngle")*d;var x=e.get("minAngle")*d;var v=g.getSum("value");var C=Math.PI/(v||g.count())*2;var w=e.get("clockwise");var I=e.get("roseType");var y=g.getDataExtent("value");y[0]=0;var $=r;var A=0;var E=b;var T=w?1:-1;g.each("value",function(e,t){var n;if("area"!==I)n=0===v?C:e*C;else n=r/(g.count()||1);if(n<x){n=x;$-=x}else A+=e;var a=E+T*n;g.setItemLayout(t,{angle:n,startAngle:E,endAngle:a,clockwise:w,cx:u,cy:f,r0:_,r:I?i.linearMap(e,y,[_,m]):m});E=a},!0);if($<r)if($<=.001){var N=r/g.count();g.each(function(e){var t=g.getItemLayout(e);t.startAngle=b+T*e*N;t.endAngle=b+T*(e+1)*N})}else{C=$/A;E=b;g.each("value",function(e,t){var n=g.getItemLayout(t);var i=n.angle===x?x:e*C;n.startAngle=E;n.endAngle=E+T*i;E+=i})}o(e,m,l,h)})}},function(e,t,n){"use strict";function i(e,t,n,i,a,o,s){function r(t,n,i,a){for(var o=t;o<n;o++){e[o].y+=i;if(o>t&&o+1<n&&e[o+1].y>e[o].y+e[o].height){d(o,i/2);return}}d(n-1,i/2)}function d(t,n){for(var i=t;i>=0;i--){e[i].y-=n;if(i>0&&e[i].y>e[i-1].y+e[i-1].height)break}}function c(e,t,n,i,a,o){var s=o>0?t?Number.MAX_VALUE:0:t?Number.MAX_VALUE:0;for(var r=0,d=e.length;r<d;r++)if("center"!==e[r].position){var c=Math.abs(e[r].y-i);var l=e[r].len;var h=e[r].len2;var p=c<a+l?Math.sqrt((a+l+h)*(a+l+h)-c*c):Math.abs(e[r].x-n);if(t&&p>=s)p=s-10;if(!t&&p<=s)p=s+10;e[r].x=n+p*o;s=p}else;}e.sort(function(e,t){return e.y-t.y});var l=0;var h;var p=e.length;var u=[];var f=[];for(var _=0;_<p;_++){h=e[_].y-l;if(h<0)r(_,p,-h,a);l=e[_].y+e[_].height}if(s-l<0)d(p-1,l-s);for(var _=0;_<p;_++)if(e[_].y>=n)f.push(e[_]);else u.push(e[_]);c(u,!1,t,n,i,a);c(f,!0,t,n,i,a)}function a(e,t,n,a,o,s){var r=[];var d=[];for(var c=0;c<e.length;c++)if(e[c].x<t)r.push(e[c]);else d.push(e[c]);i(d,t,n,a,1,o,s);i(r,t,n,a,-1,o,s);for(var c=0;c<e.length;c++){var l=e[c].linePoints;if(l){var h=l[1][0]-l[2][0];if(e[c].x<t)l[2][0]=e[c].x+3;else l[2][0]=e[c].x-3;l[1][1]=l[2][1]=e[c].y;l[1][0]=l[2][0]+h}}}var o=n(8);e.exports=function(e,t,n,i){var s=e.getData();var r=[];var d;var c;var l=!1;s.each(function(n){var i=s.getItemLayout(n);var a=s.getItemModel(n);var h=a.getModel("label.normal");var p=h.get("position")||a.get("label.emphasis.position");var u=a.getModel("labelLine.normal");var f=u.get("length");var _=u.get("length2");var m=(i.startAngle+i.endAngle)/2;var g=Math.cos(m);var b=Math.sin(m);var x;var v;var C;var w;d=i.cx;c=i.cy;var I="inside"===p||"inner"===p;if("center"===p){x=i.cx;v=i.cy;w="center"}else{var y=(I?(i.r+i.r0)/2*g:i.r*g)+d;var $=(I?(i.r+i.r0)/2*b:i.r*b)+c;x=y+3*g;v=$+3*b;if(!I){var A=y+g*(f+t-i.r);var E=$+b*(f+t-i.r);var T=A+(g<0?-1:1)*_;var N=E;x=T+(g<0?-5:5);v=N;C=[[y,$],[A,E],[T,N]]}w=I?"center":g>0?"left":"right"}var S=h.getModel("textStyle").getFont();var k=h.get("rotate")?g<0?-m+Math.PI:-m:0;var D=e.getFormattedLabel(n,"normal")||s.getName(n);var U=o.getBoundingRect(D,S,w,"top");l=!!k;i.label={x:x,y:v,position:p,height:U.height,len:f,len2:_,linePoints:C,textAlign:w,verticalAlign:"middle",font:S,rotation:k};if(!I)r.push(i.label)});if(!l&&e.get("avoidLabelOverlap"))a(r,d,c,t,n,i)}},function(e,t){e.exports=function(e,t){var n=t.findComponents({mainType:"legend"});if(n&&n.length)t.eachSeriesByType(e,function(e){var t=e.getData();t.filterSelf(function(e){var i=t.getName(e);for(var a=0;a<n.length;a++)if(!n[a].isSelected(i))return!1;return!0},this)},this)}},function(e,t,n){var i=n(4);var a=n(1);n(148);n(149);a.registerVisual(i.curry(n(109),"scatter","circle",null));a.registerLayout(i.curry(n(110),"scatter"));n(112)},function(e,t,n){"use strict";var i=n(101);var a=n(28);e.exports=a.extend({type:"series.scatter",dependencies:["grid","polar"],getInitialData:function(e,t){var n=i(e.data,this,t);return n},brushSelector:"point",defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{normal:{opacity:.8}}}})},function(e,t,n){var i=n(104);var a=n(150);n(1).extendChartView({type:"scatter",init:function(){this._normalSymbolDraw=new i;this._largeSymbolDraw=new a},render:function(e,t,n){var i=e.getData();var a=this._largeSymbolDraw;var o=this._normalSymbolDraw;var s=this.group;var r=e.get("large")&&i.count()>e.get("largeThreshold")?a:o;this._symbolDraw=r;r.updateData(i);s.add(r.group);s.remove(r===a?o.group:a.group)},updateLayout:function(e){this._symbolDraw.updateLayout(e)},remove:function(e,t){this._symbolDraw&&this._symbolDraw.remove(t,!0)}})},function(e,t,n){function i(){this.group=new a.Group;this._symbolEl=new s({})}var a=n(43);var o=n(106);var s=a.extendShape({shape:{points:null,sizes:null},symbolProxy:null,buildPath:function(e,t){var n=t.points;var i=t.sizes;var a=this.symbolProxy;var o=a.shape;for(var s=0;s<n.length;s++){var r=n[s];var d=i[s];if(d[0]<4)e.rect(r[0]-d[0]/2,r[1]-d[1]/2,d[0],d[1]);else{o.x=r[0]-d[0]/2;o.y=r[1]-d[1]/2;o.width=d[0];o.height=d[1];a.buildPath(e,o,!0)}}},findDataIndex:function(e,t){var n=this.shape;var i=n.points;var a=n.sizes;for(var o=i.length-1;o>=0;o--){var s=i[o];var r=a[o];var d=s[0]-r[0]/2;var c=s[1]-r[1]/2;if(e>=d&&t>=c&&e<=d+r[0]&&t<=c+r[1])return o}return-1}});var r=i.prototype;r.updateData=function(e){this.group.removeAll();var t=this._symbolEl;var n=e.hostModel;t.setShape({points:e.mapArray(e.getItemLayout),sizes:e.mapArray(function(t){var n=e.getItemVisual(t,"symbolSize");if(!(n instanceof Array))n=[n,n];return n})});t.symbolProxy=o.createSymbol(e.getVisual("symbol"),0,0,0,0);t.setColor=t.symbolProxy.setColor;t.useStyle(n.getModel("itemStyle.normal").getItemStyle(["color"]));var i=e.getVisual("color");if(i)t.setColor(i);t.seriesIndex=n.seriesIndex;t.on("mousemove",function(e){t.dataIndex=null;var n=t.findDataIndex(e.offsetX,e.offsetY);if(n>0)t.dataIndex=n});this.group.add(t)};r.updateLayout=function(e){var t=e.getData();this._symbolEl.setShape({points:t.mapArray(t.getItemLayout)})};r.remove=function(){this.group.removeAll()};e.exports=i},function(e,t,n){var i=n(4);var a=n(1);n(152);n(157);n(158);a.registerVisual(i.curry(n(143),"radar"));a.registerVisual(i.curry(n(109),"radar","circle",null));a.registerLayout(n(159));a.registerProcessor(i.curry(n(146),"radar"));a.registerPreprocessor(n(160))},function(e,t,n){n(153);n(155);n(156)},function(e,t,n){function i(e,t,n){this._model=e;this.dimensions=[];this._indicatorAxes=a.map(e.getIndicatorModels(),function(e,t){var n="indicator_"+t;var i=new o(n,new s);i.name=e.get("name");i.model=e;e.axis=i;this.dimensions.push(n);return i},this);this.resize(e,n);this.cx;this.cy;this.r;this.startAngle}var a=n(4);var o=n(154);var s=n(117);var r=n(7);var d=n(114);i.prototype.getIndicatorAxes=function(){return this._indicatorAxes};i.prototype.dataToPoint=function(e,t){var n=this._indicatorAxes[t];return this.coordToPoint(n.dataToCoord(e),t)};i.prototype.coordToPoint=function(e,t){var n=this._indicatorAxes[t];var i=n.angle;var a=this.cx+e*Math.cos(i);var o=this.cy-e*Math.sin(i);return[a,o]};i.prototype.pointToData=function(e){var t=e[0]-this.cx;var n=e[1]-this.cy;var i=Math.sqrt(t*t+n*n);t/=i;n/=i;var a=Math.atan2(-n,t);var o=1/0;var s;var r=-1;for(var d=0;d<this._indicatorAxes.length;d++){var c=this._indicatorAxes[d];var l=Math.abs(a-c.angle);if(l<o){s=c;r=d;o=l}}return[r,+(s&&s.coodToData(i))]};i.prototype.resize=function(e,t){var n=e.get("center");var i=t.getWidth();var o=t.getHeight();var s=Math.min(i,o)/2;this.cx=r.parsePercent(n[0],i);this.cy=r.parsePercent(n[1],o);this.startAngle=e.get("startAngle")*Math.PI/180;this.r=r.parsePercent(e.get("radius"),s);
a.each(this._indicatorAxes,function(e,t){e.setExtent(0,this.r);var n=this.startAngle+t*Math.PI*2/this._indicatorAxes.length;n=Math.atan2(Math.sin(n),Math.cos(n));e.angle=n},this)};i.prototype.update=function(e,t){function n(e){var t=Math.pow(10,Math.floor(Math.log(e)/Math.LN10));var n=e/t;if(2===n)n=5;else n*=2;return n*t}var i=this._indicatorAxes;var o=this._model;a.each(i,function(e){e.scale.setExtent(1/0,-(1/0))});e.eachSeriesByType("radar",function(t,n){if("radar"===t.get("coordinateSystem")&&e.getComponent("radar",t.get("radarIndex"))===o){var s=t.getData();a.each(i,function(e){e.scale.unionExtent(s.getDataExtent(e.dim))})}},this);var s=o.get("splitNumber");a.each(i,function(e,t){var i=d.getScaleExtent(e,e.model);d.niceScaleExtent(e,e.model);var a=e.model;var o=e.scale;var c=a.get("min");var l=a.get("max");var h=o.getInterval();if(null!=c&&null!=l)o.setInterval((l-c)/s);else if(null!=c){var p;do{p=c+h*s;o.setExtent(+c,p);o.setInterval(h);h=n(h)}while(p<i[1]&&isFinite(p)&&isFinite(i[1]))}else if(null!=l){var u;do{u=l-h*s;o.setExtent(u,+l);o.setInterval(h);h=n(h)}while(u>i[0]&&isFinite(u)&&isFinite(i[0]))}else{var f=o.getTicks().length-1;if(f>s)h=n(h);var _=Math.round((i[0]+i[1])/2/h)*h;var m=Math.round(s/2);o.setExtent(r.round(_-m*h),r.round(_+(s-m)*h));o.setInterval(h)}})};i.dimensions=[];i.create=function(e,t){var n=[];e.eachComponent("radar",function(a){var o=new i(a,e,t);n.push(o);a.coordinateSystem=o});e.eachSeriesByType("radar",function(e){if("radar"===e.get("coordinateSystem"))e.coordinateSystem=n[e.get("radarIndex")||0]});return n};n(26).register("radar",i);e.exports=i},function(e,t,n){function i(e,t,n){o.call(this,e,t,n);this.type="value";this.angle=0;this.name="";this.model}var a=n(4);var o=n(123);a.inherits(i,o);e.exports=i},function(e,t,n){function i(e,t){return r.defaults({show:t},e)}var a=n(128);var o=a.valueAxis;var s=n(12);var r=n(4);var d=n(129);var c=n(1).extendComponentModel({type:"radar",optionUpdated:function(){var e=this.get("boundaryGap");var t=this.get("splitNumber");var n=this.get("scale");var i=this.get("axisLine");var a=this.get("axisTick");var o=this.get("axisLabel");var c=this.get("name.textStyle");var l=this.get("name.show");var h=this.get("name.formatter");var p=this.get("nameGap");var u=r.map(this.get("indicator")||[],function(u){if(null!=u.max&&u.max>0&&!u.min)u.min=0;else if(null!=u.min&&u.min<0&&!u.max)u.max=0;u=r.merge(r.clone(u),{boundaryGap:e,splitNumber:t,scale:n,axisLine:i,axisTick:a,axisLabel:o,name:u.text,nameLocation:"end",nameGap:p,nameTextStyle:c},!1);if(!l)u.name="";if("string"==typeof h)u.name=h.replace("{value}",u.name);else if("function"==typeof h)u.name=h(u.name,u);return r.extend(new s(u,null,this.ecModel),d)},this);this.getIndicatorModels=function(){return u}},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"75%",startAngle:90,name:{show:!0},boundaryGap:[0,0],splitNumber:5,nameGap:15,scale:!1,shape:"polygon",axisLine:r.merge({lineStyle:{color:"#bbb"}},o.axisLine),axisLabel:i(o.axisLabel,!1),axisTick:i(o.axisTick,!1),splitLine:i(o.splitLine,!0),splitArea:i(o.splitArea,!0),indicator:[]}});e.exports=c},function(e,t,n){var i=n(132);var a=n(4);var o=n(43);var s=["axisLine","axisLabel","axisTick","axisName"];e.exports=n(1).extendComponentView({type:"radar",render:function(e,t,n){var i=this.group;i.removeAll();this._buildAxes(e);this._buildSplitLineAndArea(e)},_buildAxes:function(e){var t=e.coordinateSystem;var n=t.getIndicatorAxes();var o=a.map(n,function(e){var n=new i(e.model,{position:[t.cx,t.cy],rotation:e.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return n});a.each(o,function(e){a.each(s,e.add,e);this.group.add(e.getGroup())},this)},_buildSplitLineAndArea:function(e){function t(e,t,n){var i=n%t.length;e[i]=e[i]||[];return i}var n=e.coordinateSystem;var i=e.get("splitNumber");var s=n.getIndicatorAxes();if(s.length){var r=e.get("shape");var d=e.getModel("splitLine");var c=e.getModel("splitArea");var l=d.getModel("lineStyle");var h=c.getModel("areaStyle");var p=d.get("show");var u=c.get("show");var f=l.get("color");var _=h.get("color");f=a.isArray(f)?f:[f];_=a.isArray(_)?_:[_];var m=[];var g=[];if("circle"===r){var b=s[0].getTicksCoords();var x=n.cx;var v=n.cy;for(var C=0;C<b.length;C++){if(p){var w=t(m,f,C);m[w].push(new o.Circle({shape:{cx:x,cy:v,r:b[C]}}))}if(u&&C<b.length-1){var w=t(g,_,C);g[w].push(new o.Ring({shape:{cx:x,cy:v,r0:b[C],r:b[C+1]}}))}}}else{var I=a.map(s,function(e,t){var i=e.getTicksCoords();return a.map(i,function(e){return n.coordToPoint(e,t)})});var y=[];for(var C=0;C<=i;C++){var $=[];for(var A=0;A<s.length;A++)$.push(I[A][C]);if($[0])$.push($[0].slice());else if(!0){console.error("Can't draw value axis "+C);continue}if(p){var w=t(m,f,C);m[w].push(new o.Polyline({shape:{points:$}}))}if(u&&y){var w=t(g,_,C-1);g[w].push(new o.Polygon({shape:{points:$.concat(y)}}))}y=$.slice().reverse()}}var E=l.getLineStyle();var T=h.getAreaStyle();a.each(g,function(e,t){this.group.add(o.mergePath(e,{style:a.defaults({stroke:"none",fill:_[t%_.length]},T),silent:!0}))},this);a.each(m,function(e,t){this.group.add(o.mergePath(e,{style:a.defaults({fill:"none",stroke:f[t%f.length]},E),silent:!0}))},this)}}})},function(e,t,n){"use strict";var i=n(28);var a=n(97);var o=n(102);var s=n(4);var r=i.extend({type:"series.radar",dependencies:["radar"],init:function(e){r.superApply(this,"init",arguments);this.legendDataProvider=function(){return this._dataBeforeProcessed}},getInitialData:function(e,t){var n=e.data||[];var i=o([],n,[],"indicator_");var s=new a(i,this);s.initData(n);return s},formatTooltip:function(e){var t=this.getRawValue(e);var n=this.coordinateSystem;var i=n.getIndicatorAxes();return(""==this._data.getName(e)?this.name:this._data.getName(e))+"<br/>"+s.map(i,function(e,n){return e.name+" : "+t[n]}).join("<br />")},defaultOption:{zlevel:0,z:2,coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{normal:{width:2,type:"solid"}},label:{normal:{position:"top"}},symbol:"emptyCircle",symbolSize:4}});e.exports=r},function(e,t,n){function i(e){if(!o.isArray(e))e=[+e,+e];return e}var a=n(43);var o=n(4);var s=n(106);e.exports=n(1).extendChartView({type:"radar",render:function(e,t,n){function r(e,t){var n=e.getItemVisual(t,"symbol")||"circle";var a=e.getItemVisual(t,"color");if("none"!==n){var o=s.createSymbol(n,-.5,-.5,1,1,a);o.attr({style:{strokeNoScale:!0},z2:100,scale:i(e.getItemVisual(t,"symbolSize"))});return o}}function d(t,n,i,o,s,d){i.removeAll();for(var c=0;c<n.length-1;c++){var l=r(o,s);if(l){l.__dimIdx=c;if(t[c]){l.attr("position",t[c]);a[d?"initProps":"updateProps"](l,{position:n[c]},e,s)}else l.attr("position",n[c]);i.add(l)}}}function c(e){return o.map(e,function(e){return[l.cx,l.cy]})}var l=e.coordinateSystem;var h=this.group;var p=e.getData();var u=this._data;p.diff(u).add(function(t){var n=p.getItemLayout(t);if(n){var i=new a.Polygon;var o=new a.Polyline;var s={shape:{points:n}};i.shape.points=c(n);o.shape.points=c(n);a.initProps(i,s,e,t);a.initProps(o,s,e,t);var r=new a.Group;var l=new a.Group;r.add(o);r.add(i);r.add(l);d(o.shape.points,n,l,p,t,!0);p.setItemGraphicEl(t,r)}}).update(function(t,n){var i=u.getItemGraphicEl(n);var o=i.childAt(0);var s=i.childAt(1);var r=i.childAt(2);var c={shape:{points:p.getItemLayout(t)}};if(c.shape.points){d(o.shape.points,c.shape.points,r,p,t,!1);a.updateProps(o,c,e);a.updateProps(s,c,e);p.setItemGraphicEl(t,i)}}).remove(function(e){h.remove(u.getItemGraphicEl(e))}).execute();p.eachItemGraphicEl(function(t,n){function i(){c.attr("ignore",g)}function s(){c.attr("ignore",m)}var r=p.getItemModel(n);var d=t.childAt(0);var c=t.childAt(1);var l=t.childAt(2);var u=p.getItemVisual(n,"color");h.add(t);d.useStyle(o.defaults(r.getModel("lineStyle.normal").getLineStyle(),{fill:"none",stroke:u}));d.hoverStyle=r.getModel("lineStyle.emphasis").getLineStyle();var f=r.getModel("areaStyle.normal");var _=r.getModel("areaStyle.emphasis");var m=f.isEmpty()&&f.parentModel.isEmpty();var g=_.isEmpty()&&_.parentModel.isEmpty();g=g&&m;c.ignore=m;c.useStyle(o.defaults(f.getAreaStyle(),{fill:u,opacity:.7}));c.hoverStyle=_.getAreaStyle();var b=r.getModel("itemStyle.normal").getItemStyle(["color"]);var x=r.getModel("itemStyle.emphasis").getItemStyle();var v=r.getModel("label.normal");var C=r.getModel("label.emphasis");l.eachChild(function(t){t.setStyle(b);t.hoverStyle=o.clone(x);var i=p.get(p.dimensions[t.__dimIdx],n);a.setText(t.style,v,u);t.setStyle({text:v.get("show")?o.retrieve(e.getFormattedLabel(n,"normal",null,t.__dimIdx),i):""});a.setText(t.hoverStyle,C,u);t.hoverStyle.text=C.get("show")?o.retrieve(e.getFormattedLabel(n,"emphasis",null,t.__dimIdx),i):""});t.off("mouseover").off("mouseout").off("normal").off("emphasis");t.on("emphasis",i).on("mouseover",i).on("normal",s).on("mouseout",s);a.setHoverStyle(t)});this._data=p},remove:function(){this.group.removeAll();this._data=null}})},function(e,t){e.exports=function(e){e.eachSeriesByType("radar",function(e){function t(e,t){i[t]=i[t]||[];i[t][o]=a.dataToPoint(e,o)}var n=e.getData();var i=[];var a=e.coordinateSystem;if(a){for(var o=0;o<a.getIndicatorAxes().length;o++){var s=n.dimensions[o];n.each(s,t)}n.each(function(e){i[e][0]&&i[e].push(i[e][0].slice());n.setItemLayout(e,i[e])})}})}},function(e,t,n){var i=n(4);e.exports=function(e){var t=e.polar;if(t){if(!i.isArray(t))t=[t];var n=[];i.each(t,function(t,a){if(t.indicator){if(t.type&&!t.shape)t.shape=t.type;e.radar=e.radar||[];if(!i.isArray(e.radar))e.radar=[e.radar];e.radar.push(t)}else n.push(t)});e.polar=n}i.each(e.series,function(e){if("radar"===e.type&&e.polarIndex)e.radarIndex=e.polarIndex})}},function(e,t,n){var i=n(1);var a=i.PRIORITY;n(162);n(172);n(176);n(163);i.registerLayout(n(178));i.registerVisual(n(179));i.registerProcessor(a.PROCESSOR.STATISTIC,n(180));i.registerPreprocessor(n(181));n(142)("map",[{type:"mapToggleSelect",event:"mapselectchanged",method:"toggleSelected"},{type:"mapSelect",event:"mapselected",method:"select"},{type:"mapUnSelect",event:"mapunselected",method:"unSelect"}])},function(e,t,n){
var i=n(97);var a=n(28);var o=n(4);var s=n(102);var r=n(6);var d=r.encodeHTML;var c=r.addCommas;var l=n(140);var h=n(163);var p=a.extend({type:"series.map",layoutMode:"box",needsDrawMap:!1,seriesGroup:[],init:function(e){e=this._fillOption(e,e.map);this.option=e;p.superApply(this,"init",arguments);this.updateSelectedMap(e.data)},getInitialData:function(e){var t=s(["value"],e.data||[]);var n=new i(t,this);n.initData(e.data);return n},mergeOption:function(e){if(e.data)e=this._fillOption(e,this.option.map);p.superCall(this,"mergeOption",e);this.updateSelectedMap(this.option.data)},_fillOption:function(e,t){e=o.extend({},e);e.data=h.getFilledRegions(e.data,t);return e},getRawValue:function(e){return this._data.get("value",e)},getRegionModel:function(e){var t=this.getData();return t.getItemModel(t.indexOfName(e))},formatTooltip:function(e){var t=this.getData();var n=c(this.getRawValue(e));var i=t.getName(e);var a=this.seriesGroup;var o=[];for(var s=0;s<a.length;s++){var r=a[s].originalData.indexOfName(i);if(!isNaN(a[s].originalData.get("value",r)))o.push(d(a[s].name))}return o.join(", ")+"<br />"+i+" : "+n},defaultOption:{zlevel:0,z:2,coordinateSystem:"geo",map:"china",left:"center",top:"center",aspectScale:.75,showLegendSymbol:!0,dataRangeHoverLink:!0,center:null,zoom:1,scaleLimit:null,label:{normal:{show:!1,textStyle:{color:"#000"}},emphasis:{show:!0,textStyle:{color:"rgb(100,0,0)"}}},itemStyle:{normal:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{areaColor:"rgba(255,215,0,0.8)"}}},setZoom:function(e){this.option.zoom=e},setCenter:function(e){this.option.center=e}});o.mixin(p,l);e.exports=p},function(e,t,n){function i(e,t){var n=this.getBoundingRect();var i;var a=e.get("layoutCenter");var o=e.get("layoutSize");var r=t.getWidth();var c=t.getHeight();var l=e.get("aspectScale")||.75;var h=n.width/n.height*l;var p=!1;if(a&&o){a=[d.parsePercent(a[0],r),d.parsePercent(a[1],c)];o=d.parsePercent(o,Math.min(r,c));if(!isNaN(a[0])&&!isNaN(a[1])&&!isNaN(o))p=!0;else if(!0)console.warn("Given layoutCenter or layoutSize data are invalid. Use left/top/width/height instead.")}var u;if(p){var u={};if(h>1){u.width=o;u.height=o/h}else{u.height=o;u.width=o*h}u.y=a[1]-u.height/2;u.x=a[0]-u.width/2}else{i=e.getBoxLayoutParams();i.aspect=h;u=s.getLayoutRect(i,{width:r,height:c})}this.setViewRect(u.x,u.y,u.width,u.height);this.setCenter(e.get("center"));this.setZoom(e.get("zoom"))}function a(e,t){r.each(t.get("geoCoord"),function(t,n){e.addGeoCoord(n,t)})}var o=n(164);var s=n(21);var r=n(4);var d=n(7);var c={};if(!0)var l=function(e){console.error("Map "+e+" not exists. You can download map file on http://echarts.baidu.com/download-map.html")};var h={dimensions:o.prototype.dimensions,create:function(e,t){var n=[];e.eachComponent("geo",function(e,s){var r=e.get("map");var d=c[r];if(!0)if(!d)l(r);var h=new o(r+s,r,d&&d.geoJson,d&&d.specialAreas,e.get("nameMap"));h.zoomLimit=e.get("scaleLimit");n.push(h);a(h,e);e.coordinateSystem=h;h.model=e;h.resize=i;h.resize(e,t)});e.eachSeries(function(e){var t=e.get("coordinateSystem");if("geo"===t){var i=e.get("geoIndex")||0;e.coordinateSystem=n[i]}});var s={};e.eachSeriesByType("map",function(e){var t=e.get("map");s[t]=s[t]||[];s[t].push(e)});r.each(s,function(e,s){var d=c[s];if(!0)if(!d)l(e[0].get("map"));var h=r.map(e,function(e){return e.get("nameMap")});var p=new o(s,s,d&&d.geoJson,d&&d.specialAreas,r.mergeAll(h));p.zoomLimit=r.retrieve.apply(null,r.map(e,function(e){return e.get("scaleLimit")}));n.push(p);p.resize=i;p.resize(e[0],t);r.each(e,function(e){e.coordinateSystem=p;a(p,e)})});return n},registerMap:function(e,t,n){if(t.geoJson&&!t.features){n=t.specialAreas;t=t.geoJson}if("string"==typeof t)t="undefined"!=typeof JSON&&JSON.parse?JSON.parse(t):new Function("return ("+t+");")();c[e]={geoJson:t,specialAreas:n}},getMap:function(e){return c[e]},getFilledRegions:function(e,t){var n=(e||[]).slice();var i=h.getMap(t);var a=i&&i.geoJson;if(!a){if(!0)l(t);return e}var o={};var s=a.features;for(var r=0;r<n.length;r++)o[n[r].name]=n[r];for(var r=0;r<s.length;r++){var d=s[r].properties.name;if(!o[d])n.push({name:d})}return n}};var p=n(1);p.registerMap=h.registerMap;p.getMap=h.getMap;p.loadMap=function(){};p.registerCoordinateSystem("geo",h);e.exports=h},function(e,t,n){function i(e,t,n,i,a){r.call(this,e);this.map=t;this._nameCoordMap={};this.loadGeoJson(n,i,a)}var a=n(165);var o=n(4);var s=n(9);var r=n(168);var d=[n(169),n(170),n(171)];i.prototype={constructor:i,type:"geo",dimensions:["lng","lat"],containCoord:function(e){var t=this.regions;for(var n=0;n<t.length;n++)if(t[n].contain(e))return!0;return!1},loadGeoJson:function(e,t,n){try{this.regions=e?a(e):[]}catch(i){throw"Invalid geoJson format\n"+i}t=t||{};n=n||{};var s=this.regions;var r={};for(var c=0;c<s.length;c++){var l=s[c].name;l=n[l]||l;s[c].name=l;r[l]=s[c];this.addGeoCoord(l,s[c].center);var h=t[l];if(h)s[c].transformTo(h.left,h.top,h.width,h.height)}this._regionsMap=r;this._rect=null;o.each(d,function(e){e(this)},this)},transformTo:function(e,t,n,i){var a=this.getBoundingRect();a=a.clone();a.y=-a.y-a.height;var o=this._viewTransform;o.transform=a.calculateTransform(new s(e,t,n,i));o.decomposeTransform();var r=o.scale;r[1]=-r[1];o.updateTransform();this._updateTransform()},getRegion:function(e){return this._regionsMap[e]},getRegionByCoord:function(e){var t=this.regions;for(var n=0;n<t.length;n++)if(t[n].contain(e))return t[n]},addGeoCoord:function(e,t){this._nameCoordMap[e]=t},getGeoCoord:function(e){return this._nameCoordMap[e]},getBoundingRect:function(){if(this._rect)return this._rect;var e;var t=this.regions;for(var n=0;n<t.length;n++){var i=t[n].getBoundingRect();e=e||i.clone();e.union(i)}return this._rect=e||new s(0,0,0,0)},dataToPoints:function(e){var t=[];return e.mapArray(["lng","lat"],function(e,n){t[0]=e;t[1]=n;return this.dataToPoint(t)},this)},dataToPoint:function(e){if("string"==typeof e)e=this.getGeoCoord(e);if(e)return r.prototype.dataToPoint.call(this,e)}};o.mixin(i,r);e.exports=i},function(e,t,n){function i(e){if(!e.UTF8Encoding)return e;var t=e.features;for(var n=0;n<t.length;n++){var i=t[n];var o=i.geometry;var s=o.coordinates;var r=o.encodeOffsets;for(var d=0;d<s.length;d++){var c=s[d];if("Polygon"===o.type)s[d]=a(c,r[d]);else if("MultiPolygon"===o.type)for(var l=0;l<c.length;l++){var h=c[l];c[l]=a(h,r[d][l])}}}e.UTF8Encoding=!1;return e}function a(e,t){var n=[];var i=t[0];var a=t[1];for(var o=0;o<e.length;o+=2){var s=e.charCodeAt(o)-64;var r=e.charCodeAt(o+1)-64;s=s>>1^-(1&s);r=r>>1^-(1&r);s+=i;r+=a;i=s;a=r;n.push([s/1024,r/1024])}return n}function o(e){var t=[];for(var n=0;n<e.length;n++)for(var i=0;i<e[n].length;i++)t.push(e[n][i]);return t}var s=n(4);var r=n(166);e.exports=function(e){i(e);return s.map(s.filter(e.features,function(e){return e.geometry&&e.properties}),function(e){var t=e.properties;var n=e.geometry;var i=n.coordinates;if("MultiPolygon"===n.type)i=o(i);return new r(t.name,i,t.cp)})}},function(e,t,n){function i(e,t,n){this.name=e;this.contours=t;if(!n){var i=this.getBoundingRect();n=[i.x+i.width/2,i.y+i.height/2]}else n=[n[0],n[1]];this.center=n}var a=n(167);var o=n(9);var s=n(51);var r=n(10);i.prototype={constructor:i,getBoundingRect:function(){var e=this._rect;if(e)return e;var t=Number.MAX_VALUE;var n=[t,t];var i=[-t,-t];var a=[];var d=[];var c=this.contours;for(var l=0;l<c.length;l++){s.fromPoints(c[l],a,d);r.min(n,n,a);r.max(i,i,d)}if(0===l)n[0]=n[1]=i[0]=i[1]=0;return this._rect=new o(n[0],n[1],i[0]-n[0],i[1]-n[1])},contain:function(e){var t=this.getBoundingRect();var n=this.contours;if(t.contain(e[0],e[1]))for(var i=0,o=n.length;i<o;i++)if(a.contain(n[i],e[0],e[1]))return!0;return!1},transformTo:function(e,t,n,i){var a=this.getBoundingRect();var s=a.width/a.height;if(!n)n=s*i;else if(!i)i=n/s;var d=new o(e,t,n,i);var c=a.calculateTransform(d);var l=this.contours;for(var h=0;h<l.length;h++)for(var p=0;p<l[h].length;p++)r.applyTransform(l[h][p],l[h][p],c);a=this._rect;a.copy(d);this.center=[a.x+a.width/2,a.y+a.height/2]}};e.exports=i},function(e,t,n){function i(e,t){return Math.abs(e-t)<s}function a(e,t,n){var a=0;var s=e[0];if(!s)return!1;for(var r=1;r<e.length;r++){var d=e[r];a+=o(s[0],s[1],d[0],d[1],t,n);s=d}var c=e[0];if(!i(s[0],c[0])||!i(s[1],c[1]))a+=o(s[0],s[1],c[0],c[1],t,n);return 0!==a}var o=n(58);var s=1e-8;e.exports={contain:a}},function(e,t,n){function i(){r.call(this)}function a(e){this.name=e;this.zoomLimit;r.call(this);this._roamTransform=new i;this._viewTransform=new i;this._center;this._zoom}var o=n(10);var s=n(11);var r=n(34);var d=n(4);var c=n(9);var l=o.applyTransform;d.mixin(i,r);a.prototype={constructor:a,type:"view",dimensions:["x","y"],setBoundingRect:function(e,t,n,i){this._rect=new c(e,t,n,i);return this._rect},getBoundingRect:function(){return this._rect},setViewRect:function(e,t,n,i){n=n;i=i;this.transformTo(e,t,n,i);this._viewRect=new c(e,t,n,i)},transformTo:function(e,t,n,i){var a=this.getBoundingRect();var o=this._viewTransform;o.transform=a.calculateTransform(new c(e,t,n,i));o.decomposeTransform();this._updateTransform()},setCenter:function(e){if(e){this._center=e;this._updateCenterAndZoom()}},setZoom:function(e){e=e||1;var t=this.zoomLimit;if(t){if(null!=t.max)e=Math.min(t.max,e);if(null!=t.min)e=Math.max(t.min,e)}this._zoom=e;this._updateCenterAndZoom()},getDefaultCenter:function(){var e=this.getBoundingRect();var t=e.x+e.width/2;var n=e.y+e.height/2;return[t,n]},getCenter:function(){return this._center||this.getDefaultCenter()},getZoom:function(){return this._zoom||1},getRoamTransform:function(){return this._roamTransform},_updateCenterAndZoom:function(){var e=this._viewTransform.getLocalTransform();var t=this._roamTransform;var n=this.getDefaultCenter();var i=this.getCenter();var a=this.getZoom();i=o.applyTransform([],i,e);n=o.applyTransform([],n,e);t.origin=i;t.position=[n[0]-i[0],n[1]-i[1]];t.scale=[a,a];this._updateTransform()},_updateTransform:function(){var e=this._roamTransform;var t=this._viewTransform;t.parent=e;e.updateTransform();t.updateTransform();
t.transform&&s.copy(this.transform||(this.transform=[]),t.transform);if(this.transform){this.invTransform=this.invTransform||[];s.invert(this.invTransform,this.transform)}else this.invTransform=null;this.decomposeTransform()},getViewRect:function(){return this._viewRect},getViewRectAfterRoam:function(){var e=this.getBoundingRect().clone();e.applyTransform(this.transform);return e},dataToPoint:function(e){var t=this.transform;return t?l([],e,t):[e[0],e[1]]},pointToData:function(e){var t=this.invTransform;return t?l([],e,t):[e[0],e[1]]}};d.mixin(a,r);e.exports=a},function(e,t,n){var i=n(166);var a=[126,25];var o=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]];for(var s=0;s<o.length;s++)for(var r=0;r<o[s].length;r++){o[s][r][0]/=10.5;o[s][r][1]/=-14;o[s][r][0]+=a[0];o[s][r][1]+=a[1]}e.exports=function(e){if("china"===e.map)e.regions.push(new i("南海诸岛",o,a))}},function(e,t,n){var i=n(4);var a={"南海诸岛":[32,80],"广东":[0,-10],"香港":[10,5],"澳门":[-10,10],"天津":[5,5]};e.exports=function(e){i.each(e.regions,function(e){var t=a[e.name];if(t){var n=e.center;n[0]+=t[0]/10.5;n[1]+=-t[1]/14}})}},function(e,t,n){var i=n(4);var a={Russia:[100,60],"United States of America":[-99,38]};e.exports=function(e){i.each(e.regions,function(e){var t=a[e.name];if(t){var n=e.center;n[0]=t[0];n[1]=t[1]}})}},function(e,t,n){var i=n(43);var a=n(173);n(1).extendChartView({type:"map",render:function(e,t,n,i){if(!i||"mapToggleSelect"!==i.type||i.from!==this.uid){var o=this.group;o.removeAll();if(!i||"geoRoam"!==i.type||"series"!==i.componentType||i.seriesId!==e.id)if(e.needsDrawMap){var s=this._mapDraw||new a(n,(!0));o.add(s.group);s.draw(e,t,n,this,i);this._mapDraw=s}else{this._mapDraw&&this._mapDraw.remove();this._mapDraw=null}else{var s=this._mapDraw;s&&o.add(s.group)}e.get("showLegendSymbol")&&t.getComponent("legend")&&this._renderSymbols(e,t,n)}},remove:function(){this._mapDraw&&this._mapDraw.remove();this._mapDraw=null;this.group.removeAll()},_renderSymbols:function(e,t,n){var a=e.originalData;var o=this.group;a.each("value",function(t,n){if(!isNaN(t)){var s=a.getItemLayout(n);if(s&&s.point){var r=s.point;var d=s.offset;var c=new i.Circle({style:{fill:e.getData().getVisual("color")},shape:{cx:r[0]+9*d,cy:r[1],r:3},silent:!0,z2:10});if(!d){var l=e.mainSeries.getData();var h=a.getName(n);var p=h;var u=l.indexOfName(h);var f=a.getItemModel(n);var _=f.getModel("label.normal");var m=f.getModel("label.emphasis");var g=_.getModel("textStyle");var b=m.getModel("textStyle");var x=l.getItemGraphicEl(u);c.setStyle({textPosition:"bottom"});var v=function(){c.setStyle({text:m.get("show")?p:"",textFill:b.getTextColor(),textFont:b.getFont()})};var C=function(){c.setStyle({text:_.get("show")?p:"",textFill:g.getTextColor(),textFont:g.getFont()})};x.on("mouseover",v).on("mouseout",C).on("emphasis",v).on("normal",C);C()}o.add(c)}}})}})},function(e,t,n){function i(e,t){var n=e.getItemStyle();var i=e.get("areaColor");if(i)n.fill=i;return n}function a(e,t,n,i){t.off("click");e.get("selectedMode")&&t.on("click",function(a){var s=a.target;for(;!s.__region;)s=s.parent;if(s){var r=s.__region;var d={type:("geo"===e.mainType?"geo":"map")+"ToggleSelect",name:r.name,from:i.uid};d[e.mainType+"Id"]=e.id;n.dispatchAction(d);o(e,t)}})}function o(e,t){t.eachChild(function(t){if(t.__region)t.trigger(e.isSelected(t.__region.name)?"emphasis":"normal")})}function s(e,t){var n=new d.Group;this._controller=new r(e.getZr(),t?n:null,null);this.group=n;this._updateGroup=t}var r=n(174);var d=n(43);var c=n(4);s.prototype={constructor:s,draw:function(e,t,n,s,r){var l=e.getData&&e.getData();var h=e.coordinateSystem;var p=this.group;var u=h.scale;var f={position:h.position,scale:u};if(!p.childAt(0)||r)p.attr(f);else d.updateProps(p,f,e);p.removeAll();var _=["itemStyle","normal"];var m=["itemStyle","emphasis"];var g=["label","normal"];var b=["label","emphasis"];c.each(h.regions,function(t){var n=new d.Group;var a=new d.CompoundPath({shape:{paths:[]}});n.add(a);var o=e.getRegionModel(t.name)||e;var s=o.getModel(_);var r=o.getModel(m);var h=i(s,u);var f=i(r,u);var x=o.getModel(g);var v=o.getModel(b);var C;if(l){C=l.indexOfName(t.name);var w=l.getItemVisual(C,"color",!0);if(w)h.fill=w}var I=x.getModel("textStyle");var y=v.getModel("textStyle");c.each(t.contours,function(e){var t=new d.Polygon({shape:{points:e}});a.shape.paths.push(t)});a.setStyle(h);a.style.strokeNoScale=!0;a.culling=!0;var $=x.get("show");var A=v.get("show");var E=l&&isNaN(l.get("value",C));var T=l&&l.getItemLayout(C);if(!l||E&&($||A)||T&&T.showLabel){var N=l?C:t.name;var S=e.getFormattedLabel(N,"normal");var k=e.getFormattedLabel(N,"emphasis");var D=new d.Text({style:{text:$?S||t.name:"",fill:I.getTextColor(),textFont:I.getFont(),textAlign:"center",textVerticalAlign:"middle"},hoverStyle:{text:A?k||t.name:"",fill:y.getTextColor(),textFont:y.getFont()},position:t.center.slice(),scale:[1/u[0],1/u[1]],z2:10,silent:!0});n.add(D)}if(l)l.setItemGraphicEl(C,n);else{var o=e.getRegionModel(t.name);a.eventData={componentType:"geo",geoIndex:e.componentIndex,name:t.name,region:o&&o.option||{}}}n.__region=t;d.setHoverStyle(n,f);p.add(n)});this._updateController(e,t,n);a(e,p,n,s);o(e,p)},remove:function(){this.group.removeAll();this._controller.dispose()},_updateController:function(e,t,n){function i(){var t={type:"geoRoam",componentType:s};t[s+"Id"]=e.id;return t}var a=e.coordinateSystem;var o=this._controller;o.zoomLimit=e.get("scaleLimit");o.zoom=a.getZoom();o.enable(e.get("roam")||!1);var s=e.mainType;o.off("pan").on("pan",function(e,t){n.dispatchAction(c.extend(i(),{dx:e,dy:t}))});o.off("zoom").on("zoom",function(e,t,a){n.dispatchAction(c.extend(i(),{zoom:e,originX:t,originY:a}));if(this._updateGroup){var o=this.group;var s=o.scale;o.traverse(function(e){if("text"===e.type)e.attr("scale",[1/s[0],1/s[1]])})}},this);o.rectProvider=function(){return a.getViewRectAfterRoam()}}};e.exports=s},function(e,t,n){function i(e){if(!e.target||!e.target.draggable){var t=e.offsetX;var n=e.offsetY;var i=this.rectProvider&&this.rectProvider();if(i&&i.contain(t,n)){this._x=t;this._y=n;this._dragging=!0}}}function a(e){if(this._dragging){p.stop(e.event);if("pinch"!==e.gestureEvent){if(u.isTaken(this._zr,"globalPan"))return;var t=e.offsetX;var n=e.offsetY;var i=t-this._x;var a=n-this._y;this._x=t;this._y=n;var o=this.target;if(o){var s=o.position;s[0]+=i;s[1]+=a;o.dirty()}p.stop(e.event);this.trigger("pan",i,a)}}}function o(e){this._dragging=!1}function s(e){var t=e.wheelDelta>0?1.1:1/1.1;d.call(this,e,t,e.offsetX,e.offsetY)}function r(e){if(!u.isTaken(this._zr,"globalPan")){var t=e.pinchScale>1?1.1:1/1.1;d.call(this,e,t,e.pinchX,e.pinchY)}}function d(e,t,n,i){var a=this.rectProvider&&this.rectProvider();if(a&&a.contain(n,i)){p.stop(e.event);var o=this.target;var s=this.zoomLimit;if(o){var r=o.position;var d=o.scale;var c=this.zoom=this.zoom||1;c*=t;if(s){var l=s.min||0;var h=s.max||1/0;c=Math.max(Math.min(h,c),l)}var u=c/this.zoom;this.zoom=c;r[0]-=(n-r[0])*(u-1);r[1]-=(i-r[1])*(u-1);d[0]*=u;d[1]*=u;o.dirty()}this.trigger("zoom",t,n,i)}}function c(e,t,n){this.target=t;this.rectProvider=n;this.zoomLimit;this.zoom;this._zr=e;var d=h.bind;var c=d(i,this);var p=d(a,this);var u=d(o,this);var f=d(s,this);var _=d(r,this);l.call(this);this.enable=function(t){this.disable();if(null==t)t=!0;if(t===!0||"move"===t||"pan"===t){e.on("mousedown",c);e.on("mousemove",p);e.on("mouseup",u)}if(t===!0||"scale"===t||"zoom"===t){e.on("mousewheel",f);e.on("pinch",_)}};this.disable=function(){e.off("mousedown",c);e.off("mousemove",p);e.off("mouseup",u);e.off("mousewheel",f);e.off("pinch",_)};this.dispose=this.disable;this.isDragging=function(){return this._dragging};this.isPinching=function(){return this._pinching}}var l=n(33);var h=n(4);var p=n(87);var u=n(175);h.mixin(c,l);e.exports=c},function(e,t,n){function i(e){return e[a]||(e[a]={})}var a="\0_ec_interaction_mutex";var o={take:function(e,t,n){var a=i(e);a[t]=n},release:function(e,t,n){var a=i(e);var o=a[t];if(o===n)a[t]=null},isTaken:function(e,t){return!!i(e)[t]}};n(1).registerAction({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},function(){});e.exports=o},function(e,t,n){var i=n(4);var a=n(177);var o=n(1);o.registerAction({type:"geoRoam",event:"geoRoam",update:"updateLayout"},function(e,t){var n=e.componentType||"series";t.eachComponent({mainType:n,query:e},function(t){var o=t.coordinateSystem;if("geo"===o.type){var s=a.updateCenterAndZoom(o,e,t.get("scaleLimit"));t.setCenter&&t.setCenter(s.center);t.setZoom&&t.setZoom(s.zoom);if("series"===n)i.each(t.seriesGroup,function(e){e.setCenter(s.center);e.setZoom(s.zoom)})}})})},function(e,t){var n={};n.updateCenterAndZoom=function(e,t,n){var i=e.getZoom();var a=e.getCenter();var o=t.zoom;var s=e.dataToPoint(a);if(null!=t.dx&&null!=t.dy){s[0]-=t.dx;s[1]-=t.dy;var a=e.pointToData(s);e.setCenter(a)}if(null!=o){if(n){var r=n.min||0;var d=n.max||1/0;o=Math.max(Math.min(i*o,d),r)/i}e.scale[0]*=o;e.scale[1]*=o;var c=e.position;var l=(t.originX-c[0])*(o-1);var h=(t.originY-c[1])*(o-1);c[0]-=l;c[1]-=h;e.updateTransform();var a=e.pointToData(s);e.setCenter(a);e.setZoom(o*i)}return{center:e.getCenter(),zoom:e.getZoom()}};e.exports=n},function(e,t,n){var i=n(4);e.exports=function(e){var t={};e.eachSeriesByType("map",function(n){var a=n.get("map");if(!t[a]){var o={};i.each(n.seriesGroup,function(t){var n=t.coordinateSystem;var i=t.originalData;if(t.get("showLegendSymbol")&&e.getComponent("legend"))i.each("value",function(e,t){
var a=i.getName(t);var s=n.getRegion(a);if(s&&!isNaN(e)){var r=o[a]||0;var d=n.dataToPoint(s.center);o[a]=r+1;i.setItemLayout(t,{point:d,offset:r})}})});var s=n.getData();s.each(function(e){var t=s.getName(e);var n=s.getItemLayout(e)||{};n.showLabel=!o[t];s.setItemLayout(e,n)});t[a]=!0}})}},function(e,t){e.exports=function(e){e.eachSeriesByType("map",function(e){var t=e.get("color");var n=e.getModel("itemStyle.normal");var i=n.get("areaColor");var a=n.get("color")||t[e.seriesIndex%t.length];e.getData().setVisual({areaColor:i,color:a})})}},function(e,t,n){function i(e,t){var n={};var i=["value"];for(var a=0;a<e.length;a++)e[a].each(i,function(t,i){var o=e[a].getName(i);n[o]=n[o]||[];if(!isNaN(t))n[o].push(t)});return e[0].map(i,function(i,a){var o=e[0].getName(a);var s=0;var r=1/0;var d=-(1/0);var c=n[o].length;for(var l=0;l<c;l++){r=Math.min(r,n[o][l]);d=Math.max(d,n[o][l]);s+=n[o][l]}var h;if("min"===t)h=r;else if("max"===t)h=d;else if("average"===t)h=s/c;else h=s;return 0===c?NaN:h})}var a=n(4);e.exports=function(e){var t={};e.eachSeriesByType("map",function(e){var n=e.get("map");t[n]=t[n]||[];t[n].push(e)});a.each(t,function(e,t){var n=i(a.map(e,function(e){return e.getData()}),e[0].get("mapValueCalculation"));for(var o=0;o<e.length;o++)e[o].originalData=e[o].getData();for(var o=0;o<e.length;o++){e[o].seriesGroup=e;e[o].needsDrawMap=0===o;e[o].setData(n.cloneShallow());e[o].mainSeries=e[0]}})}},function(e,t,n){var i=n(4);e.exports=function(e){var t=[];i.each(e.series,function(e){if("map"===e.type)t.push(e)});i.each(t,function(e){e.map=e.map||e.mapType;i.defaults(e,e.mapLocation)})}},function(e,t,n){var i=n(1);n(183);n(186);n(190);i.registerVisual(n(191));i.registerLayout(n(193))},function(e,t,n){function i(e,t){var n=0;r.each(e.children,function(e){i(e,t);var a=e.value;r.isArray(a)&&(a=a[0]);n+=a});var a=e.value;if(t>=0)if(!r.isArray(a))e.value=new Array(t);else a=a[0];if(null==a||isNaN(a))a=n;if(a<0)a=0;t>=0?e.value[0]=a:e.value=a}function a(e,t){var n=t.get("color");if(n){e=e||[];var i;r.each(e,function(e){var t=new d(e);var n=t.get("color");if(t.get("itemStyle.normal.color")||n&&"none"!==n)i=!0});if(!i){var a=e[0]||(e[0]={});a.color=n.slice()}return e}}var o=n(28);var s=n(184);var r=n(4);var d=n(12);var c=n(6);var l=c.encodeHTML;var h=c.addCommas;e.exports=o.extend({type:"series.treemap",dependencies:["grid","polar"],_viewRoot:null,defaultOption:{progressive:0,hoverLayerThreshold:1/0,left:"center",top:"middle",right:null,bottom:null,width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"▶",visualDimension:0,zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{normal:{color:"rgba(0,0,0,0.7)",borderColor:"rgba(255,255,255,0.7)",borderWidth:1,shadowColor:"rgba(150,150,150,1)",shadowBlur:3,shadowOffsetX:0,shadowOffsetY:0,textStyle:{color:"#fff"}},emphasis:{textStyle:{}}}},label:{normal:{show:!0,position:"inside",textStyle:{color:"#fff",ellipsis:!0}}},itemStyle:{normal:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{}},color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},getInitialData:function(e,t){var n=e.data||[];var o=e.name;null==o&&(o=e.name);var d={name:o,children:e.data};var c=(n[0]||{}).value;i(d,r.isArray(c)?c.length:-1);var l=e.levels||[];l=e.levels=a(l,t);return s.createTree(d,this,l).data},optionUpdated:function(){this.resetViewRoot()},formatTooltip:function(e){var t=this.getData();var n=this.getRawValue(e);var i=r.isArray(n)?h(n[0]):h(n);var a=t.getName(e);return l(a)+": "+i},getDataParams:function(e){var t=o.prototype.getDataParams.apply(this,arguments);var n=this.getData();var i=n.tree.getNodeByDataIndex(e);var a=t.treePathInfo=[];for(;i;){var s=i.dataIndex;a.push({name:i.name,dataIndex:s,value:this.getRawValue(s)});i=i.parentNode}a.reverse();return t},setLayoutInfo:function(e){this.layoutInfo=this.layoutInfo||{};r.extend(this.layoutInfo,e)},mapIdToIndex:function(e){var t=this._idIndexMap;if(!t){t=this._idIndexMap={};this._idIndexMapCount=0}var n=t[e];if(null==n)t[e]=n=this._idIndexMapCount++;return n},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(e){e?this._viewRoot=e:e=this._viewRoot;var t=this.getData().tree.root;if(!e||e!==t&&!t.contains(e))this._viewRoot=t}})},function(e,t,n){function i(e,t){this.root;this.data;this._nodes=[];this.hostModel=e;this.levelModels=o.map(t||[],function(t){return new s(t,e,e.ecModel)})}function a(e,t){var n=t.children;if(e.parentNode!==t){n.push(e);e.parentNode=t}}var o=n(4);var s=n(12);var r=n(97);var d=n(185);var c=n(102);var l=function(e,t){this.name=e||"";this.depth=0;this.height=0;this.parentNode=null;this.dataIndex=-1;this.children=[];this.viewChildren=[];this.hostTree=t};l.prototype={constructor:l,isRemoved:function(){return this.dataIndex<0},eachNode:function(e,t,n){if("function"==typeof e){n=t;t=e;e=null}e=e||{};if(o.isString(e))e={order:e};var i=e.order||"preorder";var a=this[e.attr||"children"];var s;"preorder"===i&&(s=t.call(n,this));for(var r=0;!s&&r<a.length;r++)a[r].eachNode(e,t,n);"postorder"===i&&t.call(n,this)},updateDepthAndHeight:function(e){var t=0;this.depth=e;for(var n=0;n<this.children.length;n++){var i=this.children[n];i.updateDepthAndHeight(e+1);if(i.height>t)t=i.height}this.height=t+1},getNodeById:function(e){if(this.getId()===e)return this;for(var t=0,n=this.children,i=n.length;t<i;t++){var a=n[t].getNodeById(e);if(a)return a}},contains:function(e){if(e===this)return!0;for(var t=0,n=this.children,i=n.length;t<i;t++){var a=n[t].contains(e);if(a)return a}},getAncestors:function(e){var t=[];var n=e?this:this.parentNode;for(;n;){t.push(n);n=n.parentNode}t.reverse();return t},getValue:function(e){var t=this.hostTree.data;return t.get(t.getDimension(e||"value"),this.dataIndex)},setLayout:function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,e,t)},getLayout:function(){return this.hostTree.data.getItemLayout(this.dataIndex)},getModel:function(e){if(!(this.dataIndex<0)){var t=this.hostTree;var n=t.data.getItemModel(this.dataIndex);var i=this.getLevelModel();return n.getModel(e,(i||t.hostModel).getModel(e))}},getLevelModel:function(){return(this.hostTree.levelModels||[])[this.depth]},setVisual:function(e,t){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,e,t)},getVisual:function(e,t){return this.hostTree.data.getItemVisual(this.dataIndex,e,t)},getRawIndex:function(){return this.hostTree.data.getRawIndex(this.dataIndex)},getId:function(){return this.hostTree.data.getId(this.dataIndex)}};i.prototype={constructor:i,type:"tree",eachNode:function(e,t,n){this.root.eachNode(e,t,n)},getNodeByDataIndex:function(e){var t=this.data.getRawIndex(e);return this._nodes[t]},getNodeByName:function(e){return this.root.getNodeByName(e)},update:function(){var e=this.data;var t=this._nodes;for(var n=0,i=t.length;n<i;n++)t[n].dataIndex=-1;for(var n=0,i=e.count();n<i;n++)t[e.getRawIndex(n)].dataIndex=n},clearLayouts:function(){this.data.clearItemLayouts()}};i.createTree=function(e,t,n){function o(e,t){h.push(e);var n=new l(e.name,s);t?a(n,t):s.root=n;s._nodes.push(n);var i=e.children;if(i)for(var r=0;r<i.length;r++)o(i[r],n)}var s=new i(t,n);var h=[];o(e);s.root.updateDepthAndHeight(0);var p=c([{name:"value"}],h);var u=new r(p,t);u.initData(h);d({mainData:u,struct:s,structAttr:"tree"});s.update();return s};e.exports=i},function(e,t,n){function i(e){var t=e.mainData;var n=e.datas;if(!n){n={main:t};e.datasAttr={main:"data"}}e.datas=e.mainData=null;c(t,n,e);p(n,function(n){p(t.TRANSFERABLE_METHODS,function(t){n.wrapMethod(t,h.curry(a,e))})});t.wrapMethod("cloneShallow",h.curry(s,e));p(t.CHANGABLE_METHODS,function(n){t.wrapMethod(n,h.curry(o,e))});h.assert(n[t.dataType]===t)}function a(e,t){if(d(this)){var n=h.extend({},this[u]);n[this.dataType]=t;c(t,n,e)}else l(t,this.dataType,this[f],e);return t}function o(e,t){e.struct&&e.struct.update(this);return t}function s(e,t){p(t[u],function(n,i){n!==t&&l(n.cloneShallow(),i,t,e)});return t}function r(e){var t=this[f];return null==e||null==t?t:t[u][e]}function d(e){return e[f]===e}function c(e,t,n){e[u]={};p(t,function(t,i){l(t,i,e,n)})}function l(e,t,n,i){n[u][t]=e;e[f]=n;e.dataType=t;if(i.struct){e[i.structAttr]=i.struct;i.struct[i.datasAttr[t]]=e}e.getLinkedData=r}var h=n(4);var p=h.each;var u="\0__link_datas";var f="\0__link_mainData";e.exports=i},function(e,t,n){function i(){return{nodeGroup:[],background:[],content:[]}}function a(e,t,n,i,a,d,c,l,h,p){function u(t){P.dataIndex=c.dataIndex;P.seriesIndex=e.seriesIndex;var n=A.borderWidth;var i=Math.max(E-2*n,0);var a=Math.max(T-2*n,0);P.culling=!0;P.setShape({x:n,y:n,width:i,height:a});var o=c.getVisual("color",!0);f(P,function(){var e={fill:o};var t=c.getModel("itemStyle.emphasis").getItemStyle();_(e,t,o,i,a);P.setStyle(e);r.setHoverStyle(P,t)});t.add(P)}function f(e,t){if(!N){t();if(!e.__tmWillVisible)e.invisible=!1}else!e.invisible&&d.push(e)}function _(t,n,i,a,o){var s=c.getModel();var r=s.get("name");if(A.isLeafRoot){var d=e.get("drillDownIcon",!0);r=d?d+" "+r:test}b(r,t,s,v,i,a,o);b(r,n,s,C,i,a,o)}function b(e,t,n,i,a,o,s){var d=n.getModel(i);var c=d.getModel("textStyle");r.setText(t,d,a);t.textAlign=c.get("align");t.textVerticalAlign=c.get("baseline");var l=c.getTextRect(e);if(!d.getShallow("show")||l.height>s)t.text="";else if(l.width>o)t.text=c.get("ellipsis")?c.truncateText(e,o,null,{minChar:2}):"";else t.text=e}function x(e,i,s,r){var d=null!=k&&n[e][k];var c=a[e];if(d){n[e][k]=null;w(c,d,e)}else if(!N){d=new i({z:o(s,r)});d.__tmDepth=s;d.__tmStorageName=e;$(c,d,e)}return t[e][S]=d}function w(e,t,n){var i=e[S]={};i.old="nodeGroup"===n?t.position.slice():s.extend({},t.shape)}function $(e,t,n){var o=e[S]={};var s=c.parentNode;if(s&&(!i||"drillDown"===i.direction)){
var r=0;var d=0;var l=a.background[s.getRawIndex()];if(!i&&l&&l.old){r=l.old.width;d=l.old.height}o.old="nodeGroup"===n?[0,d]:{x:r,y:d,width:0,height:0}}o.fadein="nodeGroup"!==n}if(c){var A=c.getLayout();if(A&&A.isInView){var E=A.width;var T=A.height;var N=A.invisible;var S=c.getRawIndex();var k=l&&l.getRawIndex();var D=x("nodeGroup",m);if(D){h.add(D);D.attr("position",[A.x||0,A.y||0]);D.__tmNodeWidth=E;D.__tmNodeHeight=T;if(A.isAboveViewRoot)return D;var U=x("background",g,p,I);if(U){U.setShape({x:0,y:0,width:E,height:T});f(U,function(){U.setStyle("fill",c.getVisual("borderColor",!0))});D.add(U)}var z=c.viewChildren;if(!z||!z.length){var P=x("content",g,p,y);P&&u(D)}return D}}}}function o(e,t){var n=e*w+t;return(n-1)/n}var s=n(4);var r=n(43);var d=n(98);var c=n(187);var l=n(188);var h=n(174);var p=n(9);var u=n(11);var f=n(189);var _=s.bind;var m=r.Group;var g=r.Rect;var b=s.each;var x=3;var v=["label","normal"];var C=["label","emphasis"];var w=10;var I=1;var y=2;e.exports=n(1).extendChartView({type:"treemap",init:function(e,t){this._containerGroup;this._storage=i();this._oldTree;this._breadcrumb;this._controller;this._state="ready";this._mayClick},render:function(e,t,n,i){var a=t.findComponents({mainType:"series",subType:"treemap",query:i});if(!(s.indexOf(a,e)<0)){this.seriesModel=e;this.api=n;this.ecModel=t;var o=c.retrieveTargetInfo(i,e);var r=i&&i.type;var d=e.layoutInfo;var l=!this._oldTree;var h=this._storage;var p="treemapRootToNode"===r&&o&&h?{rootNodeGroup:h.nodeGroup[o.node.getRawIndex()],direction:i.direction}:null;var u=this._giveContainerGroup(d);var f=this._doRender(u,e,p);!(l||r&&"treemapZoomToNode"!==r&&"treemapRootToNode"!==r)?this._doAnimation(u,f,e,p):f.renderFinally();this._resetController(n);this._renderBreadcrumb(e,n,o)}},_giveContainerGroup:function(e){var t=this._containerGroup;if(!t){t=this._containerGroup=new m;this._initEvents(t);this.group.add(t)}t.attr("position",[e.x,e.y]);return t},_doRender:function(e,t,n){function o(e,t,n,i,a){function r(e){return e.getId()}function c(s,r){var d=null!=s?e[s]:null;var c=null!=r?t[r]:null;var l=m(d,c,n,a);l&&o(d&&d.viewChildren||[],c&&c.viewChildren||[],l,i,a+1)}if(i){t=e;b(e,function(e,t){!e.isRemoved()&&c(t,t)})}else new d(t,e,r,r).add(c).update(c).remove(s.curry(c,null)).execute()}function r(e){var t=i();e&&b(e,function(e,n){var i=t[n];b(e,function(e){e&&(i.push(e),e.__tmWillDelete=1)})});return t}function c(){b(g,function(e){b(e,function(e){e.parent&&e.parent.remove(e)})});b(_,function(e){e.invisible=!0;e.dirty()})}var l=t.getData().tree;var h=this._oldTree;var p=i();var u=i();var f=this._storage;var _=[];var m=s.curry(a,t,u,f,n,p,_);o(l.root?[l.root]:[],h&&h.root?[h.root]:[],e,l===h||!h,0);var g=r(f);this._oldTree=l;this._storage=u;return{lastsForAnimation:p,willDeleteEls:g,renderFinally:c}},_doAnimation:function(e,t,n,i){if(n.get("animation")){var a=n.get("animationDurationUpdate");var o=n.get("animationEasing");var r=f.createWrap();b(t.willDeleteEls,function(e,t){b(e,function(e,n){if(!e.invisible){var s=e.parent;var d;if(i&&"drillDown"===i.direction)d=s===i.rootNodeGroup?{shape:{x:0,y:0,width:s.__tmNodeWidth,height:s.__tmNodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var c=0;var l=0;if(!s.__tmWillDelete){c=s.__tmNodeWidth/2;l=s.__tmNodeHeight/2}d="nodeGroup"===t?{position:[c,l],style:{opacity:0}}:{shape:{x:c,y:l,width:0,height:0},style:{opacity:0}}}d&&r.add(e,d,a,o)}})});b(this._storage,function(e,n){b(e,function(e,i){var d=t.lastsForAnimation[n][i];var c={};if(d){if("nodeGroup"===n){if(d.old){c.position=e.position.slice();e.attr("position",d.old)}}else{if(d.old){c.shape=s.extend({},e.shape);e.setShape(d.old)}if(d.fadein){e.setStyle("opacity",0);c.style={opacity:1}}else if(1!==e.style.opacity)c.style={opacity:1}}r.add(e,c,a,o)}})},this);this._state="animating";r.done(_(function(){this._state="ready";t.renderFinally()},this)).start()}},_resetController:function(e){var t=this._controller;if(!t){t=this._controller=new h(e.getZr());t.enable(this.seriesModel.get("roam"));t.on("pan",_(this._onPan,this));t.on("zoom",_(this._onZoom,this))}var n=new p(0,0,e.getWidth(),e.getHeight());t.rectProvider=function(){return n}},_clearController:function(){var e=this._controller;if(e){e.off("pan").off("zoom");e=null}},_onPan:function(e,t){this._mayClick=!1;if("animating"!==this._state&&(Math.abs(e)>x||Math.abs(t)>x)){var n=this.seriesModel.getData().tree.root;if(!n)return;var i=n.getLayout();if(!i)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:i.x+e,y:i.y+t,width:i.width,height:i.height}})}},_onZoom:function(e,t,n){this._mayClick=!1;if("animating"!==this._state){var i=this.seriesModel.getData().tree.root;if(!i)return;var a=i.getLayout();if(!a)return;var o=new p(a.x,a.y,a.width,a.height);var s=this.seriesModel.layoutInfo;t-=s.x;n-=s.y;var r=u.create();u.translate(r,r,[-t,-n]);u.scale(r,r,[e,e]);u.translate(r,r,[t,n]);o.applyTransform(r);this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:o.x,y:o.y,width:o.width,height:o.height}})}},_initEvents:function(e){function t(e){var t=this.seriesModel.get("nodeClick",!0);if(t){var n=this.findTarget(e.offsetX,e.offsetY);if(n){var i=n.node;if(i.getLayout().isLeafRoot)this._rootToNode(n);else if("zoomToNode"===t)this._zoomToNode(n);else if("link"===t){var a=i.hostTree.data.getItemModel(i.dataIndex);var o=a.get("link",!0);var s=a.get("target",!0)||"blank";o&&window.open(o,s)}}}}e.on("mousedown",function(e){"ready"===this._state&&(this._mayClick=!0)},this);e.on("mouseup",function(e){if(this._mayClick){this._mayClick=!1;"ready"===this._state&&t.call(this,e)}},this)},_renderBreadcrumb:function(e,t,n){function i(t){if("animating"!==this._state)c.aboveViewRoot(e.getViewRoot(),t)?this._rootToNode({node:t}):this._zoomToNode({node:t})}if(!n){n=this.findTarget(t.getWidth()/2,t.getHeight()/2);if(!n)n={node:e.getData().tree.root}}(this._breadcrumb||(this._breadcrumb=new l(this.group,_(i,this)))).render(e,t,n.node)},remove:function(){this._clearController();this._containerGroup&&this._containerGroup.removeAll();this._storage=i();this._state="ready";this._breadcrumb&&this._breadcrumb.remove()},dispose:function(){this._clearController()},_zoomToNode:function(e){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},_rootToNode:function(e){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},findTarget:function(e,t){var n;var i=this.seriesModel.getViewRoot();i.eachNode({attr:"viewChildren",order:"preorder"},function(i){var a=this._storage.background[i.getRawIndex()];if(a){var o=a.transformCoordToLocal(e,t);var s=a.shape;if(s.x<=o[0]&&o[0]<=s.x+s.width&&s.y<=o[1]&&o[1]<=s.y+s.height)n={node:i,offsetX:o[0],offsetY:o[1]};else return!1}},this);return n}})},function(e,t,n){var i=n(4);var a={retrieveTargetInfo:function(e,t){if(e&&("treemapZoomToNode"===e.type||"treemapRootToNode"===e.type)){var n=t.getData().tree.root;var i=e.targetNode;if(i&&n.contains(i))return{node:i};var a=e.targetNodeId;if(null!=a&&(i=n.getNodeById(a)))return{node:i}}},getPathToRoot:function(e){var t=[];for(;e;){e=e.parentNode;e&&t.push(e)}return t.reverse()},aboveViewRoot:function(e,t){var n=a.getPathToRoot(e);return i.indexOf(n,t)>=0}};e.exports=a},function(e,t,n){function i(e,t){this.group=new o.Group;e.add(this.group);this._onSelect=t||r.noop}function a(e,t,n,i,a,o){var s=[[a?e:e-l,t],[e+n,t],[e+n,t+i],[a?e:e-l,t+i]];!o&&s.splice(2,0,[e+n+l,t+i/2]);!a&&s.push([e,t+i/2]);return s}var o=n(43);var s=n(21);var r=n(4);var d=8;var c=8;var l=5;i.prototype={constructor:i,render:function(e,t,n){var i=e.getModel("breadcrumb");var a=this.group;a.removeAll();if(i.get("show")&&n){var o=i.getModel("itemStyle.normal");var r=o.getModel("textStyle");var d={pos:{left:i.get("left"),right:i.get("right"),top:i.get("top"),bottom:i.get("bottom")},box:{width:t.getWidth(),height:t.getHeight()},emptyItemWidth:i.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(i,n,d,r);this._renderContent(i,n,d,o,r);s.positionGroup(a,d.pos,d.box)}},_prepare:function(e,t,n,i){for(var a=t;a;a=a.parentNode){var o=a.getModel().get("name");var s=i.getTextRect(o);var r=Math.max(s.width+2*d,n.emptyItemWidth);n.totalWidth+=r+c;n.renderList.push({node:a,text:o,width:r})}},_renderContent:function(e,t,n,i,d){var l=0;var h=n.emptyItemWidth;var p=e.get("height");var u=s.getAvailableSize(n.pos,n.box);var f=n.totalWidth;var _=n.renderList;for(var m=_.length-1;m>=0;m--){var g=_[m];var b=g.width;var x=g.text;if(f>u.width){f-=b-h;b=h;x=""}this.group.add(new o.Polygon({shape:{points:a(l,0,b,p,m===_.length-1,0===m)},style:r.defaults(i.getItemStyle(),{lineJoin:"bevel",text:x,textFill:d.getTextColor(),textFont:d.getFont()}),z:10,onclick:r.bind(this._onSelect,this,g.node)}));l+=b+c}},remove:function(){this.group.removeAll()}};e.exports=i},function(e,t,n){function i(){var e=[];var t={};var n;return{add:function(n,i,o,s,r){if(a.isString(s)){r=s;s=0}if(t[n.id])return!1;t[n.id]=1;e.push({el:n,target:i,time:o,delay:s,easing:r});return!0},done:function(e){n=e;return this},start:function(){function i(){a--;if(!a){e.length=0;t={};n&&n()}}var a=e.length;for(var o=0,s=e.length;o<s;o++){var r=e[o];r.el.animateTo(r.target,r.time,r.delay,r.easing,i)}return this}}}var a=n(4);e.exports={createWrap:i}},function(e,t,n){var i=n(1);var a=n(187);var o=function(){};var s=["treemapZoomToNode","treemapRender","treemapMove"];for(var r=0;r<s.length;r++)i.registerAction({type:s[r],update:"updateView"},o);i.registerAction({type:"treemapRootToNode",update:"updateView"},function(e,t){function n(t,n){var i=a.retrieveTargetInfo(e,t);if(i){var o=t.getViewRoot();if(o)e.direction=a.aboveViewRoot(o,i.node)?"rollUp":"drillDown";t.resetViewRoot(i.node)}}t.eachComponent({mainType:"series",subType:"treemap",query:e},n)})},function(e,t,n){function i(e,t,n,r,c,h){var p=e.getModel();var f=e.getLayout();if(f&&!f.invisible&&f.isInView){
var m=e.getModel(_);var g=n[e.depth];var b=a(m,t,g,r);var x=m.get("borderColor");var v=m.get("borderColorSaturation");var C;if(null!=v){C=o(b,e);x=s(v,C)}e.setVisual("borderColor",x);var w=e.viewChildren;if(!w||!w.length){C=o(b,e);e.setVisual("color",C)}else{var I=d(e,p,f,m,b,w);u.each(w,function(e,t){if(e.depth>=c.length||e===c[e.depth]){var a=l(p,b,e,t,I,h);i(e,a,n,r,c,h)}})}}}function a(e,t,n,i){var a=u.extend({},t);u.each(["color","colorAlpha","colorSaturation"],function(o){var s=e.get(o,!0);null==s&&n&&(s=n[o]);null==s&&(s=t[o]);null==s&&(s=i.get(o));null!=s&&(a[o]=s)});return a}function o(e){var t=r(e,"color");if(t){var n=r(e,"colorAlpha");var i=r(e,"colorSaturation");if(i)t=p.modifyHSL(t,null,null,i);if(n)t=p.modifyAlpha(t,n);return t}}function s(e,t){return null!=t?p.modifyHSL(t,null,null,e):null}function r(e,t){var n=e[t];if(null!=n&&"none"!==n)return n}function d(e,t,n,i,a,o){if(o&&o.length){var s=c(t,"color")||null!=a.color&&"none"!==a.color&&(c(t,"colorAlpha")||c(t,"colorSaturation"));if(s){var r=t.get("colorMappingBy");var d={type:s.name,dataExtent:n.dataExtent,visual:s.range};if("color"===d.type&&("index"===r||"id"===r)){d.mappingMethod="category";d.loop=!0}else d.mappingMethod="linear";var l=new h(d);l.__drColorMappingBy=r;return l}}}function c(e,t){var n=e.get(t);return f(n)&&n.length?{name:t,range:n}:null}function l(e,t,n,i,a,o){var s=u.extend({},t);if(a){var r=a.type;var d="color"===r&&a.__drColorMappingBy;var c="index"===d?i:"id"===d?o.mapIdToIndex(n.getId()):n.getValue(e.get("visualDimension"));s[r]=a.mapValueToVisual(c)}return s}var h=n(192);var p=n(39);var u=n(4);var f=u.isArray;var _="itemStyle.normal";e.exports=function(e,t,n){var a={mainType:"series",subType:"treemap",query:n};e.eachComponent(a,function(e){var t=e.getData().tree;var n=t.root;var a=e.getModel(_);if(!n.isRemoved()){var o=u.map(t.levelModels,function(e){return e?e.get(_):null});i(n,{},o,a,e.getViewRoot().getAncestors(),e)}})}},function(e,t,n){function i(e){var t=e.pieceList;e.hasSpecialVisual=!1;f.each(t,function(t,n){t.originIndex=n;if(null!=t.visual)e.hasSpecialVisual=!0})}function a(e){var t=e.categories;var n=e.visual;var i=e.categoryMap={};g(t,function(e,t){i[e]=t});if(!f.isArray(n)){var a=[];if(f.isObject(n))g(n,function(e,t){var n=i[t];a[null!=n?n:x]=e});else a[x]=n;n=e.visual=a}for(var o=t.length-1;o>=0;o--)if(null==n[o]){delete i[t[o]];t.pop()}}function o(e,t){var n=e.visual;var i=[];if(f.isObject(n))g(n,function(e){i.push(e)});else if(null!=n)i.push(n);var a={color:1,symbol:1};if(!(t||1!==i.length||e.type in a))i[1]=i[0];e.visual=i}function s(e){return{applyVisual:function(t,n,i){t=this.mapValueToVisual(t);i("color",e(n("color"),t))},_doMap:h([0,1])}}function r(e,t){var n=this.option.visual;return n[Math.round(m(t,[0,1],[0,n.length-1],!0))]||{}}function d(e){return function(t,n,i){i(e,this.mapValueToVisual(t))}}function c(e){var t=this.option.visual;return t[this.option.loop&&e!==x?e%t.length:e]}function l(){return this.option.visual[0]}function h(e){return{linear:function(t){return m(t,e,this.option.visual,!0)},category:c,piecewise:function(t,n){var i=p.call(this,n);if(null==i)i=m(t,e,this.option.visual,!0);return i},fixed:l}}function p(e){var t=this.option;var n=t.pieceList;if(t.hasSpecialVisual){var i=v.findPieceIndex(e,n);var a=n[i];if(a&&a.visual)return a.visual[this.type]}}function u(e,t,n){return e?t<=n:t<n}var f=n(4);var _=n(39);var m=n(7).linearMap;var g=f.each;var b=f.isObject;var x=-1;var v=function(e){var t=e.mappingMethod;var n=e.type;var s=this.option=f.clone(e);this.type=n;this.mappingMethod=t;this._normalizeData=w[t];var r=C[n];this.applyVisual=r.applyVisual;this.getColorMapper=r.getColorMapper;this._doMap=r._doMap[t];if("piecewise"===t){o(s);i(s)}else if("category"===t)s.categories?a(s):o(s,!0);else{f.assert("linear"!==t||s.dataExtent);o(s)}};v.prototype={constructor:v,mapValueToVisual:function(e){var t=this._normalizeData(e);return this._doMap(t,e)},getNormalizer:function(){return f.bind(this._normalizeData,this)}};var C=v.visualHandlers={color:{applyVisual:d("color"),getColorMapper:function(){var e=this.option;var t=f.map(e.visual,_.parse);return f.bind("category"===e.mappingMethod?function(e,t){!t&&(e=this._normalizeData(e));return c(this,e)}:function(e,n,i){var a=!!i;!n&&(e=this._normalizeData(e));i=_.fastMapToColor(e,t,i);return a?i:f.stringify(i,"rgba")},this)},_doMap:{linear:function(e){return _.mapToColor(e,this.option.visual)},category:c,piecewise:function(e,t){var n=p.call(this,t);if(null==n)n=_.mapToColor(e,this.option.visual);return n},fixed:l}},colorHue:s(function(e,t){return _.modifyHSL(e,t)}),colorSaturation:s(function(e,t){return _.modifyHSL(e,null,t)}),colorLightness:s(function(e,t){return _.modifyHSL(e,null,null,t)}),colorAlpha:s(function(e,t){return _.modifyAlpha(e,t)}),opacity:{applyVisual:d("opacity"),_doMap:h([0,1])},symbol:{applyVisual:function(e,t,n){var i=this.mapValueToVisual(e);if(f.isString(i))n("symbol",i);else if(b(i))for(var a in i)if(i.hasOwnProperty(a))n(a,i[a])},_doMap:{linear:r,category:c,piecewise:function(e,t){var n=p.call(this,t);if(null==n)n=r.call(this,e);return n},fixed:l}},symbolSize:{applyVisual:d("symbolSize"),_doMap:h([0,1])}};var w={linear:function(e){return m(e,this.option.dataExtent,[0,1],!0)},piecewise:function(e){var t=this.option.pieceList;var n=v.findPieceIndex(e,t,!0);if(null!=n)return m(n,[0,t.length-1],[0,1],!0)},category:function(e){var t=this.option.categories?this.option.categoryMap[e]:e;return null==t?x:t},fixed:f.noop};v.addVisualHandler=function(e,t){C[e]=t};v.isValidType=function(e){return C.hasOwnProperty(e)};v.eachVisual=function(e,t,n){if(f.isObject(e))f.each(e,t,n);else t.call(n,e)};v.mapVisual=function(e,t,n){var i;var a=f.isArray(e)?[]:f.isObject(e)?{}:(i=!0,null);v.eachVisual(e,function(e,o){var s=t.call(n,e,o);i?a=s:a[o]=s});return a};v.retrieveVisuals=function(e){var t={};var n;e&&g(C,function(i,a){if(e.hasOwnProperty(a)){t[a]=e[a];n=!0}});return n?t:null};v.prepareVisualTypes=function(e){if(b(e)){var t=[];g(e,function(e,n){t.push(n)});e=t}else if(f.isArray(e))e=e.slice();else return[];e.sort(function(e,t){return"color"===t&&"color"!==e&&0===e.indexOf("color")?1:-1});return e};v.dependsOn=function(e,t){return"color"===t?!(!e||0!==e.indexOf(t)):e===t};v.findPieceIndex=function(e,t,n){function i(t,n){var i=Math.abs(t-e);if(i<o){o=i;a=n}}var a;var o=1/0;for(var s=0,r=t.length;s<r;s++){var d=t[s].value;if(null!=d){if(d===e)return s;n&&i(d,s)}}for(var s=0,r=t.length;s<r;s++){var c=t[s];var l=c.interval;var h=c.close;if(l){if(l[0]===-(1/0)){if(u(h[1],e,l[1]))return s}else if(l[1]===1/0){if(u(h[0],l[0],e))return s}else if(u(h[0],l[0],e)&&u(h[1],e,l[1]))return s;n&&i(l[0],s);n&&i(l[1],s)}}if(n)return e===1/0?t.length-1:e===-(1/0)?0:a};e.exports=v},function(e,t,n){function i(e,t,n){var i={mainType:"series",subType:"treemap",query:n};e.eachComponent(i,function(e){var i=t.getWidth();var o=t.getHeight();var s=e.option;var r=s.size||[];var d=C(w(s.width,r[0]),i);var c=C(w(s.height,r[1]),o);var l=m.getLayoutRect(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()});var _=n&&n.type;var x=g.retrieveTargetInfo(n,e);var v="treemapRender"===_||"treemapMove"===_?n.rootRect:null;var y=e.getViewRoot();var $=g.getPathToRoot(y);if("treemapMove"!==_){var A="treemapZoomToNode"===_?h(e,x,y,d,c):v?[v.width,v.height]:[d,c];var E=s.sort;if(E&&"asc"!==E&&"desc"!==E)E="desc";var T={squareRatio:s.squareRatio,sort:E,leafDepth:s.leafDepth};y.hostTree.clearLayouts();var N={x:0,y:0,width:A[0],height:A[1],area:A[0]*A[1]};y.setLayout(N);a(y,T,!1,0);var N=y.getLayout();I($,function(e,t){var n=($[t+1]||y).getValue();e.setLayout(f.extend({dataExtent:[n,n],borderWidth:0},N))})}var S=e.getData().tree.root;S.setLayout(p(l,v,x),!0);e.setLayoutInfo(l);u(S,new b((-l.x),(-l.y),i,o),$,y,0)})}function a(e,t,n,i){var s;var r;if(!e.isRemoved()){var d=e.getLayout();s=d.width;r=d.height;var h=e.getModel("itemStyle.normal");var p=h.get("borderWidth");var u=h.get("gapWidth")/2;var f=p-u;var _=e.getModel();e.setLayout({borderWidth:p},!0);s=x(s-2*f,0);r=x(r-2*f,0);var m=s*r;var g=o(e,_,m,t,n,i);if(g.length){var b={x:f,y:f,width:s,height:r};var C=v(s,r);var w=1/0;var I=[];I.area=0;for(var y=0,$=g.length;y<$;){var A=g[y];I.push(A);I.area+=A.getLayout().area;var E=c(I,C,t.squareRatio);if(E<=w){y++;w=E}else{I.area-=I.pop().getLayout().area;l(I,C,b,u,!1);C=v(b.width,b.height);I.length=I.area=0;w=1/0}}if(I.length)l(I,C,b,u,!0);if(!n){var T=_.get("childrenVisibleMin");if(null!=T&&m<T)n=!0}for(var y=0,$=g.length;y<$;y++)a(g[y],t,n,i+1)}}}function o(e,t,n,i,a,o){var c=e.children||[];var l=i.sort;"asc"!==l&&"desc"!==l&&(l=null);var h=null!=i.leafDepth&&i.leafDepth<=o;if(a&&!h)return e.viewChildren=[];c=f.filter(c,function(e){return!e.isRemoved()});r(c,l);var p=d(t,c,l);if(0===p.sum)return e.viewChildren=[];p.sum=s(t,n,p.sum,l,c);if(0===p.sum)return e.viewChildren=[];for(var u=0,_=c.length;u<_;u++){var m=c[u].getValue()/p.sum*n;c[u].setLayout({area:m})}if(h){c.length&&e.setLayout({isLeafRoot:!0},!0);c.length=0}e.viewChildren=c;e.setLayout({dataExtent:p.dataExtent},!0);return c}function s(e,t,n,i,a){if(!i)return n;var o=e.get("visibleMin");var s=a.length;var r=s;for(var d=s-1;d>=0;d--){var c=a["asc"===i?s-d-1:d].getValue();if(c/n*t<o){r=d;n-=c}}"asc"===i?a.splice(0,s-r):a.splice(r,s-r);return n}function r(e,t){if(t)e.sort(function(e,n){return"asc"===t?e.getValue()-n.getValue():n.getValue()-e.getValue()});return e}function d(e,t,n){var i=0;for(var a=0,o=t.length;a<o;a++)i+=t[a].getValue();var s=e.get("visualDimension");var r;if(!t||!t.length)r=[NaN,NaN];else if("value"===s&&n){r=[t[t.length-1].getValue(),t[0].getValue()];"asc"===n&&r.reverse()}else{var r=[1/0,-(1/0)];I(t,function(e){var t=e.getValue(s);t<r[0]&&(r[0]=t);t>r[1]&&(r[1]=t)})}return{sum:i,dataExtent:r}}function c(e,t,n){var i=0;var a=1/0;for(var o=0,s,r=e.length;o<r;o++){s=e[o].getLayout().area;if(s){s<a&&(a=s);s>i&&(i=s)}}var d=e.area*e.area;var c=t*t*n;return d?x(c*i/d,d/(c*a)):1/0}function l(e,t,n,i,a){var o=t===n.width?0:1;
var s=1-o;var r=["x","y"];var d=["width","height"];var c=n[r[o]];var l=t?e.area/t:0;if(a||l>n[d[s]])l=n[d[s]];for(var h=0,p=e.length;h<p;h++){var u=e[h];var f={};var _=l?u.getLayout().area/l:0;var m=f[d[s]]=x(l-2*i,0);var g=n[r[o]]+n[d[o]]-c;var b=h===p-1||g<_?g:_;var C=f[d[o]]=x(b-2*i,0);f[r[s]]=n[r[s]]+v(i,m/2);f[r[o]]=c+v(i,C/2);c+=b;u.setLayout(f,!0)}n[r[s]]+=l;n[d[s]]-=l}function h(e,t,n,i,a){var o=(t||{}).node;var s=[i,a];if(!o||o===n)return s;var r;var d=i*a;var c=d*e.option.zoomToNodeRatio;for(;r=o.parentNode;){var l=0;var h=r.children;for(var p=0,u=h.length;p<u;p++)l+=h[p].getValue();var f=o.getValue();if(0===f)return s;c*=l/f;var m=r.getModel("itemStyle.normal").get("borderWidth");if(isFinite(m))c+=4*m*m+4*m*Math.pow(c,.5);c>_.MAX_SAFE_INTEGER&&(c=_.MAX_SAFE_INTEGER);o=r}c<d&&(c=d);var g=Math.pow(c/d,.5);return[i*g,a*g]}function p(e,t,n){if(t)return{x:t.x,y:t.y};var i={x:0,y:0};if(!n)return i;var a=n.node;var o=a.getLayout();if(!o)return i;var s=[o.width/2,o.height/2];var r=a;for(;r;){var d=r.getLayout();s[0]+=d.x;s[1]+=d.y;r=r.parentNode}return{x:e.width/2-s[0],y:e.height/2-s[1]}}function u(e,t,n,i,a){var o=e.getLayout();var s=n[a];var r=s&&s===e;if(!(s&&!r||a===n.length&&e!==i)){e.setLayout({isInView:!0,invisible:!r&&!t.intersect(o),isAboveViewRoot:r},!0);var d=new b(t.x-o.x,t.y-o.y,t.width,t.height);I(e.viewChildren||[],function(e){u(e,d,n,i,a+1)})}}var f=n(4);var _=n(7);var m=n(21);var g=n(187);var b=n(9);var g=n(187);var x=Math.max;var v=Math.min;var C=_.parsePercent;var w=f.retrieve;var I=f.each;e.exports=i},function(e,t,n){var i=n(1);var a=n(4);n(195);n(198);n(203);i.registerProcessor(n(204));i.registerVisual(a.curry(n(109),"graph","circle",null));i.registerVisual(n(205));i.registerVisual(n(206));i.registerLayout(n(207));i.registerLayout(n(210));i.registerLayout(n(212));i.registerCoordinateSystem("graphView",{create:n(214)})},function(e,t,n){"use strict";var i=n(97);var a=n(4);var o=n(5);var s=n(12);var r=n(196);var d=n(1).extendSeriesModel({type:"series.graph",init:function(e){d.superApply(this,"init",arguments);this.legendDataProvider=function(){return this._categoriesData};this.fillDataTextStyle(e.edges||e.links);this._updateCategoriesData()},mergeOption:function(e){d.superApply(this,"mergeOption",arguments);this.fillDataTextStyle(e.edges||e.links);this._updateCategoriesData()},mergeDefaultAndTheme:function(e){d.superApply(this,"mergeDefaultAndTheme",arguments);o.defaultEmphasis(e.edgeLabel,o.LABEL_OPTIONS)},getInitialData:function(e,t){function n(e,t){e.wrapMethod("getItemModel",function(e){var t=o._categoriesModels;var n=e.getShallow("category");var i=t[n];if(i){i.parentModel=e.parentModel;e.parentModel=i}return e});var n=o.getModel("edgeLabel");var i=function(e,t){var a=(e||"").split(".");if("label"===a[0])t=t||n.getModel(a.slice(1));var o=s.prototype.getModel.call(this,a,t);o.getModel=i;return o};t.wrapMethod("getItemModel",function(e){e.getModel=i;return e})}var i=e.edges||e.links||[];var a=e.data||e.nodes||[];var o=this;if(a&&i)return r(a,i,this,!0,n).data},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},formatTooltip:function(e,t,n){if("edge"===n){var i=this.getData();var a=this.getDataParams(e,n);var o=i.graph.getEdgeByIndex(e);var s=i.getName(o.node1.dataIndex);var r=i.getName(o.node2.dataIndex);var c=s+" > "+r;if(a.value)c+=" : "+a.value;return c}else return d.superApply(this,"formatTooltip",arguments)},_updateCategoriesData:function(){var e=a.map(this.option.categories||[],function(e){return null!=e.value?e:a.extend({value:0},e)});var t=new i(["value"],this);t.initData(e);this._categoriesData=t;this._categoriesModels=t.mapArray(function(e){return t.getItemModel(e,!0)})},setZoom:function(e){this.option.zoom=e},setCenter:function(e){this.option.center=e},ifEnableAnimation:function(){return d.superCall(this,"ifEnableAnimation")&&!("force"===this.get("layout")&&this.get("force.layoutAnimation"))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",legendHoverLink:!0,hoverAnimation:!0,layout:null,focusNodeAdjacency:!1,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{normal:{position:"middle"},emphasis:{}},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{normal:{show:!1,formatter:"{b}"},emphasis:{show:!0}},itemStyle:{normal:{},emphasis:{}},lineStyle:{normal:{color:"#aaa",width:1,curveness:0,opacity:.5},emphasis:{}}}});e.exports=d},function(e,t,n){var i=n(97);var a=n(197);var o=n(185);var s=n(102);var r=n(26);var d=n(4);var c=n(101);e.exports=function(e,t,n,l,h){var p=new a(l);for(var u=0;u<e.length;u++)p.addNode(d.retrieve(e[u].id,e[u].name,u),u);var f=[];var _=[];var m=0;for(var u=0;u<t.length;u++){var g=t[u];var b=g.source;var x=g.target;if(p.addEdge(b,x,m)){_.push(g);f.push(d.retrieve(g.id,b+" > "+x));m++}}var v=n.get("coordinateSystem");var C;if("cartesian2d"===v||"polar"===v)C=c(e,n,n.ecModel);else{var w=r.get(v);var I=s((w&&"view"!==w.type?w.dimensions||[]:[]).concat(["value"]),e);C=new i(I,n);C.initData(e)}var y=new i(["value"],n);y.initData(_,f);h&&h(C,y);o({mainData:C,struct:p,structAttr:"graph",datas:{node:C,edge:y},datasAttr:{node:"data",edge:"edgeData"}});p.update();return p}},function(e,t,n){"use strict";function i(e,t){this.id=null==e?"":e;this.inEdges=[];this.outEdges=[];this.edges=[];this.hostGraph;this.dataIndex=null==t?-1:t}function a(e,t,n){this.node1=e;this.node2=t;this.dataIndex=null==n?-1:n}var o=n(4);var s=function(e){this._directed=e||!1;this.nodes=[];this.edges=[];this._nodesMap={};this._edgesMap={};this.data;this.edgeData};var r=s.prototype;r.type="graph";r.isDirected=function(){return this._directed};r.addNode=function(e,t){e=e||""+t;var n=this._nodesMap;if(!n[e]){var a=new i(e,t);a.hostGraph=this;this.nodes.push(a);n[e]=a;return a}};r.getNodeByIndex=function(e){var t=this.data.getRawIndex(e);return this.nodes[t]};r.getNodeById=function(e){return this._nodesMap[e]};r.addEdge=function(e,t,n){var o=this._nodesMap;var s=this._edgesMap;if("number"==typeof e)e=this.nodes[e];if("number"==typeof t)t=this.nodes[t];if(!(e instanceof i))e=o[e];if(!(t instanceof i))t=o[t];if(e&&t){var r=e.id+"-"+t.id;if(!s[r]){var d=new a(e,t,n);d.hostGraph=this;if(this._directed){e.outEdges.push(d);t.inEdges.push(d)}e.edges.push(d);if(e!==t)t.edges.push(d);this.edges.push(d);s[r]=d;return d}}};r.getEdgeByIndex=function(e){var t=this.edgeData.getRawIndex(e);return this.edges[t]};r.getEdge=function(e,t){if(e instanceof i)e=e.id;if(t instanceof i)t=t.id;var n=this._edgesMap;if(this._directed)return n[e+"-"+t];else return n[e+"-"+t]||n[t+"-"+e]};r.eachNode=function(e,t){var n=this.nodes;var i=n.length;for(var a=0;a<i;a++)if(n[a].dataIndex>=0)e.call(t,n[a],a)};r.eachEdge=function(e,t){var n=this.edges;var i=n.length;for(var a=0;a<i;a++)if(n[a].dataIndex>=0&&n[a].node1.dataIndex>=0&&n[a].node2.dataIndex>=0)e.call(t,n[a],a)};r.breadthFirstTraverse=function(e,t,n,a){if(!(t instanceof i))t=this._nodesMap[t];if(t){var o="out"===n?"outEdges":"in"===n?"inEdges":"edges";for(var s=0;s<this.nodes.length;s++)this.nodes[s].__visited=!1;if(!e.call(a,t,null)){var r=[t];for(;r.length;){var d=r.shift();var c=d[o];for(var s=0;s<c.length;s++){var l=c[s];var h=l.node1===d?l.node2:l.node1;if(!h.__visited){if(e.call(h,h,d))return;r.push(h);h.__visited=!0}}}}}};r.update=function(){var e=this.data;var t=this.edgeData;var n=this.nodes;var i=this.edges;for(var a=0,o=n.length;a<o;a++)n[a].dataIndex=-1;for(var a=0,o=e.count();a<o;a++)n[e.getRawIndex(a)].dataIndex=a;t.filterSelf(function(e){var n=i[t.getRawIndex(e)];return n.node1.dataIndex>=0&&n.node2.dataIndex>=0});for(var a=0,o=i.length;a<o;a++)i[a].dataIndex=-1;for(var a=0,o=t.count();a<o;a++)i[t.getRawIndex(a)].dataIndex=a};r.clone=function(){var e=new s(this._directed);var t=this.nodes;var n=this.edges;for(var i=0;i<t.length;i++)e.addNode(t[i].id,t[i].dataIndex);for(var i=0;i<n.length;i++){var a=n[i];e.addEdge(a.node1.id,a.node2.id,a.dataIndex)}return e};i.prototype={constructor:i,degree:function(){return this.edges.length},inDegree:function(){return this.inEdges.length},outDegree:function(){return this.outEdges.length},getModel:function(e){if(!(this.dataIndex<0)){var t=this.hostGraph;var n=t.data.getItemModel(this.dataIndex);return n.getModel(e)}}};a.prototype.getModel=function(e){if(!(this.dataIndex<0)){var t=this.hostGraph;var n=t.edgeData.getItemModel(this.dataIndex);return n.getModel(e)}};var d=function(e,t){return{getValue:function(n){var i=this[e][t];return i.get(i.getDimension(n||"value"),this.dataIndex)},setVisual:function(n,i){this.dataIndex>=0&&this[e][t].setItemVisual(this.dataIndex,n,i)},getVisual:function(n,i){return this[e][t].getItemVisual(this.dataIndex,n,i)},setLayout:function(n,i){this.dataIndex>=0&&this[e][t].setItemLayout(this.dataIndex,n,i)},getLayout:function(){return this[e][t].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[e][t].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[e][t].getRawIndex(this.dataIndex)}}};o.mixin(i,d("hostGraph","data"));o.mixin(a,d("hostGraph","edgeData"));s.Node=i;s.Edge=a;e.exports=s},function(e,t,n){function i(e,t){return e.getVisual("opacity")||e.getModel().get(t)}var a=n(104);var o=n(199);var s=n(174);var r=n(43);var d=n(202);var c=n(4);var l=["itemStyle","normal","opacity"];var h=["lineStyle","normal","opacity"];n(1).extendChartView({type:"graph",init:function(e,t){var n=new a;var i=new o;var r=this.group;var d=new s(t.getZr(),r);r.add(n.group);r.add(i.group);this._symbolDraw=n;this._lineDraw=i;this._controller=d;this._firstRender=!0},render:function(e,t,n){var i=e.coordinateSystem;this._model=e;this._nodeScaleRatio=e.get("nodeScaleRatio");var a=this._symbolDraw;var o=this._lineDraw;var s=this.group;if("view"===i.type){var c={position:i.position,scale:i.scale};if(this._firstRender)s.attr(c);else r.updateProps(s,c,e);
}d(e.getGraph(),this._getNodeGlobalScale(e));var l=e.getData();a.updateData(l);var h=e.getEdgeData();o.updateData(h);this._updateNodeAndLinkScale();this._updateController(e,n);clearTimeout(this._layoutTimeout);var p=e.forceLayout;var u=e.get("force.layoutAnimation");if(p)this._startForceLayoutIteration(p,u);l.eachItemGraphicEl(function(e,t){var n=l.getItemModel(t);e.off("drag").off("dragend");var i=l.getItemModel(t).get("draggable");if(i)e.on("drag",function(){if(p){p.warmUp();!this._layouting&&this._startForceLayoutIteration(p,u);p.setFixed(t);l.setItemLayout(t,e.position)}},this).on("dragend",function(){if(p)p.setUnfixed(t)},this);e.setDraggable(i&&p);e.off("mouseover",this._focusNodeAdjacency);e.off("mouseout",this._unfocusAll);if(n.get("focusNodeAdjacency")){e.on("mouseover",this._focusNodeAdjacency,this);e.on("mouseout",this._unfocusAll,this)}},this);var f="circular"===e.get("layout")&&e.get("circular.rotateLabel");var _=l.getLayout("cx");var m=l.getLayout("cy");l.eachItemGraphicEl(function(e,t){var n=e.getSymbolPath();if(f){var i=l.getItemLayout(t);var a=Math.atan2(i[1]-m,i[0]-_);if(a<0)a=2*Math.PI+a;var o=i[0]<_;if(o)a-=Math.PI;var s=o?"left":"right";n.setStyle({textRotation:a,textPosition:s});n.hoverStyle&&(n.hoverStyle.textPosition=s)}else n.setStyle({textRotation:0})});this._firstRender=!1},_focusNodeAdjacency:function(e){function t(e,t){var n=i(e,t);var a=e.getGraphicEl();if(null==n)n=1;a.traverse(function(e){e.trigger("normal");if("group"!==e.type)e.setStyle("opacity",.1*n)})}function n(e,t){var n=i(e,t);var a=e.getGraphicEl();a.traverse(function(e){e.trigger("emphasis");if("group"!==e.type)e.setStyle("opacity",n)})}var a=this._model.getData();var o=a.graph;var s=e.target;var r=s.dataIndex;var d=s.dataType;if(null!==r&&"edge"!==d){o.eachNode(function(e){t(e,l)});o.eachEdge(function(e){t(e,h)});var p=o.getNodeByIndex(r);n(p,l);c.each(p.edges,function(e){if(!(e.dataIndex<0)){n(e,h);n(e.node1,l);n(e.node2,l)}})}},_unfocusAll:function(){var e=this._model.getData();var t=e.graph;t.eachNode(function(e){var t=i(e,l);e.getGraphicEl().traverse(function(e){e.trigger("normal");if("group"!==e.type)e.setStyle("opacity",t)})});t.eachEdge(function(e){var t=i(e,h);e.getGraphicEl().traverse(function(e){e.trigger("normal");if("group"!==e.type)e.setStyle("opacity",t)})})},_startForceLayoutIteration:function(e,t){var n=this;!function i(){e.step(function(e){n.updateLayout(n._model);(n._layouting=!e)&&(t?n._layoutTimeout=setTimeout(i,16):i())})}()},_updateController:function(e,t){var n=this._controller;var i=this.group;n.rectProvider=function(){var e=i.getBoundingRect();e.applyTransform(i.transform);return e};if("view"===e.coordinateSystem.type){n.enable(e.get("roam"));n.zoomLimit=e.get("scaleLimit");n.zoom=e.coordinateSystem.getZoom();n.off("pan").off("zoom").on("pan",function(n,i){t.dispatchAction({seriesId:e.id,type:"graphRoam",dx:n,dy:i})}).on("zoom",function(n,i,a){t.dispatchAction({seriesId:e.id,type:"graphRoam",zoom:n,originX:i,originY:a});this._updateNodeAndLinkScale();d(e.getGraph(),this._getNodeGlobalScale(e));this._lineDraw.updateLayout()},this)}else n.disable()},_updateNodeAndLinkScale:function(){var e=this._model;var t=e.getData();var n=this._getNodeGlobalScale(e);var i=[n,n];t.eachItemGraphicEl(function(e,t){e.attr("scale",i)})},_getNodeGlobalScale:function(e){var t=e.coordinateSystem;if("view"!==t.type)return 1;var n=this._nodeScaleRatio;var i=t.scale;var a=i&&i[0]||1;var o=t.getZoom();var s=(o-1)*n+1;return s/a},updateLayout:function(e){d(e.getGraph(),this._getNodeGlobalScale(e));this._symbolDraw.updateLayout();this._lineDraw.updateLayout()},remove:function(e,t){this._symbolDraw&&this._symbolDraw.remove();this._lineDraw&&this._lineDraw.remove()}})},function(e,t,n){function i(e){return isNaN(e[0])||isNaN(e[1])}function a(e){return!i(e[0])&&!i(e[1])}function o(e){this._ctor=e||r;this.group=new s.Group}var s=n(43);var r=n(200);var d=o.prototype;d.updateData=function(e){var t=this._lineData;var n=this.group;var i=this._ctor;var o=e.hostModel;var s={lineStyle:o.getModel("lineStyle.normal").getLineStyle(),hoverLineStyle:o.getModel("lineStyle.emphasis").getLineStyle(),labelModel:o.getModel("label.normal"),hoverLabelModel:o.getModel("label.emphasis")};e.diff(t).add(function(t){if(a(e.getItemLayout(t))){var o=new i(e,t,s);e.setItemGraphicEl(t,o);n.add(o)}}).update(function(o,r){var d=t.getItemGraphicEl(r);if(a(e.getItemLayout(o))){if(!d)d=new i(e,o,s);else d.updateData(e,o,s);e.setItemGraphicEl(o,d);n.add(d)}else n.remove(d)}).remove(function(e){n.remove(t.getItemGraphicEl(e))}).execute();this._lineData=e};d.updateLayout=function(){var e=this._lineData;e.eachItemGraphicEl(function(t,n){t.updateLayout(e,n)},this)};d.remove=function(){this.group.removeAll()};e.exports=o},function(e,t,n){function i(e){return"_"+e+"Type"}function a(e,t,n){var i=t.getItemVisual(n,"color");var a=t.getItemVisual(n,e);var o=t.getItemVisual(n,e+"Size");if(a&&"none"!==a){if(!u.isArray(o))o=[o,o];var s=c.createSymbol(a,-o[0]/2,-o[1]/2,o[0],o[1],i);s.name=e;return s}}function o(e){var t=new h({name:"line"});s(t.shape,e);return t}function s(e,t){var n=t[0];var i=t[1];var a=t[2];e.x1=n[0];e.y1=n[1];e.x2=i[0];e.y2=i[1];e.percent=1;if(a){e.cpx1=a[0];e.cpy1=a[1]}else{e.cpx1=NaN;e.cpy1=NaN}}function r(){var e=this;var t=e.childOfName("fromSymbol");var n=e.childOfName("toSymbol");var i=e.childOfName("label");if(t||n||!i.ignore){var a=1;var o=this.parent;for(;o;){if(o.scale)a/=o.scale[0];o=o.parent}var s=e.childOfName("line");if(this.__dirty||s.__dirty){var r=s.shape.percent;var d=s.pointAt(0);var c=s.pointAt(r);var h=l.sub([],c,d);l.normalize(h,h);if(t){t.attr("position",d);var p=s.tangentAt(0);t.attr("rotation",Math.PI/2-Math.atan2(p[1],p[0]));t.attr("scale",[a*r,a*r])}if(n){n.attr("position",c);var p=s.tangentAt(1);n.attr("rotation",-Math.PI/2-Math.atan2(p[1],p[0]));n.attr("scale",[a*r,a*r])}if(!i.ignore){i.attr("position",c);var u;var f;var _;var m=5*a;if("end"===i.__position){u=[h[0]*m+c[0],h[1]*m+c[1]];f=h[0]>.8?"left":h[0]<-.8?"right":"center";_=h[1]>.8?"top":h[1]<-.8?"bottom":"middle"}else if("middle"===i.__position){var g=r/2;var p=s.tangentAt(g);var b=[p[1],-p[0]];var x=s.pointAt(g);if(b[1]>0){b[0]=-b[0];b[1]=-b[1]}u=[x[0]+b[0]*m,x[1]+b[1]*m];f="center";_="bottom";var v=-Math.atan2(p[1],p[0]);if(c[0]<d[0])v=Math.PI+v;i.attr("rotation",v)}else{u=[-h[0]*m+d[0],-h[1]*m+d[1]];f=h[0]>.8?"right":h[0]<-.8?"left":"center";_=h[1]>.8?"bottom":h[1]<-.8?"top":"middle"}i.attr({style:{textVerticalAlign:i.__verticalAlign||_,textAlign:i.__textAlign||f},position:u,scale:[a,a]})}}}}function d(e,t,n){p.Group.call(this);this._createLine(e,t,n)}var c=n(106);var l=n(10);var h=n(201);var p=n(43);var u=n(4);var f=n(7);var _=["fromSymbol","toSymbol"];var m=d.prototype;m.beforeUpdate=r;m._createLine=function(e,t,n){var s=e.hostModel;var r=e.getItemLayout(t);var d=o(r);d.shape.percent=0;p.initProps(d,{shape:{percent:1}},s,t);this.add(d);var c=new p.Text({name:"label"});this.add(c);u.each(_,function(n){var o=a(n,e,t);this.add(o);this[i(n)]=e.getItemVisual(t,n)},this);this._updateCommonStl(e,t,n)};m.updateData=function(e,t,n){var o=e.hostModel;var r=this.childOfName("line");var d=e.getItemLayout(t);var c={shape:{}};s(c.shape,d);p.updateProps(r,c,o,t);u.each(_,function(n){var o=e.getItemVisual(t,n);var s=i(n);if(this[s]!==o){this.remove(this.childOfName(n));var r=a(n,e,t);this.add(r)}this[s]=o},this);this._updateCommonStl(e,t,n)};m._updateCommonStl=function(e,t,n){var i=e.hostModel;var a=this.childOfName("line");var o=n&&n.lineStyle;var s=n&&n.hoverLineStyle;var r=n&&n.labelModel;var d=n&&n.hoverLabelModel;if(!n||e.hasItemOption){var c=e.getItemModel(t);o=c.getModel("lineStyle.normal").getLineStyle();s=c.getModel("lineStyle.emphasis").getLineStyle();r=c.getModel("label.normal");d=c.getModel("label.emphasis")}var l=e.getItemVisual(t,"color");var h=u.retrieve(e.getItemVisual(t,"opacity"),o.opacity,1);if(isNaN(b))b=e.getName(t);a.useStyle(u.defaults({strokeNoScale:!0,fill:"none",stroke:l,opacity:h},o));a.hoverStyle=s;u.each(_,function(e){var t=this.childOfName(e);if(t){t.setColor(l);t.setStyle({opacity:h})}},this);var m=r.getShallow("show");var g=d.getShallow("show");var b;var x=this.childOfName("label");var v;if(m||g){b=f.round(i.getRawValue(t));v=l||"#000"}if(m){var C=r.getModel("textStyle");x.setStyle({text:u.retrieve(i.getFormattedLabel(t,"normal",e.dataType),b),textFont:C.getFont(),fill:C.getTextColor()||v});x.__textAlign=C.get("align");x.__verticalAlign=C.get("baseline");x.__position=r.get("position")}else x.setStyle("text","");if(g){var w=d.getModel("textStyle");x.hoverStyle={text:u.retrieve(i.getFormattedLabel(t,"emphasis",e.dataType),b),textFont:w.getFont(),fill:w.getTextColor()||v}}else x.hoverStyle={text:""};x.ignore=!m&&!g;p.setHoverStyle(this)};m.updateLayout=function(e,t){this.setLinePoints(e.getItemLayout(t))};m.setLinePoints=function(e){var t=this.childOfName("line");s(t.shape,e);t.dirty()};u.inherits(d,p.Group);e.exports=d},function(e,t,n){function i(e){return isNaN(+e.cpx1)||isNaN(+e.cpy1)}var a=n(43);var o=n(10);var s=a.Line.prototype;var r=a.BezierCurve.prototype;e.exports=a.extendShape({type:"ec-line",style:{stroke:"#000",fill:null},shape:{x1:0,y1:0,x2:0,y2:0,percent:1,cpx1:null,cpy1:null},buildPath:function(e,t){(i(t)?s:r).buildPath(e,t)},pointAt:function(e){return i(this.shape)?s.pointAt.call(this,e):r.pointAt.call(this,e)},tangentAt:function(e){var t=this.shape;var n=i(t)?[t.x2-t.x1,t.y2-t.y1]:r.tangentAt.call(this,e);return o.normalize(n,n)}})},function(e,t,n){function i(e,t,n){var i=e[0];var a=e[1];var o=e[2];var p=1/0;var u;var f=n*n;var _=.1;for(var m=.1;m<=.9;m+=.1){s[0]=c(i[0],a[0],o[0],m);s[1]=c(i[1],a[1],o[1],m);var g=h(l(s,t)-f);if(g<p){p=g;u=m}}for(var b=0;b<32;b++){var x=u+_;r[0]=c(i[0],a[0],o[0],u);r[1]=c(i[1],a[1],o[1],u);d[0]=c(i[0],a[0],o[0],x);d[1]=c(i[1],a[1],o[1],x);var g=l(r,t)-f;if(h(g)<.01)break;var v=l(d,t)-f;_/=2;if(g<0)if(v>=0)u+=_;else u-=_;else if(v>=0)u-=_;else u+=_}return u}var a=n(50);var o=n(10);var s=[];var r=[];var d=[];
var c=a.quadraticAt;var l=o.distSquare;var h=Math.abs;e.exports=function(e,t){function n(e){var t=e.getVisual("symbolSize");if(t instanceof Array)t=(t[0]+t[1])/2;return t}var s=[];var r=a.quadraticSubdivide;var d=[[],[],[]];var c=[[],[]];var l=[];t/=2;e.eachEdge(function(e,a){var h=e.getLayout();var p=e.getVisual("fromSymbol");var u=e.getVisual("toSymbol");if(!h.__original){h.__original=[o.clone(h[0]),o.clone(h[1])];if(h[2])h.__original.push(o.clone(h[2]))}var f=h.__original;if(null!=h[2]){o.copy(d[0],f[0]);o.copy(d[1],f[2]);o.copy(d[2],f[1]);if(p&&"none"!=p){var _=n(e.node1);var m=i(d,f[0],_*t);r(d[0][0],d[1][0],d[2][0],m,s);d[0][0]=s[3];d[1][0]=s[4];r(d[0][1],d[1][1],d[2][1],m,s);d[0][1]=s[3];d[1][1]=s[4]}if(u&&"none"!=u){var _=n(e.node2);var m=i(d,f[1],_*t);r(d[0][0],d[1][0],d[2][0],m,s);d[1][0]=s[1];d[2][0]=s[2];r(d[0][1],d[1][1],d[2][1],m,s);d[1][1]=s[1];d[2][1]=s[2]}o.copy(h[0],d[0]);o.copy(h[1],d[2]);o.copy(h[2],d[1])}else{o.copy(c[0],f[0]);o.copy(c[1],f[1]);o.sub(l,c[1],c[0]);o.normalize(l,l);if(p&&"none"!=p){var _=n(e.node1);o.scaleAndAdd(c[0],c[0],l,_*t)}if(u&&"none"!=u){var _=n(e.node2);o.scaleAndAdd(c[1],c[1],l,-_*t)}o.copy(h[0],c[0]);o.copy(h[1],c[1])}})}},function(e,t,n){var i=n(1);var a=n(177);var o={type:"graphRoam",event:"graphRoam",update:"none"};i.registerAction(o,function(e,t){t.eachComponent({mainType:"series",query:e},function(t){var n=t.coordinateSystem;var i=a.updateCenterAndZoom(n,e);t.setCenter&&t.setCenter(i.center);t.setZoom&&t.setZoom(i.zoom)})})},function(e,t){e.exports=function(e){var t=e.findComponents({mainType:"legend"});if(t&&t.length)e.eachSeriesByType("graph",function(e){var n=e.getCategoriesData();var i=e.getGraph();var a=i.data;var o=n.mapArray(n.getName);a.filterSelf(function(e){var n=a.getItemModel(e);var i=n.getShallow("category");if(null!=i){if("number"==typeof i)i=o[i];for(var s=0;s<t.length;s++)if(!t[s].isSelected(i))return!1}return!0})},this)}},function(e,t){e.exports=function(e){var t={};e.eachSeriesByType("graph",function(e){var n=e.getCategoriesData();var i=e.getData();var a={};n.each(function(i){var o=n.getName(i);a[o]=i;var s=n.getItemModel(i);var r=s.get("itemStyle.normal.color")||e.getColorFromPalette(o,t);n.setItemVisual(i,"color",r)});if(n.count())i.each(function(e){var t=i.getItemModel(e);var o=t.getShallow("category");if(null!=o){if("string"==typeof o)o=a[o];if(!i.getItemVisual(e,"color",!0))i.setItemVisual(e,"color",n.getItemVisual(o,"color"))}})})}},function(e,t){function n(e){if(!(e instanceof Array))e=[e,e];return e}e.exports=function(e){e.eachSeriesByType("graph",function(e){var t=e.getGraph();var i=e.getEdgeData();var a=n(e.get("edgeSymbol"));var o=n(e.get("edgeSymbolSize"));var s="lineStyle.normal.color".split(".");var r="lineStyle.normal.opacity".split(".");i.setVisual("fromSymbol",a&&a[0]);i.setVisual("toSymbol",a&&a[1]);i.setVisual("fromSymbolSize",o&&o[0]);i.setVisual("toSymbolSize",o&&o[1]);i.setVisual("color",e.get(s));i.setVisual("opacity",e.get(r));i.each(function(e){var a=i.getItemModel(e);var o=t.getEdgeByIndex(e);var d=n(a.getShallow("symbol",!0));var c=n(a.getShallow("symbolSize",!0));var l=a.get(s);var h=a.get(r);switch(l){case"source":l=o.node1.getVisual("color");break;case"target":l=o.node2.getVisual("color")}d[0]&&o.setVisual("fromSymbol",d[0]);d[1]&&o.setVisual("toSymbol",d[1]);c[0]&&o.setVisual("fromSymbolSize",c[0]);c[1]&&o.setVisual("toSymbolSize",c[1]);o.setVisual("color",l);o.setVisual("opacity",h)})})}},function(e,t,n){var i=n(208);var a=n(209);e.exports=function(e,t){e.eachSeriesByType("graph",function(e){var t=e.get("layout");var n=e.coordinateSystem;if(n&&"view"!==n.type){var o=e.getData();o.each(n.dimensions,function(e,t,i){if(!isNaN(e)&&!isNaN(t))o.setItemLayout(i,n.dataToPoint([e,t]));else o.setItemLayout(i,[NaN,NaN])});a(o.graph)}else if(!t||"none"===t)i(e)})}},function(e,t,n){var i=n(209);e.exports=function(e){var t=e.coordinateSystem;if(!t||"view"===t.type){var n=e.getGraph();n.eachNode(function(e){var t=e.getModel();e.setLayout([+t.get("x"),+t.get("y")])});i(n)}}},function(e,t,n){var i=n(10);e.exports=function(e){e.eachEdge(function(e){var t=e.getModel().get("lineStyle.normal.curveness")||0;var n=i.clone(e.node1.getLayout());var a=i.clone(e.node2.getLayout());var o=[n,a];if(+t)o.push([(n[0]+a[0])/2-(n[1]-a[1])*t,(n[1]+a[1])/2-(a[0]-n[0])*t]);e.setLayout(o)})}},function(e,t,n){var i=n(211);e.exports=function(e){e.eachSeriesByType("graph",function(e){if("circular"===e.get("layout"))i(e)})}},function(e,t,n){var i=n(10);e.exports=function(e){var t=e.coordinateSystem;if(!t||"view"===t.type){var n=t.getBoundingRect();var a=e.getData();var o=a.graph;var s=0;var r=a.getSum("value");var d=2*Math.PI/(r||a.count());var c=n.width/2+n.x;var l=n.height/2+n.y;var h=Math.min(n.width,n.height)/2;o.eachNode(function(e){var t=e.getValue("value");s+=d*(r?t:2)/2;e.setLayout([h*Math.cos(s)+c,h*Math.sin(s)+l]);s+=d*(r?t:2)/2});a.setLayout({cx:c,cy:l});o.eachEdge(function(e){var t=e.getModel().get("lineStyle.normal.curveness")||0;var n=i.clone(e.node1.getLayout());var a=i.clone(e.node2.getLayout());var o;var s=(n[0]+a[0])/2;var r=(n[1]+a[1])/2;if(+t){t*=3;o=[c*t+s*(1-t),l*t+r*(1-t)]}e.setLayout([n,a,o])})}}},function(e,t,n){var i=n(213);var a=n(7);var o=n(208);var s=n(211);var r=n(10);var d=n(4);e.exports=function(e){e.eachSeriesByType("graph",function(e){var t=e.coordinateSystem;if(!t||"view"===t.type)if("force"===e.get("layout")){var n=e.preservedPoints||{};var c=e.getGraph();var l=c.data;var h=c.edgeData;var p=e.getModel("force");var u=p.get("initLayout");if(e.preservedPoints)l.each(function(e){var t=l.getId(e);l.setItemLayout(e,n[t]||[NaN,NaN])});else if(!u||"none"===u)o(e);else if("circular"===u)s(e);var f=l.getDataExtent("value");var _=h.getDataExtent("value");var m=p.get("repulsion");var g=p.get("edgeLength");if(!d.isArray(m))m=[m,m];if(!d.isArray(g))g=[g,g];g=[g[1],g[0]];var b=l.mapArray("value",function(e,t){var n=l.getItemLayout(t);var i=a.linearMap(e,f,m);if(isNaN(i))i=(m[0]+m[1])/2;return{w:i,rep:i,p:!n||isNaN(n[0])||isNaN(n[1])?null:n}});var x=h.mapArray("value",function(e,t){var n=c.getEdgeByIndex(t);var i=a.linearMap(e,_,g);if(isNaN(i))i=(g[0]+g[1])/2;return{n1:b[n.node1.dataIndex],n2:b[n.node2.dataIndex],d:i,curveness:n.getModel().get("lineStyle.normal.curveness")||0}});var t=e.coordinateSystem;var v=t.getBoundingRect();var C=i(b,x,{rect:v,gravity:p.get("gravity")});var w=C.step;C.step=function(e){for(var t=0,i=b.length;t<i;t++)if(b[t].fixed)r.copy(b[t].p,c.getNodeByIndex(t).getLayout());w(function(t,i,a){for(var o=0,s=t.length;o<s;o++){if(!t[o].fixed)c.getNodeByIndex(o).setLayout(t[o].p);n[l.getId(o)]=t[o].p}for(var o=0,s=i.length;o<s;o++){var d=i[o];var h=c.getEdgeByIndex(o);var p=d.n1.p;var u=d.n2.p;var f=h.getLayout();f=f?f.slice():[];f[0]=f[0]||[];f[1]=f[1]||[];r.copy(f[0],p);r.copy(f[1],u);if(+d.curveness)f[2]=[(p[0]+u[0])/2-(p[1]-u[1])*d.curveness,(p[1]+u[1])/2-(u[0]-p[0])*d.curveness];h.setLayout(f)}e&&e(a)})};e.forceLayout=C;e.preservedPoints=n;C.step()}else e.forceLayout=null})}},function(e,t,n){var i=n(10);var a=i.scaleAndAdd;e.exports=function(e,t,n){var o=n.rect;var s=o.width;var r=o.height;var d=[o.x+s/2,o.y+r/2];var c=null==n.gravity?.1:n.gravity;for(var l=0;l<e.length;l++){var h=e[l];if(!h.p)h.p=i.create(s*(Math.random()-.5)+d[0],r*(Math.random()-.5)+d[1]);h.pp=i.clone(h.p);h.edges=null}var p=.6;return{warmUp:function(){p=.5},setFixed:function(t){e[t].fixed=!0},setUnfixed:function(t){e[t].fixed=!1},step:function(n){var o=[];var s=e.length;for(var r=0;r<t.length;r++){var l=t[r];var h=l.n1;var u=l.n2;i.sub(o,u.p,h.p);var f=i.len(o)-l.d;var _=u.w/(h.w+u.w);i.normalize(o,o);!h.fixed&&a(h.p,h.p,o,_*f*p);!u.fixed&&a(u.p,u.p,o,-(1-_)*f*p)}for(var r=0;r<s;r++){var m=e[r];if(!m.fixed){i.sub(o,d,m.p);i.scaleAndAdd(m.p,m.p,o,c*p)}}for(var r=0;r<s;r++){var h=e[r];for(var g=r+1;g<s;g++){var u=e[g];i.sub(o,u.p,h.p);var f=i.len(o);if(0===f){i.set(o,Math.random()-.5,Math.random()-.5);f=1}var b=(h.rep+u.rep)/f/f;!h.fixed&&a(h.pp,h.pp,o,b);!u.fixed&&a(u.pp,u.pp,o,-b)}}var x=[];for(var r=0;r<s;r++){var m=e[r];if(!m.fixed){i.sub(x,m.p,m.pp);i.scaleAndAdd(m.p,m.p,x,p);i.copy(m.pp,m.p)}}p=.992*p;n&&n(e,t,p<.01)}}}},function(e,t,n){function i(e,t,n){var i=e.getBoxLayoutParams();i.aspect=n;return o.getLayoutRect(i,{width:t.getWidth(),height:t.getHeight()})}var a=n(168);var o=n(21);var s=n(51);e.exports=function(e,t){var n=[];e.eachSeriesByType("graph",function(e){var o=e.get("coordinateSystem");if(!o||"view"===o){var r=new a;n.push(r);var d=e.getData();var c=d.mapArray(function(e){var t=d.getItemModel(e);return[+t.get("x"),+t.get("y")]});var l=[];var h=[];s.fromPoints(c,l,h);if(h[0]-l[0]===0){h[0]+=1;l[0]-=1}if(h[1]-l[1]===0){h[1]+=1;l[1]-=1}var p=(h[0]-l[0])/(h[1]-l[1]);var u=i(e,t,p);if(isNaN(p)){l=[u.x,u.y];h=[u.x+u.width,u.y+u.height]}var f=h[0]-l[0];var _=h[1]-l[1];var m=u.width;var g=u.height;r=e.coordinateSystem=new a;r.zoomLimit=e.get("scaleLimit");r.setBoundingRect(l[0],l[1],f,_);r.setViewRect(u.x,u.y,m,g);r.setCenter(e.get("center"));r.setZoom(e.get("zoom"))}});return n}},function(e,t,n){n(216);n(217)},function(e,t,n){var i=n(97);var a=n(28);var o=n(4);var s=a.extend({type:"series.gauge",getInitialData:function(e,t){var n=new i(["value"],this);var a=e.data||[];if(!o.isArray(a))a=[a];n.initData(a);return n},defaultOption:{zlevel:0,z:2,center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,lineStyle:{color:[[.2,"#91c7ae"],[.8,"#63869e"],[1,"#c23531"]],width:30}},splitLine:{show:!0,length:30,lineStyle:{color:"#eee",width:2,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:8,lineStyle:{color:"#eee",width:1,type:"solid"}},axisLabel:{show:!0,distance:5,textStyle:{color:"auto"}},pointer:{show:!0,length:"80%",width:8},itemStyle:{normal:{color:"auto"}},title:{show:!0,offsetCenter:[0,"-40%"],textStyle:{color:"#333",fontSize:15}},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:40,offsetCenter:[0,"40%"],
textStyle:{color:"auto",fontSize:30}}}});e.exports=s},function(e,t,n){function i(e,t){var n=e.get("center");var i=t.getWidth();var a=t.getHeight();var o=Math.min(i,a);var s=d(n[0],t.getWidth());var r=d(n[1],t.getHeight());var c=d(e.get("radius"),o/2);return{cx:s,cy:r,r:c}}function a(e,t){if(t)if("string"==typeof t)e=t.replace("{value}",e);else if("function"==typeof t)e=t(e);return e}var o=n(218);var s=n(43);var r=n(7);var d=r.parsePercent;var c=2*Math.PI;var l=n(42).extend({type:"gauge",render:function(e,t,n){this.group.removeAll();var a=e.get("axisLine.lineStyle.color");var o=i(e,n);this._renderMain(e,t,n,a,o)},_renderMain:function(e,t,n,i,a){var o=this.group;var r=e.getModel("axisLine");var d=r.getModel("lineStyle");var l=e.get("clockwise");var h=-e.get("startAngle")/180*Math.PI;var p=-e.get("endAngle")/180*Math.PI;var u=(p-h)%c;var f=h;var _=d.get("width");for(var m=0;m<i.length;m++){var g=Math.min(Math.max(i[m][0],0),1);var p=h+u*g;var b=new s.Sector({shape:{startAngle:f,endAngle:p,cx:a.cx,cy:a.cy,clockwise:l,r0:a.r-_,r:a.r},silent:!0});b.setStyle({fill:i[m][1]});b.setStyle(d.getLineStyle(["color","borderWidth","borderColor"]));o.add(b);f=p}var x=function(e){if(e<=0)return i[0][1];for(var t=0;t<i.length;t++)if(i[t][0]>=e&&(0===t?0:i[t-1][0])<e)return i[t][1];return i[t-1][1]};if(!l){var v=h;h=p;p=v}this._renderTicks(e,t,n,x,a,h,p,l);this._renderPointer(e,t,n,x,a,h,p,l);this._renderTitle(e,t,n,x,a);this._renderDetail(e,t,n,x,a)},_renderTicks:function(e,t,n,i,o,c,l,h){var p=this.group;var u=o.cx;var f=o.cy;var _=o.r;var m=e.get("min");var g=e.get("max");var b=e.getModel("splitLine");var x=e.getModel("axisTick");var v=e.getModel("axisLabel");var C=e.get("splitNumber");var w=x.get("splitNumber");var I=d(b.get("length"),_);var y=d(x.get("length"),_);var $=c;var A=(l-c)/C;var E=A/w;var T=b.getModel("lineStyle").getLineStyle();var N=x.getModel("lineStyle").getLineStyle();var S=v.getModel("textStyle");for(var k=0;k<=C;k++){var D=Math.cos($);var U=Math.sin($);if(b.get("show")){var z=new s.Line({shape:{x1:D*_+u,y1:U*_+f,x2:D*(_-I)+u,y2:U*(_-I)+f},style:T,silent:!0});if("auto"===T.stroke)z.setStyle({stroke:i(k/C)});p.add(z)}if(v.get("show")){var P=a(r.round(k/C*(g-m)+m),v.get("formatter"));var L=v.get("distance");var O=new s.Text({style:{text:P,x:D*(_-I-L)+u,y:U*(_-I-L)+f,fill:S.getTextColor(),textFont:S.getFont(),textVerticalAlign:U<-.4?"top":U>.4?"bottom":"middle",textAlign:D<-.4?"left":D>.4?"right":"center"},silent:!0});if("auto"===O.style.fill)O.setStyle({fill:i(k/C)});p.add(O)}if(x.get("show")&&k!==C){for(var M=0;M<=w;M++){var D=Math.cos($);var U=Math.sin($);var B=new s.Line({shape:{x1:D*_+u,y1:U*_+f,x2:D*(_-y)+u,y2:U*(_-y)+f},silent:!0,style:N});if("auto"===N.stroke)B.setStyle({stroke:i((k+M/w)/C)});p.add(B);$+=E}$-=E}else $+=A}},_renderPointer:function(e,t,n,i,a,c,l,h){var p=[+e.get("min"),+e.get("max")];var u=[c,l];if(!h)u=u.reverse();var f=e.getData();var _=this._data;var m=this.group;f.diff(_).add(function(t){var n=new o({shape:{angle:c}});s.updateProps(n,{shape:{angle:r.linearMap(f.get("value",t),p,u,!0)}},e);m.add(n);f.setItemGraphicEl(t,n)}).update(function(t,n){var i=_.getItemGraphicEl(n);s.updateProps(i,{shape:{angle:r.linearMap(f.get("value",t),p,u,!0)}},e);m.add(i);f.setItemGraphicEl(t,i)}).remove(function(e){var t=_.getItemGraphicEl(e);m.remove(t)}).execute();f.eachItemGraphicEl(function(e,t){var n=f.getItemModel(t);var o=n.getModel("pointer");e.setShape({x:a.cx,y:a.cy,width:d(o.get("width"),a.r),r:d(o.get("length"),a.r)});e.useStyle(n.getModel("itemStyle.normal").getItemStyle());if("auto"===e.style.fill)e.setStyle("fill",i((f.get("value",t)-p[0])/(p[1]-p[0])));s.setHoverStyle(e,n.getModel("itemStyle.emphasis").getItemStyle())});this._data=f},_renderTitle:function(e,t,n,i,a){var o=e.getModel("title");if(o.get("show")){var r=o.getModel("textStyle");var c=o.get("offsetCenter");var l=a.cx+d(c[0],a.r);var h=a.cy+d(c[1],a.r);var p=new s.Text({style:{x:l,y:h,text:e.getData().getName(0),fill:r.getTextColor(),textFont:r.getFont(),textAlign:"center",textVerticalAlign:"middle"}});this.group.add(p)}},_renderDetail:function(e,t,n,i,o){var c=e.getModel("detail");var l=e.get("min");var h=e.get("max");if(c.get("show")){var p=c.getModel("textStyle");var u=c.get("offsetCenter");var f=o.cx+d(u[0],o.r);var _=o.cy+d(u[1],o.r);var m=d(c.get("width"),o.r);var g=d(c.get("height"),o.r);var b=e.getData().get("value",0);var x=new s.Rect({shape:{x:f-m/2,y:_-g/2,width:m,height:g},style:{text:a(b,c.get("formatter")),fill:c.get("backgroundColor"),textFill:p.getTextColor(),textFont:p.getFont()}});if("auto"===x.style.textFill)x.setStyle("textFill",i(r.linearMap(b,[l,h],[0,1],!0)));x.setStyle(c.getItemStyle(["color"]));this.group.add(x)}}});e.exports=l},function(e,t,n){e.exports=n(45).extend({type:"echartsGaugePointer",shape:{angle:0,width:10,r:10,x:0,y:0},buildPath:function(e,t){var n=Math.cos;var i=Math.sin;var a=t.r;var o=t.width;var s=t.angle;var r=t.x-n(s)*o*(o>=a/3?1:2);var d=t.y-i(s)*o*(o>=a/3?1:2);s=t.angle-Math.PI/2;e.moveTo(r,d);e.lineTo(t.x+n(s)*o,t.y+i(s)*o);e.lineTo(t.x+n(t.angle)*a,t.y+i(t.angle)*a);e.lineTo(t.x-n(s)*o,t.y-i(s)*o);e.lineTo(r,d)}})},function(e,t,n){var i=n(4);var a=n(1);n(220);n(221);a.registerVisual(i.curry(n(143),"funnel"));a.registerLayout(n(222));a.registerProcessor(i.curry(n(146),"funnel"))},function(e,t,n){"use strict";var i=n(97);var a=n(5);var o=n(102);var s=n(1).extendSeriesModel({type:"series.funnel",init:function(e){s.superApply(this,"init",arguments);this.legendDataProvider=function(){return this._dataBeforeProcessed};this._defaultLabelLine(e)},getInitialData:function(e,t){var n=o(["value"],e.data);var a=new i(n,this);a.initData(e.data);return a},_defaultLabelLine:function(e){a.defaultEmphasis(e.labelLine,["show"]);var t=e.labelLine.normal;var n=e.labelLine.emphasis;t.show=t.show&&e.label.normal.show;n.show=n.show&&e.label.emphasis.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",gap:0,funnelAlign:"center",label:{normal:{show:!0,position:"outer"},emphasis:{show:!0}},labelLine:{normal:{show:!0,length:20,lineStyle:{width:1,type:"solid"}},emphasis:{}},itemStyle:{normal:{borderColor:"#fff",borderWidth:1},emphasis:{}}}});e.exports=s},function(e,t,n){function i(e,t){function n(){s.ignore=s.hoverIgnore;r.ignore=r.hoverIgnore}function i(){s.ignore=s.normalIgnore;r.ignore=r.normalIgnore}o.Group.call(this);var a=new o.Polygon;var s=new o.Polyline;var r=new o.Text;this.add(a);this.add(s);this.add(r);this.updateData(e,t,!0);this.on("emphasis",n).on("normal",i).on("mouseover",n).on("mouseout",i)}function a(e,t,n,i){var a=i.getModel("textStyle");var o=i.get("position");var r="inside"===o||"inner"===o||"center"===o;return{fill:a.getTextColor()||(r?"#fff":e.getItemVisual(t,"color")),textFont:a.getFont(),text:s.retrieve(e.hostModel.getFormattedLabel(t,n),e.getName(t))}}var o=n(43);var s=n(4);var r=i.prototype;var d=["itemStyle","normal","opacity"];r.updateData=function(e,t,n){var i=this.childAt(0);var a=e.hostModel;var r=e.getItemModel(t);var c=e.getItemLayout(t);var l=e.getItemModel(t).get(d);l=null==l?1:l;i.useStyle({});if(n){i.setShape({points:c.points});i.setStyle({opacity:0});o.initProps(i,{style:{opacity:l}},a,t)}else o.updateProps(i,{style:{opacity:l},shape:{points:c.points}},a,t);var h=r.getModel("itemStyle");var p=e.getItemVisual(t,"color");i.setStyle(s.defaults({lineJoin:"round",fill:p},h.getModel("normal").getItemStyle(["opacity"])));i.hoverStyle=h.getModel("emphasis").getItemStyle();this._updateLabel(e,t);o.setHoverStyle(this)};r._updateLabel=function(e,t){var n=this.childAt(1);var i=this.childAt(2);var s=e.hostModel;var r=e.getItemModel(t);var d=e.getItemLayout(t);var c=d.label;var l=e.getItemVisual(t,"color");o.updateProps(n,{shape:{points:c.linePoints||c.linePoints}},s,t);o.updateProps(i,{style:{x:c.x,y:c.y}},s,t);i.attr({style:{textAlign:c.textAlign,textVerticalAlign:c.verticalAlign,textFont:c.font},rotation:c.rotation,origin:[c.x,c.y],z2:10});var h=r.getModel("label.normal");var p=r.getModel("label.emphasis");var u=r.getModel("labelLine.normal");var f=r.getModel("labelLine.emphasis");i.setStyle(a(e,t,"normal",h));i.ignore=i.normalIgnore=!h.get("show");i.hoverIgnore=!p.get("show");n.ignore=n.normalIgnore=!u.get("show");n.hoverIgnore=!f.get("show");n.setStyle({stroke:l});n.setStyle(u.getModel("lineStyle").getLineStyle());i.hoverStyle=a(e,t,"emphasis",p);n.hoverStyle=f.getModel("lineStyle").getLineStyle()};s.inherits(i,o.Group);var c=n(42).extend({type:"funnel",render:function(e,t,n){var a=e.getData();var o=this._data;var s=this.group;a.diff(o).add(function(e){var t=new i(a,e);a.setItemGraphicEl(e,t);s.add(t)}).update(function(e,t){var n=o.getItemGraphicEl(t);n.updateData(a,e);s.add(n);a.setItemGraphicEl(e,n)}).remove(function(e){var t=o.getItemGraphicEl(e);s.remove(t)}).execute();this._data=a},remove:function(){this.group.removeAll();this._data=null}});e.exports=c},function(e,t,n){function i(e,t){return s.getLayoutRect(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function a(e,t){var n=e.mapArray("value",function(e){return e});var i=[];var a="ascending"===t;for(var o=0,s=e.count();o<s;o++)i[o]=o;i.sort(function(e,t){return a?n[e]-n[t]:n[t]-n[e]});return i}function o(e){e.each(function(t){var n=e.getItemModel(t);var i=n.getModel("label.normal");var a=i.get("position");var o=n.getModel("labelLine.normal");var s=e.getItemLayout(t);var r=s.points;var d="inner"===a||"inside"===a||"center"===a;var c;var l;var h;var p;if(d){l=(r[0][0]+r[1][0]+r[2][0]+r[3][0])/4;h=(r[0][1]+r[1][1]+r[2][1]+r[3][1])/4;c="center";p=[[l,h],[l,h]]}else{var u;var f;var _;var m=o.get("length");if("left"===a){u=(r[3][0]+r[0][0])/2;f=(r[3][1]+r[0][1])/2;_=u-m;l=_-5;c="right"}else{u=(r[1][0]+r[2][0])/2;f=(r[1][1]+r[2][1])/2;_=u+m;l=_+5;c="left"}var g=f;p=[[u,f],[_,g]];h=g}s.label={linePoints:p,x:l,y:h,verticalAlign:"middle",textAlign:c,inside:d}})}var s=n(21);var r=n(7);var d=r.parsePercent;e.exports=function(e,t,n){e.eachSeriesByType("funnel",function(e){
var n=e.getData();var s=e.get("sort");var c=i(e,t);var l=a(n,s);var h=[d(e.get("minSize"),c.width),d(e.get("maxSize"),c.width)];var p=n.getDataExtent("value");var u=e.get("min");var f=e.get("max");if(null==u)u=Math.min(p[0],0);if(null==f)f=p[1];var _=e.get("funnelAlign");var m=e.get("gap");var g=(c.height-m*(n.count()-1))/n.count();var b=c.y;var x=function(e,t){var i=n.get("value",e)||0;var a=r.linearMap(i,[u,f],h,!0);var o;switch(_){case"left":o=c.x;break;case"center":o=c.x+(c.width-a)/2;break;case"right":o=c.x+c.width-a}return[[o,t],[o+a,t]]};if("ascending"===s){g=-g;m=-m;b+=c.height;l=l.reverse()}for(var v=0;v<l.length;v++){var C=l[v];var w=l[v+1];var I=x(C,b);var y=x(w,b+g);b+=g+m;n.setItemLayout(C,{points:I.concat(y.slice().reverse())})}o(n)})}},function(e,t,n){var i=n(1);n(224);n(235);n(236);i.registerVisual(n(237))},function(e,t,n){n(225);n(228);n(230);var i=n(1);var a=n(4);var o=5;i.extendComponentView({type:"parallel",render:function(e,t,n){var i=n.getZr();if(!this.__onMouseDown){var s;i.on("mousedown",this.__onMouseDown=function(e){s=[e.offsetX,e.offsetY]});i.on("mouseup",this.__onMouseUp=function(t){var i=[t.offsetX,t.offsetY];var r=Math.pow(s[0]-i[0],2)+Math.pow(s[1]-i[1],2);if(e.get("axisExpandable")&&!(r>o)){var d=e.coordinateSystem;var c=d.findClosestAxisDim(i);if(c){var l=a.indexOf(d.dimensions,c);n.dispatchAction({type:"parallelAxisExpand",axisExpandCenter:l})}}})}},dispose:function(e,t){t.getZr().off(this.__onMouseDown);t.getZr().off(this.__onMouseUp)}});i.registerPreprocessor(n(234))},function(e,t,n){function i(e,t){var n=[];e.eachComponent("parallel",function(i,o){var s=new a(i,e,t);s.name="parallel_"+o;s.resize(i,t);i.coordinateSystem=s;s.model=i;n.push(s)});e.eachSeries(function(t){if("parallel"===t.get("coordinateSystem")){var n=e.queryComponents({mainType:"parallel",index:t.get("parallelIndex"),id:t.get("parallelId")})[0];t.coordinateSystem=n.coordinateSystem}});return n}var a=n(226);n(26).register("parallel",{create:i})},function(e,t,n){function i(e,t,n){this._axesMap={};this._axesLayout={};this.dimensions=e.dimensions;this._rect;this._model=e;this._init(e,t,n)}var a=n(21);var o=n(114);var s=n(4);var r=n(227);var d=n(43);var c=n(11);var l=s.each;var h=Math.PI;i.prototype={type:"parallel",constructor:i,_init:function(e,t,n){var i=e.dimensions;var a=e.parallelAxisIndex;l(i,function(e,n){var i=a[n];var s=t.getComponent("parallelAxis",i);var d=this._axesMap[e]=new r(e,o.createScaleByModel(s),[0,0],s.get("type"),i);var c="category"===d.type;d.onBand=c&&s.get("boundaryGap");d.inverse=s.get("inverse");s.axis=d;d.model=s},this)},update:function(e,t){this._updateAxesFromSeries(this._model,e)},_updateAxesFromSeries:function(e,t){t.eachSeries(function(n){if(e.contains(n,t)){var i=n.getData();l(this.dimensions,function(e){var t=this._axesMap[e];t.scale.unionExtent(i.getDataExtent(e));o.niceScaleExtent(t,t.model)},this)}},this)},resize:function(e,t){this._rect=a.getLayoutRect(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()});this._layoutAxes(e)},getRect:function(){return this._rect},_layoutAxes:function(e){var t=this._rect;var n=e.get("layout");var i=this._axesMap;var a=this.dimensions;var o=[t.width,t.height];var s="horizontal"===n?0:1;var r=o[s];var d=o[1-s];var p=[0,d];l(i,function(e){var t=e.inverse?1:0;e.setExtent(p[t],p[1-t])});var u=e.get("axisExpandable");var f=e.get("axisExpandWidth");var _=e.get("axisExpandCenter");var m=e.get("axisExpandCount")||0;var g;if(null!=_){var b=Math.max(0,Math.floor(_-(m-1)/2));var x=b+m-1;if(x>=a.length){x=a.length-1;b=Math.max(0,Math.floor(x-m+1))}g=[b,x]}var v=u&&g&&f?function(e,t,n){var i=g[1]-g[0];var a=(t-f*i)/(n-1-i);var o;if(e<g[0])o=(e-1)*a;else if(e<=g[1])o=g[0]*a+(e-g[0])*f;else if(e===n-1)o=t;else o=g[0]*a+i*f+(e-g[1])*a;return{position:o,axisNameAvailableWidth:g[0]<e&&e<g[1]?f:a}}:function(e,t,n){var i=t/(n-1);return{position:i*e,axisNameAvailableWidth:i}};l(a,function(e,i){var o=v(i,r,a.length);var s={horizontal:{x:o.position,y:d},vertical:{x:0,y:o.position}};var l={horizontal:h/2,vertical:0};var p=[s[n].x+t.x,s[n].y+t.y];var u=l[n];var f=c.create();c.rotate(f,f,u);c.translate(f,f,p);this._axesLayout[e]={position:p,rotation:u,transform:f,axisNameAvailableWidth:o.axisNameAvailableWidth,tickDirection:1,labelDirection:1,axisExpandWindow:g}},this)},getAxis:function(e){return this._axesMap[e]},dataToPoint:function(e,t){return this.axisCoordToPoint(this._axesMap[t].dataToCoord(e),t)},eachActiveState:function(e,t,n){var i=this.dimensions;var a=this._axesMap;var o=this.hasAxisbrushed();for(var s=0,r=e.count();s<r;s++){var d=e.getValues(i,s);var c;if(!o)c="normal";else{c="active";for(var l=0,h=i.length;l<h;l++){var p=i[l];var u=a[p].model.getActiveState(d[l],l);if("inactive"===u){c="inactive";break}}}t.call(n,c,s)}},hasAxisbrushed:function(){var e=this.dimensions;var t=this._axesMap;var n=!1;for(var i=0,a=e.length;i<a;i++)if("normal"!==t[e[i]].model.getActiveState())n=!0;return n},axisCoordToPoint:function(e,t){var n=this._axesLayout[t];return d.applyTransform([e,0],n.transform)},getAxisLayout:function(e){return s.clone(this._axesLayout[e])},findClosestAxisDim:function(e){var t;var n=1/0;s.each(this._axesLayout,function(i,a){var o=d.applyTransform(e,i.transform,!0);var s=this._axesMap[a].getExtent();if(!(o[0]<s[0]||o[0]>s[1])){var r=Math.abs(o[1]);if(r<n){n=r;t=a}}},this);return t}};e.exports=i},function(e,t,n){var i=n(4);var a=n(123);var o=function(e,t,n,i,o){a.call(this,e,t,n);this.type=i||"value";this.axisIndex=o};o.prototype={constructor:o,model:null};i.inherits(o,a);e.exports=o},function(e,t,n){var i=n(4);var a=n(19);n(229);a.extend({type:"parallel",dependencies:["parallelAxis"],coordinateSystem:null,dimensions:null,parallelAxisIndex:null,layoutMode:"box",defaultOption:{zlevel:0,z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,parallelAxisDefault:null},init:function(){a.prototype.init.apply(this,arguments);this.mergeOption({})},mergeOption:function(e){var t=this.option;e&&i.merge(t,e,!0);this._initDimensions()},contains:function(e,t){var n=e.get("parallelIndex");return null!=n&&t.getComponent("parallel",n)===this},setAxisExpand:function(e){i.each(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth"],function(t){if(e.hasOwnProperty(t))this.option[t]=e[t]},this)},_initDimensions:function(){var e=this.dimensions=[];var t=this.parallelAxisIndex=[];var n=i.filter(this.dependentModels.parallelAxis,function(e){return e.get("parallelIndex")===this.componentIndex});i.each(n,function(n){e.push("dim"+n.get("dim"));t.push(n.componentIndex)})}})},function(e,t,n){function i(e,t){return t.type||(t.data?"category":"value")}var a=n(19);var o=n(4);var s=n(15);var r=n(127);var d=n(7);var c=a.extend({type:"baseParallelAxis",axis:null,activeIntervals:[],getAreaSelectStyle:function(){return s([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]]).call(this.getModel("areaSelectStyle"))},setActiveIntervals:function(e){var t=this.activeIntervals=o.clone(e);if(t)for(var n=t.length-1;n>=0;n--)d.asc(t[n])},getActiveState:function(e){var t=this.activeIntervals;if(!t.length)return"normal";if(null==e)return"inactive";for(var n=0,i=t.length;n<i;n++)if(t[n][0]<=e&&e<=t[n][1])return"active";return"inactive"}});var l={type:"value",dim:null,areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};o.merge(c.prototype,n(129));r("parallel",c,i,l);e.exports=c},function(e,t,n){n(225);n(231);n(232)},function(e,t,n){var i=n(1);var a={type:"axisAreaSelect",event:"axisAreaSelected",update:"updateVisual"};i.registerAction(a,function(e,t){t.eachComponent({mainType:"parallelAxis",query:e},function(t){t.axis.model.setActiveIntervals(e.intervals)})});i.registerAction("parallelAxisExpand",function(e,t){t.eachComponent({mainType:"parallel",query:e},function(t){t.setAxisExpand(e)})})},function(e,t,n){function i(e,t,n){return n&&"axisAreaSelect"===n.type&&t.findComponents({mainType:"parallelAxis",query:n})[0]===e}var a=n(4);var o=n(132);var s=n(233);var r=n(43);var d=["axisLine","axisLabel","axisTick","axisName"];var c=n(1).extendComponentView({type:"parallelAxis",init:function(e,t){c.superApply(this,"init",arguments);(this._brushController=new s(t.getZr())).on("brush",a.bind(this._onBrush,this))},render:function(e,t,n,s){if(!i(e,t,s)){this.axisModel=e;this.api=n;this.group.removeAll();var c=this._axisGroup;this._axisGroup=new r.Group;this.group.add(this._axisGroup);if(e.get("show")){var l=t.getComponent("parallel",e.get("parallelIndex")).coordinateSystem;var h=e.getAreaSelectStyle();var p=h.width;var u=e.axis.dim;var f=l.getAxisLayout(u);var _;var m=a.indexOf(l.dimensions,u);var g=f.axisExpandWindow;if(g&&(m<=g[0]||m>=g[1]))_=!1;var b=a.extend({axisLabelShow:_,strokeContainThreshold:p},f);var x=new o(e,b);a.each(d,x.add,x);this._axisGroup.add(x.getGroup());this._refreshBrushController(b,h,e,p);r.groupTransition(c,this._axisGroup,e)}}},_refreshBrushController:function(e,t,n,i){var o=n.axis;var s=a.map(n.activeIntervals,function(e){return{brushType:"lineX",panelId:"pl",range:[o.dataToCoord(e[0],!0),o.dataToCoord(e[1],!0)]}});var r=o.getExtent();var d=30;var c={x:r[0]-d,y:-i/2,width:r[1]-r[0]+2*d,height:i};this._brushController.mount({enableGlobalPan:!0,rotation:e.rotation,position:e.position}).setPanels([{panelId:"pl",rect:c}]).enableBrush({brushType:"lineX",brushStyle:t,removeOnClick:!0}).updateCovers(s)},_onBrush:function(e,t){var n=this.axisModel;var i=n.axis;var o=a.map(e,function(e){return[i.coordToData(e.range[0],!0),i.coordToData(e.range[1],!0)]});if(!n.option.realtime===t.isEnd||t.removeOnClick)this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:n.id,intervals:o})},dispose:function(){this._brushController.dispose()}});e.exports=c},function(e,t,n){function i(e){if(!0)M.assert(e);O.call(this);this._zr=e;this.group=new B.Group;this._brushType;this._brushOption;
this._panels;this._track=[];this._dragging;this._covers=[];this._creatingCover;this._creatingPanel;this._enableGlobalPan;if(!0)this._mounted;this._uid="brushController_"+te++;this._handlers={};H(ne,function(e,t){this._handlers[t]=M.bind(e,this)},this)}function a(e,t){var n=e._zr;if(!e._enableGlobalPan)R.take(n,K,e._uid);H(e._handlers,function(e,t){n.on(t,e)});e._brushType=t.brushType;e._brushOption=M.merge(M.clone(ee),t,!0)}function o(e){var t=e._zr;R.release(t,K,e._uid);H(e._handlers,function(e,n){t.off(n,e)});e._brushType=e._brushOption=null}function s(e,t){var n=ie[t.brushType].createCover(e,t);c(n);n.__brushOption=t;e.group.add(n);return n}function r(e,t){var n=h(t);if(n.endCreating){n.endCreating(e,t);c(t)}return t}function d(e,t){var n=t.__brushOption;h(t).updateCoverShape(e,t,n.range,n)}function c(e){e.traverse(function(e){e.z=q;e.z2=q})}function l(e,t){h(t).updateCommon(e,t);d(e,t)}function h(e){return ie[e.__brushOption.brushType]}function p(e,t,n){var i=e._panels;if(!i)return!0;var a;H(i,function(e){e.contain(t,n)&&(a=e)});return a}function u(e,t){var n=e._panels;if(!n)return!0;var i=t.__brushOption.panelId;return null!=i?n[i]:!0}function f(e){var t=e._covers;var n=t.length;H(t,function(t){e.group.remove(t)},e);t.length=0;return!!n}function _(e,t){var n=V(e._covers,function(e){var t=e.__brushOption;var n=M.clone(t.range);return{brushType:t.brushType,panelId:t.panelId,range:n}});e.trigger("brush",n,{isEnd:!!t.isEnd,removeOnClick:!!t.removeOnClick})}function m(e){var t=e._track;if(!t.length)return!1;var n=t[t.length-1];var i=t[0];var a=n[0]-i[0];var o=n[1]-i[1];var s=W(a*a+o*o,.5);return s>Y}function g(e){var t=e.length-1;t<0&&(t=0);return[e[0],e[t]]}function b(e,t,n,i){var a=new B.Group;a.add(new B.Rect({name:"main",style:w(n),silent:!0,draggable:!0,cursor:"move",drift:F(e,t,a,"nswe"),ondragend:F(_,t,{isEnd:!0})}));H(i,function(n){a.add(new B.Rect({name:n,style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:F(e,t,a,n),ondragend:F(_,t,{isEnd:!0})}))});return a}function x(e,t,n,i){var a=i.brushStyle.lineWidth||0;var o=J(a,Q);var s=n[0][0];var r=n[1][0];var d=s-a/2;var c=r-a/2;var l=n[0][1];var h=n[1][1];var p=l-o+a/2;var u=h-o+a/2;var f=l-s;var _=h-r;var m=f+a;var g=_+a;C(e,t,"main",s,r,f,_);if(i.transformable){C(e,t,"w",d,c,o,g);C(e,t,"e",p,c,o,g);C(e,t,"n",d,c,m,o);C(e,t,"s",d,u,m,o);C(e,t,"nw",d,c,o,o);C(e,t,"ne",p,c,o,o);C(e,t,"sw",d,u,o,o);C(e,t,"se",p,u,o,o)}}function v(e,t){var n=t.__brushOption;var i=n.transformable;var a=t.childAt(0);a.useStyle(w(n));a.attr({silent:!i,cursor:i?"move":"default"});H(["w","e","n","s","se","sw","ne","nw"],function(n){var a=t.childOfName(n);var o=$(e,n);a&&a.attr({silent:!i,invisible:!i,cursor:i?Z[o]+"-resize":null})})}function C(e,t,n,i,a,o,s){var r=t.childOfName(n);r&&r.setShape(S(N(e,t,[[i,a],[i+o,a+s]])))}function w(e){return M.defaults({strokeNoScale:!0},e.brushStyle)}function I(e,t,n,i){var a=[G(e,n),G(t,i)];var o=[J(e,n),J(t,i)];return[[a[0],o[0]],[a[1],o[1]]]}function y(e){return B.getTransform(e.group)}function $(e,t){if(t.length>1){t=t.split("");var n=[$(e,t[0]),$(e,t[1])];("e"===n[0]||"w"===n[0])&&n.reverse();return n.join("")}else{var i={w:"left",e:"right",n:"top",s:"bottom"};var a={left:"w",right:"e",top:"n",bottom:"s"};var n=B.transformDirection(i[t],y(e));return a[n]}}function A(e,t,n,i,a,o,s,r){var d=i.__brushOption;var c=e(d.range);var h=T(n,o,s);H(a.split(""),function(e){var t=X[e];c[t[0]][t[1]]+=h[t[0]]});d.range=t(I(c[0][0],c[1][0],c[0][1],c[1][1]));l(n,i);_(n,{isEnd:!1})}function E(e,t,n,i,a){var o=t.__brushOption.range;var s=T(e,n,i);H(o,function(e){e[0]+=s[0];e[1]+=s[1]});l(e,t);_(e,{isEnd:!1})}function T(e,t,n){var i=e.group;var a=i.transformCoordToLocal(t,n);var o=i.transformCoordToLocal(0,0);return[a[0]-o[0],a[1]-o[1]]}function N(e,t,n){var i=u(e,t);if(i===!0)return M.clone(n);var a=i.getBoundingRect();return M.map(n,function(e){var t=e[0];t=J(t,a.x);t=G(t,a.x+a.width);var n=e[1];n=J(n,a.y);n=G(n,a.y+a.height);return[t,n]})}function S(e){var t=G(e[0][0],e[1][0]);var n=G(e[0][1],e[1][1]);var i=J(e[0][0],e[1][0]);var a=J(e[0][1],e[1][1]);return{x:t,y:n,width:i-t,height:a-n}}function k(e,t){var n=t.offsetX;var i=t.offsetY;var a=e._zr;if(e._brushType){var o=e._panels;var s=e._covers;var r;for(var d=0;d<s.length;d++)if(ie[s[d].__brushOption.brushType].contain(s[d],n,i)){r=!0;break}if(!r)if(o)H(o,function(e){e.contain(n,i)&&a.setCursorStyle("crosshair")});else a.setCursorStyle("crosshair")}}function D(e){var t=e.event;t.preventDefault&&t.preventDefault()}function U(e,t,n){return e.childOfName("main").contain(t,n)}function z(e,t,n){var i=t.offsetX;var a=t.offsetY;var o=e._creatingCover;var c=e._creatingPanel;var l=e._brushOption;var h;e._track.push(e.group.transformCoordToLocal(i,a));if(m(e)||o){if(c&&!o){"single"===l.brushMode&&f(e);var u=M.clone(l);u.panelId=c===!0?null:c.__brushPanelId;o=e._creatingCover=s(e,u);e._covers.push(o)}if(o){var _=ie[e._brushType];var g=o.__brushOption;g.range=_.getCreatingRange(N(e,o,e._track));if(n){r(e,o);_.updateCommon(e,o)}d(e,o);h={isEnd:n}}}else if(n&&"single"===l.brushMode&&l.removeOnClick)if(p(e,i,a)&&f(e))h={isEnd:n,removeOnClick:!0};return h}function P(e){if(this._dragging){D(e);var t=z(this,e,!0);this._dragging=!1;this._track=[];this._creatingCover=null;t&&_(this,t)}}function L(e){return{createCover:function(t,n){return b(F(A,function(t){var n=[t,[0,100]];e&&n.reverse();return n},function(t){return t[e]}),t,n,[["w","e"],["n","s"]][e])},getCreatingRange:function(t){var n=g(t);var i=G(n[0][e],n[1][e]);var a=J(n[0][e],n[1][e]);return[i,a]},updateCoverShape:function(t,n,i,a){var o=a.brushStyle.width;var s;if(null==o){var r=u(t,n);var d=0;if(r!==!0){var c=r.getBoundingRect();o=e?c.width:c.height;d=e?c.x:c.y}s=[d,d+(o||0)]}else s=[-o/2,o/2];var l=[i,s];e&&l.reverse();x(t,n,l,a)},updateCommon:v,contain:U}}var O=n(33);var M=n(4);var B=n(43);var R=n(175);var j=n(98);var F=M.curry;var H=M.each;var V=M.map;var G=Math.min;var J=Math.max;var W=Math.pow;var q=1e4;var Y=6;var Q=6;var K="globalPan";var X={w:[0,0],e:[0,1],n:[1,0],s:[1,1]};var Z={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"};var ee={brushStyle:{lineWidth:2,stroke:"rgba(0,0,0,0.3)",fill:"rgba(0,0,0,0.1)"},transformable:!0,brushMode:"single",removeOnClick:!1};var te=0;i.prototype={constructor:i,enableBrush:function(e){if(!0)M.assert(this._mounted);this._brushType&&o(this);e.brushType&&a(this,e);return this},setPanels:function(e){var t=this._panels||{};var n=this._panels=e&&e.length&&{};var i=this.group;n&&H(e,function(e){var a=e.panelId;var o=t[a];if(!o){o=new B.Rect({silent:!0,invisible:!0});i.add(o)}o.attr("shape",e.rect);o.__brushPanelId=a;n[a]=o;t[a]=null});H(t,function(e){e&&i.remove(e)});return this},mount:function(e){e=e||{};if(!0)this._mounted=!0;this._enableGlobalPan=e.enableGlobalPan;var t=this.group;this._zr.add(t);t.attr({position:e.position||[0,0],rotation:e.rotation||0,scale:e.scale||[1,1]});return this},eachCover:function(e,t){H(this._covers,e,t)},updateCovers:function(e){function t(e,t){return(null!=e.id?e.id:o+t)+"-"+e.brushType}function n(e,n){return t(e.__brushOption,n)}function i(t,n){var i=e[t];if(null!=n&&d[n]===p)c[t]=d[n];else{var a=c[t]=null!=n?(d[n].__brushOption=i,d[n]):r(h,s(h,i));l(h,a)}}function a(e){if(d[e]!==p)h.group.remove(d[e])}if(!0)M.assert(this._mounted);e=M.map(e,function(e){return M.merge(M.clone(ee),e,!0)});var o="\0-brush-index-";var d=this._covers;var c=this._covers=[];var h=this;var p=this._creatingCover;new j(d,e,n,t).add(i).update(i).remove(a).execute();return this},unmount:function(){this.enableBrush(!1);f(this);this._zr.remove(this.group);if(!0)this._mounted=!1;return this},dispose:function(){this.unmount();this.off()}};M.mixin(i,O);var ne={mousedown:function(e){if(this._dragging)P.call(this,e);else if(!e.target||!e.target.draggable){D(e);var t=e.offsetX;var n=e.offsetY;this._creatingCover=null;var i=this._creatingPanel=p(this,t,n);if(i){this._dragging=!0;this._track=[this.group.transformCoordToLocal(t,n)]}}},mousemove:function(e){k(this,e);if(this._dragging){D(e);var t=z(this,e,!1);t&&_(this,t)}},mouseup:P};var ie={lineX:L(0),lineY:L(1),rect:{createCover:function(e,t){return b(F(A,function(e){return e},function(e){return e}),e,t,["w","e","n","s","se","sw","ne","nw"])},getCreatingRange:function(e){var t=g(e);return I(t[1][0],t[1][1],t[0][0],t[0][1])},updateCoverShape:function(e,t,n,i){x(e,t,n,i)},updateCommon:v,contain:U},polygon:{createCover:function(e,t){var n=new B.Group;n.add(new B.Polyline({name:"main",style:w(t),silent:!0}));return n},getCreatingRange:function(e){return e},endCreating:function(e,t){t.remove(t.childAt(0));t.add(new B.Polygon({name:"main",draggable:!0,drift:F(E,e,t),ondragend:F(_,e,{isEnd:!0})}))},updateCoverShape:function(e,t,n,i){t.childAt(0).setShape({points:N(e,t,n)})},updateCommon:v,contain:U}};e.exports=i},function(e,t,n){function i(e){if(!e.parallel){var t=!1;o.each(e.series,function(e){if(e&&"parallel"===e.type)t=!0});if(t)e.parallel=[{}]}}function a(e){var t=s.normalizeToArray(e.parallelAxis);o.each(t,function(t){if(o.isObject(t)){var n=t.parallelIndex||0;var i=s.normalizeToArray(e.parallel)[n];if(i&&i.parallelAxisDefault)o.merge(t,i.parallelAxisDefault,!1)}})}var o=n(4);var s=n(5);e.exports=function(e){i(e);a(e)}},function(e,t,n){function i(e,t,n){var i=e.get("data");var o=a(t);if(i&&i.length)r.each(n,function(e){if(e){var t=r.indexOf(i,e[o]);e[o]=t>=0?t:NaN}})}function a(e){return+e.replace("dim","")}function o(e,t){var n=0;r.each(e,function(e){var t=a(e);t>n&&(n=t)});var i=t[0];if(i&&i.length-1>n)n=i.length-1;var o=[];for(var s=0;s<=n;s++)o.push("dim"+s);return o}var s=n(97);var r=n(4);var d=n(28);var c=n(102);e.exports=d.extend({type:"series.parallel",dependencies:["parallel"],getInitialData:function(e,t){var n=t.getComponent("parallel",this.get("parallelIndex"));var a=n.parallelAxisIndex;var d=e.data;var l=n.dimensions;var h=o(l,d);var p=r.map(h,function(e,n){var o=r.indexOf(l,e);var s=o>=0&&t.getComponent("parallelAxis",a[o]);if(s&&"category"===s.get("type")){
i(s,e,d);return{name:e,type:"ordinal"}}else if(o<0)return c.guessOrdinal(d,n)?{name:e,type:"ordinal"}:e;else return e});var u=new s(p,this);u.initData(d);if(this.option.progressive)this.option.animation=!1;return u},getRawIndicesByActiveState:function(e){var t=this.coordinateSystem;var n=this.getData();var i=[];t.eachActiveState(n,function(t,a){if(e===t)i.push(n.getRawIndex(a))});return i},defaultOption:{zlevel:0,z:2,coordinateSystem:"parallel",parallelIndex:0,label:{normal:{show:!1},emphasis:{show:!1}},inactiveOpacity:.05,activeOpacity:1,lineStyle:{normal:{width:1,opacity:.45,type:"solid"}},progressive:!1,smooth:!1,animationEasing:"linear"}})},function(e,t,n){function i(e,t,n){var i=e.model;var a=e.getRect();var o=new d.Rect({shape:{x:a.x,y:a.y,width:a.width,height:a.height}});var s="horizontal"===i.get("layout")?"width":"height";o.setShape(s,0);d.initProps(o,{shape:{width:a.width,height:a.height}},t,n);return o}function a(e,t,n,i){var a=[];for(var o=0;o<n.length;o++){var s=n[o];var d=e.get(s,t);if(!r(d,i.getAxis(s).type))a.push(i.dataToPoint(d,s))}return a}function o(e,t,n,i,o){var s=a(e,n,i,o);var r=new d.Polyline({shape:{points:s},silent:!0,z2:10});t.add(r);e.setItemGraphicEl(n,r)}function s(e,t){var n=e.hostModel.getModel("lineStyle.normal");var i=n.getLineStyle();e.eachItemGraphicEl(function(a,o){if(e.hasItemOption){var s=e.getItemModel(o);var r=s.getModel("lineStyle.normal",n);i=r.getLineStyle()}a.useStyle(c.extend(i,{fill:null,stroke:e.getItemVisual(o,"color"),opacity:e.getItemVisual(o,"opacity")}));a.shape.smooth=t})}function r(e,t){return"category"===t?null==e:null==e||isNaN(e)}var d=n(43);var c=n(4);var l=.3;var h=n(42).extend({type:"parallel",init:function(){this._dataGroup=new d.Group;this.group.add(this._dataGroup);this._data},render:function(e,t,n,i){this._renderForNormal(e)},_renderForNormal:function(e){function t(e){o(h,c,e,f,u,null,m)}function n(t,n){var i=p.getItemGraphicEl(n);var o=a(h,t,f,u);h.setItemGraphicEl(t,i);d.updateProps(i,{shape:{points:o}},e,t)}function r(e){var t=p.getItemGraphicEl(e);c.remove(t)}var c=this._dataGroup;var h=e.getData();var p=this._data;var u=e.coordinateSystem;var f=u.dimensions;var _=e.option;var m=_.smooth?l:null;h.diff(p).add(t).update(n).remove(r).execute();s(h,m);if(!this._data){var g=i(u,e,function(){setTimeout(function(){c.removeClipPath()})});c.setClipPath(g)}this._data=h},remove:function(){this._dataGroup&&this._dataGroup.removeAll();this._data=null}});e.exports=h},function(e,t){e.exports=function(e){e.eachSeriesByType("parallel",function(t){var n=t.getModel("itemStyle.normal");var i=t.getModel("lineStyle.normal");var a=e.get("color");var o=i.get("color")||n.get("color")||a[t.seriesIndex%a.length];var s=t.get("inactiveOpacity");var r=t.get("activeOpacity");var d=t.getModel("lineStyle.normal").getLineStyle();var c=t.coordinateSystem;var l=t.getData();var h={normal:d.opacity,active:r,inactive:s};c.eachActiveState(l,function(e,t){l.setItemVisual(t,"opacity",h[e])});l.setVisual("color",o)})}},function(e,t,n){var i=n(1);n(239);n(240);i.registerLayout(n(241));i.registerVisual(n(243))},function(e,t,n){var i=n(28);var a=n(196);var o=i.extend({type:"series.sankey",layoutInfo:null,getInitialData:function(e){var t=e.edges||e.links;var n=e.data||e.nodes;if(n&&t){var i=a(n,t,this,!0);return i.data}},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},formatTooltip:function(e,t,n){if("edge"===n){var i=this.getDataParams(e,n);var a=i.data;var s=a.source+" -- "+a.target;if(i.value)s+=" : "+i.value;return s}return o.superCall(this,"formatTooltip",e,t)},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",layout:null,left:"5%",top:"5%",right:"20%",bottom:"5%",nodeWidth:20,nodeGap:8,layoutIterations:32,label:{normal:{show:!0,position:"right",textStyle:{color:"#000",fontSize:12}},emphasis:{show:!0}},itemStyle:{normal:{borderWidth:1,borderColor:"#333"}},lineStyle:{normal:{color:"#314656",opacity:.2,curveness:.5},emphasis:{opacity:.6}},animationEasing:"linear",animationDuration:1e3}});e.exports=o},function(e,t,n){function i(e,t,n){var i=new a.Rect({shape:{x:e.x-10,y:e.y-10,width:0,height:e.height+20}});a.initProps(i,{shape:{width:e.width+20,height:e.height+20}},t,n);return i}var a=n(43);var o=n(4);var s=a.extendShape({shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,cpx2:0,cpy2:0,extent:0},buildPath:function(e,t){var n=t.extent/2;e.moveTo(t.x1,t.y1-n);e.bezierCurveTo(t.cpx1,t.cpy1-n,t.cpx2,t.cpy2-n,t.x2,t.y2-n);e.lineTo(t.x2,t.y2+n);e.bezierCurveTo(t.cpx2,t.cpy2+n,t.cpx1,t.cpy1+n,t.x1,t.y1+n);e.closePath()}});e.exports=n(1).extendChartView({type:"sankey",_model:null,render:function(e,t,n){var r=e.getGraph();var d=this.group;var c=e.layoutInfo;var l=e.getData();var h=e.getData("edge");this._model=e;d.removeAll();d.position=[c.x,c.y];r.eachEdge(function(t){var n=new s;n.dataIndex=t.dataIndex;n.seriesIndex=e.seriesIndex;n.dataType="edge";var i=t.getModel("lineStyle.normal");var o=i.get("curveness");var r=t.node1.getLayout();var c=t.node2.getLayout();var l=t.getLayout();n.shape.extent=Math.max(1,l.dy);var p=r.x+r.dx;var u=r.y+l.sy+l.dy/2;var f=c.x;var _=c.y+l.ty+l.dy/2;var m=p*(1-o)+f*o;var g=u;var b=p*o+f*(1-o);var x=_;n.setShape({x1:p,y1:u,x2:f,y2:_,cpx1:m,cpy1:g,cpx2:b,cpy2:x});n.setStyle(i.getItemStyle());switch(n.style.fill){case"source":n.style.fill=t.node1.getVisual("color");break;case"target":n.style.fill=t.node2.getVisual("color")}a.setHoverStyle(n,t.getModel("lineStyle.emphasis").getItemStyle());d.add(n);h.setItemGraphicEl(t.dataIndex,n)});r.eachNode(function(t){var n=t.getLayout();var i=t.getModel();var s=i.getModel("label.normal");var r=s.getModel("textStyle");var c=i.getModel("label.emphasis");var h=c.getModel("textStyle");var p=new a.Rect({shape:{x:n.x,y:n.y,width:t.getLayout().dx,height:t.getLayout().dy},style:{text:s.get("show")?e.getFormattedLabel(t.dataIndex,"normal")||t.id:"",textFont:r.getFont(),textFill:r.getTextColor(),textPosition:s.get("position")}});p.setStyle(o.defaults({fill:t.getVisual("color")},i.getModel("itemStyle.normal").getItemStyle()));a.setHoverStyle(p,o.extend(t.getModel("itemStyle.emphasis"),{text:c.get("show")?e.getFormattedLabel(t.dataIndex,"emphasis")||t.id:"",textFont:h.getFont(),textFill:h.getTextColor(),textPosition:c.get("position")}));d.add(p);l.setItemGraphicEl(t.dataIndex,p);p.dataType="node"});if(!this._data&&e.get("animation"))d.setClipPath(i(d.getBoundingRect(),e,function(){d.removeClipPath()}));this._data=e.getData()}})},function(e,t,n){function i(e,t){return y.getLayoutRect(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function a(e,t,n,i,a,o,r){s(e,n,a);c(e,t,o,i,r);m(e)}function o(e){A.each(e,function(e){var t=x(e.outEdges,I);var n=x(e.inEdges,I);var i=Math.max(t,n);e.setLayout({value:i},!0)})}function s(e,t,n){var i=e;var a=null;var o=0;var s=0;for(;i.length;){a=[];for(var c=0,l=i.length;c<l;c++){var h=i[c];h.setLayout({x:o},!0);h.setLayout({dx:t},!0);for(var p=0,u=h.outEdges.length;p<u;p++)a.push(h.outEdges[p].node2)}i=a;++o}r(e,o);s=(n-t)/(o-1);d(e,s)}function r(e,t){A.each(e,function(e){if(!e.outEdges.length)e.setLayout({x:t-1},!0)})}function d(e,t){A.each(e,function(e){var n=e.getLayout().x*t;e.setLayout({x:n},!0)})}function c(e,t,n,i,a){var o=$().key(function(e){return e.getLayout().x}).sortKeys(w).entries(e).map(function(e){return e.values});l(e,o,t,n,i);h(o,i,n);for(var s=1;a>0;a--){s*=.99;p(o,s);h(o,i,n);f(o,s);h(o,i,n)}}function l(e,t,n,i,a){var o=[];A.each(t,function(e){var t=e.length;var n=0;A.each(e,function(e){n+=e.getLayout().value});var s=(i-(t-1)*a)/n;o.push(s)});o.sort(function(e,t){return e-t});var s=o[0];A.each(t,function(e){A.each(e,function(e,t){e.setLayout({y:t},!0);var n=e.getLayout().value*s;e.setLayout({dy:n},!0)})});A.each(n,function(e){var t=+e.getValue()*s;e.setLayout({dy:t},!0)})}function h(e,t,n){A.each(e,function(e){var i;var a;var o=0;var s=e.length;var r;e.sort(C);for(r=0;r<s;r++){i=e[r];a=o-i.getLayout().y;if(a>0){var d=i.getLayout().y+a;i.setLayout({y:d},!0)}o=i.getLayout().y+i.getLayout().dy+t}a=o-t-n;if(a>0){var d=i.getLayout().y-a;i.setLayout({y:d},!0);o=i.getLayout().y;for(r=s-2;r>=0;--r){i=e[r];a=i.getLayout().y+i.getLayout().dy+t-o;if(a>0){d=i.getLayout().y-a;i.setLayout({y:d},!0)}o=i.getLayout().y}}})}function p(e,t){A.each(e.slice().reverse(),function(e){A.each(e,function(e){if(e.outEdges.length){var n=x(e.outEdges,u)/x(e.outEdges,I);var i=e.getLayout().y+(n-v(e))*t;e.setLayout({y:i},!0)}})})}function u(e){return v(e.node2)*e.getValue()}function f(e,t){A.each(e,function(e){A.each(e,function(e){if(e.inEdges.length){var n=x(e.inEdges,_)/x(e.inEdges,I);var i=e.getLayout().y+(n-v(e))*t;e.setLayout({y:i},!0)}})})}function _(e){return v(e.node1)*e.getValue()}function m(e){A.each(e,function(e){e.outEdges.sort(g);e.inEdges.sort(b)});A.each(e,function(e){var t=0;var n=0;A.each(e.outEdges,function(e){e.setLayout({sy:t},!0);t+=e.getLayout().dy});A.each(e.inEdges,function(e){e.setLayout({ty:n},!0);n+=e.getLayout().dy})})}function g(e,t){return e.node2.getLayout().y-t.node2.getLayout().y}function b(e,t){return e.node1.getLayout().y-t.node1.getLayout().y}function x(e,t){var n=0;var i=e.length;var a=-1;for(;++a<i;){var o=+t.call(e,e[a],a);if(!isNaN(o))n+=o}return n}function v(e){return e.getLayout().y+e.getLayout().dy/2}function C(e,t){return e.getLayout().y-t.getLayout().y}function w(e,t){return e<t?-1:e>t?1:e===t?0:NaN}function I(e){return e.getValue()}var y=n(21);var $=n(242);var A=n(4);e.exports=function(e,t,n){e.eachSeriesByType("sankey",function(e){var n=e.get("nodeWidth");var s=e.get("nodeGap");var r=i(e,t);e.layoutInfo=r;var d=r.width;var c=r.height;var l=e.getGraph();var h=l.nodes;var p=l.edges;o(h);var u=h.filter(function(e){return 0===e.getLayout().value});var f=0!==u.length?0:e.get("layoutIterations");a(h,p,n,s,d,c,f)})}},function(e,t,n){function i(){function e(t,i){if(i>=n.length)return t;var o=-1;var s=t.length;var r=n[i++];var d={};var c={};for(;++o<s;){var l=r(t[o]);var h=c[l];if(h)h.push(t[o]);else c[l]=[t[o]]}a.each(c,function(t,n){
d[n]=e(t,i)});return d}function t(e,o){if(o>=n.length)return e;var s=[];var r=i[o++];a.each(e,function(e,n){s.push({key:n,values:t(e,o)})});if(r)return s.sort(function(e,t){return r(e.key,t.key)});else return s}var n=[];var i=[];return{key:function(e){n.push(e);return this},sortKeys:function(e){i[n.length-1]=e;return this},entries:function(n){return t(e(n,0),0)}}}var a=n(4);e.exports=i},function(e,t,n){var i=n(192);e.exports=function(e,t){e.eachSeriesByType("sankey",function(e){var t=e.getGraph();var n=t.nodes;n.sort(function(e,t){return e.getLayout().value-t.getLayout().value});var a=n[0].getLayout().value;var o=n[n.length-1].getLayout().value;n.forEach(function(t){var n=new i({type:"color",mappingMethod:"linear",dataExtent:[a,o],visual:e.get("color")});var s=n.mapValueToVisual(t.getLayout().value);t.setVisual("color",s);var r=t.getModel();var d=r.get("itemStyle.normal.color");if(null!=d)t.setVisual("color",d)})})}},function(e,t,n){var i=n(1);n(245);n(248);i.registerVisual(n(249));i.registerLayout(n(250))},function(e,t,n){"use strict";var i=n(4);var a=n(28);var o=n(246);var s=a.extend({type:"series.boxplot",dependencies:["xAxis","yAxis","grid"],valueDimensions:["min","Q1","median","Q3","max"],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,boxWidth:[7,50],itemStyle:{normal:{color:"#fff",borderWidth:1},emphasis:{borderWidth:2,shadowBlur:5,shadowOffsetX:2,shadowOffsetY:2,shadowColor:"rgba(0,0,0,0.4)"}},animationEasing:"elasticOut",animationDuration:800}});i.mixin(s,o.seriesModelMixin,!0);e.exports=s},function(e,t,n){"use strict";function i(e){return null==e.value?e:e.value}var a=n(97);var o=n(102);var s=n(247);var r=n(4);var d={_baseAxisDim:null,getInitialData:function(e,t){var n;var s=t.getComponent("xAxis",this.get("xAxisIndex"));var r=t.getComponent("yAxis",this.get("yAxisIndex"));var d=s.get("type");var c=r.get("type");var l;if("category"===d){e.layout="horizontal";n=s.getCategories();l=!0}else if("category"===c){e.layout="vertical";n=r.getCategories();l=!0}else e.layout=e.layout||"horizontal";this._baseAxisDim="horizontal"===e.layout?"x":"y";var h=e.data;var p=this.dimensions=["base"].concat(this.valueDimensions);o(p,h);var u=new a(p,this);u.initData(h,n?n.slice():null,function(e,t,n,a){var o=i(e);return l?"base"===t?n:o[a-1]:o[a]});return u},coordDimToDataDim:function(e){var t=this.valueDimensions.slice();var n=["base"];var i={horizontal:{x:n,y:t},vertical:{x:t,y:n}};return i[this.get("layout")][e]},dataDimToCoordDim:function(e){var t;r.each(["x","y"],function(n,i){var a=this.coordDimToDataDim(n);if(r.indexOf(a,e)>=0)t=n},this);return t},getBaseAxis:function(){var e=this._baseAxisDim;return this.ecModel.getComponent(e+"Axis",this.get(e+"AxisIndex")).axis}};var c={init:function(){var e=this._whiskerBoxDraw=new s(this.getStyleUpdater());this.group.add(e.group)},render:function(e,t,n){this._whiskerBoxDraw.updateData(e.getData())},remove:function(e){this._whiskerBoxDraw.remove()}};e.exports={seriesModelMixin:d,viewMixin:c}},function(e,t,n){function i(e,t,n,i){d.Group.call(this);this.bodyIndex;this.whiskerIndex;this.styleUpdater=n;this._createContent(e,t,i);this.updateData(e,t,i);this._seriesModel}function a(e,t,n){return r.map(e,function(e){e=e.slice();e[t]=n.initBaseline;return e})}function o(e){var t={};r.each(e,function(e,n){t["ends"+n]=e});return t}function s(e){this.group=new d.Group;this.styleUpdater=e}var r=n(4);var d=n(43);var c=n(45);var l=c.extend({type:"whiskerInBox",shape:{},buildPath:function(e,t){for(var n in t)if(0===n.indexOf("ends")){var i=t[n];e.moveTo(i[0][0],i[0][1]);e.lineTo(i[1][0],i[1][1])}}});var h=i.prototype;h._createContent=function(e,t,n){var i=e.getItemLayout(t);var s="horizontal"===i.chartLayout?1:0;var c=0;this.add(new d.Polygon({shape:{points:n?a(i.bodyEnds,s,i):i.bodyEnds},style:{strokeNoScale:!0},z2:100}));this.bodyIndex=c++;var h=r.map(i.whiskerEnds,function(e){return n?a(e,s,i):e});this.add(new l({shape:o(h),style:{strokeNoScale:!0},z2:100}));this.whiskerIndex=c++};h.updateData=function(e,t,n){var i=this._seriesModel=e.hostModel;var a=e.getItemLayout(t);var s=d[n?"initProps":"updateProps"];s(this.childAt(this.bodyIndex),{shape:{points:a.bodyEnds}},i,t);s(this.childAt(this.whiskerIndex),{shape:o(a.whiskerEnds)},i,t);this.styleUpdater.call(null,this,e,t)};r.inherits(i,d.Group);var p=s.prototype;p.updateData=function(e){var t=this.group;var n=this._data;var a=this.styleUpdater;e.diff(n).add(function(n){if(e.hasValue(n)){var o=new i(e,n,a,(!0));e.setItemGraphicEl(n,o);t.add(o)}}).update(function(o,s){var r=n.getItemGraphicEl(s);if(e.hasValue(o)){if(!r)r=new i(e,o,a);else r.updateData(e,o);t.add(r);e.setItemGraphicEl(o,r)}else t.remove(r)}).remove(function(e){var i=n.getItemGraphicEl(e);i&&t.remove(i)}).execute();this._data=e};p.remove=function(){var e=this.group;var t=this._data;this._data=null;t&&t.eachItemGraphicEl(function(t){t&&e.remove(t)})};e.exports=s},function(e,t,n){"use strict";function i(e,t,n){var i=t.getItemModel(n);var a=i.getModel(c);var o=t.getItemVisual(n,"color");var r=a.getItemStyle(["borderColor"]);var d=e.childAt(e.whiskerIndex);d.style.set(r);d.style.stroke=o;d.dirty();var h=e.childAt(e.bodyIndex);h.style.set(r);h.style.stroke=o;h.dirty();var p=i.getModel(l).getItemStyle();s.setHoverStyle(e,p)}var a=n(4);var o=n(42);var s=n(43);var r=n(246);var d=o.extend({type:"boxplot",getStyleUpdater:function(){return i}});a.mixin(d,r.viewMixin,!0);var c=["itemStyle","normal"];var l=["itemStyle","emphasis"];e.exports=d},function(e,t){var n=["itemStyle","normal","borderColor"];e.exports=function(e,t){var i=e.get("color");e.eachRawSeriesByType("boxplot",function(t){var a=i[t.seriesIndex%i.length];var o=t.getData();o.setVisual({legendSymbol:"roundRect",color:t.get(n)||a});if(!e.isSeriesFiltered(t))o.each(function(e){var t=o.getItemModel(e);o.setItemVisual(e,{color:t.get(n,!0)})})})}},function(e,t,n){function i(e){var t=[];var n=[];e.eachSeriesByType("boxplot",function(e){var i=e.getBaseAxis();var a=s.indexOf(n,i);if(a<0){a=n.length;n[a]=i;t[a]={axis:i,seriesModels:[]}}t[a].seriesModels.push(e)});return t}function a(e){var t;var n=e.axis;var i=e.seriesModels;var a=i.length;var o=e.boxWidthList=[];var r=e.boxOffsetList=[];var l=[];var h;if("category"===n.type)h=n.getBandWidth();else{var p=0;c(i,function(e){p=Math.max(p,e.getData().count())});t=n.getExtent(),Math.abs(t[1]-t[0])/p}c(i,function(e){var t=e.get("boxWidth");if(!s.isArray(t))t=[t,t];l.push([d(t[0],h)||0,d(t[1],h)||0])});var u=.8*h-2;var f=u/a*.3;var _=(u-f*(a-1))/a;var m=_/2-u/2;c(i,function(e,t){r.push(m);m+=f+_;o.push(Math.min(Math.max(_,l[t][0]),l[t][1]))})}function o(e,t,n){var i=e.coordinateSystem;var a=e.getData();var o=e.dimensions;var s=e.get("layout");var r=n/2;a.each(o,function(){function e(e){var n=[];n[u]=h;n[f]=e;var a;if(isNaN(h)||isNaN(e))a=[NaN,NaN];else{a=i.dataToPoint(n);a[u]+=t}return a}function n(e,t){var n=e.slice();var i=e.slice();n[u]+=r;i[u]-=r;t?x.push(n,i):x.push(i,n)}function d(e){var t=[e.slice(),e.slice()];t[0][u]-=r;t[1][u]+=r;b.push(t)}var c=arguments;var l=o.length;var h=c[0];var p=c[l];var u="horizontal"===s?0:1;var f=1-u;var _=e(c[3]);var m=e(c[1]);var g=e(c[5]);var b=[[m,e(c[2])],[g,e(c[4])]];d(m);d(g);d(_);var x=[];n(b[0][1],0);n(b[1][1],1);a.setItemLayout(p,{chartLayout:s,initBaseline:_[f],median:_,bodyEnds:x,whiskerEnds:b})})}var s=n(4);var r=n(7);var d=r.parsePercent;var c=s.each;e.exports=function(e){var t=i(e);c(t,function(e){var t=e.seriesModels;if(t.length){a(e);c(t,function(t,n){o(t,e.boxOffsetList[n],e.boxWidthList[n])})}})}},function(e,t,n){var i=n(1);n(252);n(253);i.registerPreprocessor(n(254));i.registerVisual(n(255));i.registerLayout(n(256))},function(e,t,n){"use strict";var i=n(4);var a=n(28);var o=n(246);var s=n(6);var r=s.encodeHTML;var d=s.addCommas;var c=a.extend({type:"series.candlestick",dependencies:["xAxis","yAxis","grid"],valueDimensions:["open","close","lowest","highest"],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,itemStyle:{normal:{color:"#c23531",color0:"#314656",borderWidth:1,borderColor:"#c23531",borderColor0:"#314656"},emphasis:{borderWidth:2}},animationUpdate:!1,animationEasing:"linear",animationDuration:300},getShadowDim:function(){return"open"},formatTooltip:function(e,t){var n=i.map(this.valueDimensions,function(t){return t+": "+d(this._data.get(t,e))},this);return r(this.name)+"<br />"+n.join("<br />")},brushSelector:function(e,t){return t.rect(e.brushRect)}});i.mixin(c,o.seriesModelMixin,!0);e.exports=c},function(e,t,n){"use strict";function i(e,t,n){var i=t.getItemModel(n);var a=i.getModel(c);var o=t.getItemVisual(n,"color");var r=t.getItemVisual(n,"borderColor")||o;var d=a.getItemStyle(["color","color0","borderColor","borderColor0"]);var h=e.childAt(e.whiskerIndex);h.useStyle(d);h.style.stroke=r;var p=e.childAt(e.bodyIndex);p.useStyle(d);p.style.fill=o;p.style.stroke=r;var u=i.getModel(l).getItemStyle();s.setHoverStyle(e,u)}var a=n(4);var o=n(42);var s=n(43);var r=n(246);var d=o.extend({type:"candlestick",getStyleUpdater:function(){return i}});a.mixin(d,r.viewMixin,!0);var c=["itemStyle","normal"];var l=["itemStyle","emphasis"];e.exports=d},function(e,t,n){var i=n(4);e.exports=function(e){if(e&&i.isArray(e.series))i.each(e.series,function(e){if(i.isObject(e)&&"k"===e.type)e.type="candlestick"})}},function(e,t){var n=["itemStyle","normal","borderColor"];var i=["itemStyle","normal","borderColor0"];var a=["itemStyle","normal","color"];var o=["itemStyle","normal","color0"];e.exports=function(e,t){e.eachRawSeriesByType("candlestick",function(t){var s=t.getData();s.setVisual({legendSymbol:"roundRect"});if(!e.isSeriesFiltered(t))s.each(function(e){var t=s.getItemModel(e);var r=s.getItemLayout(e).sign;s.setItemVisual(e,{color:t.get(r>0?a:o),borderColor:t.get(r>0?n:i)})})})}},function(e,t){function n(e,t){var n=e.getBaseAxis();var s;var r="category"===n.type?n.getBandWidth():(s=n.getExtent(),Math.abs(s[1]-s[0])/t.count());
return r/2-2>a?r/2-2:r-a>o?a:Math.max(r-o,i)}var i=2;var a=5;var o=4;e.exports=function(e){e.eachSeriesByType("candlestick",function(e){var t=e.coordinateSystem;var i=e.getData();var a=e.dimensions;var o=e.get("layout");var s=n(e,i);i.each(a,function(){function e(e){var n=[];n[p]=l;n[u]=e;return isNaN(l)||isNaN(e)?[NaN,NaN]:t.dataToPoint(n)}function n(e,t){var n=e.slice();var i=e.slice();n[p]+=s/2;i[p]-=s/2;t?$.push(n,i):$.push(i,n)}function r(){var t=e(Math.min(f,_,m,g));var n=e(Math.max(f,_,m,g));t[p]-=s/2;n[p]-=s/2;return{x:t[0],y:t[1],width:u?s:n[0]-t[0],height:u?n[1]-t[1]:s}}var d=arguments;var c=a.length;var l=d[0];var h=d[c];var p="horizontal"===o?0:1;var u=1-p;var f=d[1];var _=d[2];var m=d[3];var g=d[4];var b=Math.min(f,_);var x=Math.max(f,_);var v=e(b);var C=e(x);var w=e(m);var I=e(g);var y=[[I,C],[w,v]];var $=[];n(C,0);n(v,1);i.setItemLayout(h,{chartLayout:o,sign:f>_?-1:f<_?1:0,initBaseline:f>_?C[u]:v[u],bodyEnds:$,whiskerEnds:y,brushRect:r()})},!0)})}},function(e,t,n){var i=n(4);var a=n(1);n(258);n(259);a.registerVisual(i.curry(n(109),"effectScatter","circle",null));a.registerLayout(i.curry(n(110),"effectScatter"))},function(e,t,n){"use strict";var i=n(101);var a=n(28);e.exports=a.extend({type:"series.effectScatter",dependencies:["grid","polar"],getInitialData:function(e,t){var n=i(e.data,this,t);return n},brushSelector:"point",defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,effectType:"ripple",showEffectOn:"render",rippleEffect:{period:4,scale:2.5,brushType:"fill"},symbolSize:10}})},function(e,t,n){var i=n(104);var a=n(260);n(1).extendChartView({type:"effectScatter",init:function(){this._symbolDraw=new i(a)},render:function(e,t,n){var i=e.getData();var a=this._symbolDraw;a.updateData(i);this.group.add(a.group)},updateLayout:function(){this._symbolDraw.updateLayout()},remove:function(e,t){this._symbolDraw&&this._symbolDraw.remove(t)}})},function(e,t,n){function i(e){if(!s.isArray(e))e=[+e,+e];return e}function a(e,t){e.eachChild(function(e){e.attr({z:t.z,zlevel:t.zlevel,style:{stroke:"stroke"===t.brushType?t.color:null,fill:"fill"===t.brushType?t.color:null}})})}function o(e,t){h.call(this);var n=new l(e,t);var i=new h;this.add(n);this.add(i);i.beforeUpdate=function(){this.attr(n.getScale())};this.updateData(e,t)}var s=n(4);var r=n(106);var d=n(43);var c=n(7);var l=n(105);var h=d.Group;var p=3;var u=o.prototype;u.stopEffectAnimation=function(){this.childAt(1).removeAll()};u.startEffectAnimation=function(e){var t=e.symbolType;var n=e.color;var i=this.childAt(1);for(var o=0;o<p;o++){var s=r.createSymbol(t,-.5,-.5,1,1,n);s.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scale:[1,1]});var d=-o/p*e.period+e.effectOffset;s.animate("",!0).when(e.period,{scale:[e.rippleScale,e.rippleScale]}).delay(d).start();s.animateStyle(!0).when(e.period,{opacity:0}).delay(d).start();i.add(s)}a(i,e)};u.updateEffectAnimation=function(e){var t=this._effectCfg;var n=this.childAt(1);var i=["symbolType","period","rippleScale"];for(var o=0;o<i;o++){var s=i[o];if(t[s]!==e[s]){this.stopEffectAnimation();this.startEffectAnimation(e);return}}a(n,e)};u.highlight=function(){this.trigger("emphasis")};u.downplay=function(){this.trigger("normal")};u.updateData=function(e,t){var n=e.hostModel;this.childAt(0).updateData(e,t);var a=this.childAt(1);var o=e.getItemModel(t);var s=e.getItemVisual(t,"symbol");var r=i(e.getItemVisual(t,"symbolSize"));var d=e.getItemVisual(t,"color");a.attr("scale",r);a.traverse(function(e){e.attr({fill:d})});var l=o.getShallow("symbolOffset");if(l){var h=a.position;h[0]=c.parsePercent(l[0],r[0]);h[1]=c.parsePercent(l[1],r[1])}a.rotation=(o.getShallow("symbolRotate")||0)*Math.PI/180||0;var p={};p.showEffectOn=n.get("showEffectOn");p.rippleScale=o.get("rippleEffect.scale");p.brushType=o.get("rippleEffect.brushType");p.period=1e3*o.get("rippleEffect.period");p.effectOffset=t/e.count();p.z=o.getShallow("z")||0;p.zlevel=o.getShallow("zlevel")||0;p.symbolType=s;p.color=d;this.off("mouseover").off("mouseout").off("emphasis").off("normal");if("render"===p.showEffectOn){this._effectCfg?this.updateEffectAnimation(p):this.startEffectAnimation(p);this._effectCfg=p}else{this._effectCfg=null;this.stopEffectAnimation();var u=this.childAt(0);var f=function(){u.trigger("emphasis");if("render"!==p.showEffectOn)this.startEffectAnimation(p)};var _=function(){u.trigger("normal");if("render"!==p.showEffectOn)this.stopEffectAnimation()};this.on("mouseover",f,this).on("mouseout",_,this).on("emphasis",f,this).on("normal",_,this)}this._effectCfg=p};u.fadeOut=function(e){this.off("mouseover").off("mouseout").off("emphasis").off("normal");e&&e()};s.inherits(o,h);e.exports=o},function(e,t,n){n(262);n(263);var i=n(1);i.registerLayout(n(268))},function(e,t,n){"use strict";function i(e){var t=e.data;if(t&&t[0]&&t[0][0]&&t[0][0].coord){if(!0)console.warn("Lines data configuration has been changed to { coords:[[1,2],[2,3]] }");e.data=s.map(t,function(e){var t=[e[0].coord,e[1].coord];var n={coords:t};if(e[0].name)n.fromName=e[0].name;if(e[1].name)n.toName=e[1].name;return s.mergeAll([n,e[0],e[1]])})}}var a=n(28);var o=n(97);var s=n(4);var r=n(26);var d=a.extend({type:"series.lines",dependencies:["grid","polar"],visualColorAccessPath:"lineStyle.normal.color",init:function(e){i(e);d.superApply(this,"init",arguments)},mergeOption:function(e){i(e);d.superApply(this,"mergeOption",arguments)},getInitialData:function(e,t){if(!0){var n=r.get(e.coordinateSystem);if(!n)throw new Error("Unkown coordinate system "+e.coordinateSystem)}var i=new o(["value"],this);i.hasItemOption=!1;i.initData(e.data,[],function(e,t,n,a){if(e instanceof Array)return NaN;else{i.hasItemOption=!0;var o=e.value;if(o)return o instanceof Array?o[a]:o}});return i},formatTooltip:function(e){var t=this.getData();var n=t.getItemModel(e);var i=n.get("name");if(i)return i;var a=n.get("fromName");var o=n.get("toName");return a+" > "+o},defaultOption:{coordinateSystem:"geo",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,label:{normal:{show:!1,position:"end"}},lineStyle:{normal:{opacity:.5}}}})},function(e,t,n){var i=n(199);var a=n(264);var o=n(200);var s=n(265);var r=n(266);var d=n(267);n(1).extendChartView({type:"lines",init:function(){},render:function(e,t,n){var c=e.getData();var l=this._lineDraw;var h=e.get("effect.show");var p=e.get("polyline");var u=e.get("large")&&c.count()>=e.get("largeThreshold");if(!0)if(h&&u)console.warn("Large lines not support effect");if(h!==this._hasEffet||p!==this._isPolyline||u!==this._isLarge){if(l)l.remove();l=this._lineDraw=u?new d:new i(p?h?r:s:h?a:o);this._hasEffet=h;this._isPolyline=p;this._isLarge=u}var f=e.get("zlevel");var _=e.get("effect.trailLength");var m=n.getZr();m.painter.getLayer(f).clear(!0);if(null!=this._lastZlevel)m.configLayer(this._lastZlevel,{motionBlur:!1});if(h&&_){if(!0){var g=!1;t.eachSeries(function(t){if(t!==e&&t.get("zlevel")===f)g=!0});g&&console.warn("Lines with trail effect should have an individual zlevel")}m.configLayer(f,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(_/10+.9,1),0)})}this.group.add(l.group);l.updateData(c);this._lastZlevel=f},updateLayout:function(e,t,n){this._lineDraw.updateLayout(e);var i=n.getZr();i.painter.getLayer(this._lastZlevel).clear(!0)},remove:function(e,t){this._lineDraw&&this._lineDraw.remove(t,!0)}})},function(e,t,n){function i(e,t,n){a.Group.call(this);this.add(this.createLine(e,t,n));this._updateEffectSymbol(e,t)}var a=n(43);var o=n(200);var s=n(4);var r=n(106);var d=n(10);var c=n(50);var l=i.prototype;l.createLine=function(e,t,n){return new o(e,t,n)};l._updateEffectSymbol=function(e,t){var n=e.getItemModel(t);var i=n.getModel("effect");var a=i.get("symbolSize");var o=i.get("symbol");if(!s.isArray(a))a=[a,a];var d=i.get("color")||e.getItemVisual(t,"color");var c=this.childAt(1);if(this._symbolType!==o){this.remove(c);c=r.createSymbol(o,-.5,-.5,1,1,d);c.z2=100;c.culling=!0;this.add(c)}if(c){c.setStyle("shadowColor",d);c.setStyle(i.getItemStyle(["color"]));c.attr("scale",a);c.setColor(d);c.attr("scale",a);this._symbolType=o;this._updateEffectAnimation(e,i,t)}};l._updateEffectAnimation=function(e,t,n){var i=this.childAt(1);if(i){var a=this;var o=e.getItemLayout(n);var s=1e3*t.get("period");var r=t.get("loop");var d=t.get("constantSpeed");var c=t.get("delay")||function(t){return t/e.count()*s/3};var l="function"==typeof c;i.ignore=!0;this.updateAnimationPoints(i,o);if(d>0)s=this.getLineLength(i)/d*1e3;if(s!==this._period||r!==this._loop){i.stopAnimation();var h=c;if(l)h=c(n);if(i.__t>0)h=-s*i.__t;i.__t=0;var p=i.animate("",r).when(s,{__t:1}).delay(h).during(function(){a.updateSymbolPosition(i)});if(!r)p.done(function(){a.remove(i)});p.start()}this._period=s;this._loop=r}};l.getLineLength=function(e){return d.dist(e.__p1,e.__cp1)+d.dist(e.__cp1,e.__p2)};l.updateAnimationPoints=function(e,t){e.__p1=t[0];e.__p2=t[1];e.__cp1=t[2]||[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]};l.updateData=function(e,t,n){this.childAt(0).updateData(e,t,n);this._updateEffectSymbol(e,t)};l.updateSymbolPosition=function(e){var t=e.__p1;var n=e.__p2;var i=e.__cp1;var a=e.__t;var o=e.position;var s=c.quadraticAt;var r=c.quadraticDerivativeAt;o[0]=s(t[0],i[0],n[0],a);o[1]=s(t[1],i[1],n[1],a);var d=r(t[0],i[0],n[0],a);var l=r(t[1],i[1],n[1],a);e.rotation=-Math.atan2(l,d)-Math.PI/2;e.ignore=!1};l.updateLayout=function(e,t){this.childAt(0).updateLayout(e,t);var n=e.getItemModel(t).getModel("effect");this._updateEffectAnimation(e,n,t)};s.inherits(i,a.Group);e.exports=i},function(e,t,n){function i(e,t,n){a.Group.call(this);this._createPolyline(e,t,n)}var a=n(43);var o=n(4);var s=i.prototype;s._createPolyline=function(e,t,n){var i=e.getItemLayout(t);var o=new a.Polyline({shape:{points:i}});this.add(o);this._updateCommonStl(e,t,n)};s.updateData=function(e,t,n){var i=e.hostModel;var o=this.childAt(0);var s={shape:{points:e.getItemLayout(t)
}};a.updateProps(o,s,i,t);this._updateCommonStl(e,t,n)};s._updateCommonStl=function(e,t,n){var i=this.childAt(0);var s=e.getItemModel(t);var r=e.getItemVisual(t,"color");var d=n&&n.lineStyle;var c=n&&n.hoverLineStyle;if(!n||e.hasItemOption){d=s.getModel("lineStyle.normal").getLineStyle();c=s.getModel("lineStyle.emphasis").getLineStyle()}i.useStyle(o.defaults({strokeNoScale:!0,fill:"none",stroke:r},d));i.hoverStyle=c;a.setHoverStyle(this)};s.updateLayout=function(e,t){var n=this.childAt(0);n.setShape("points",e.getItemLayout(t))};o.inherits(i,a.Group);e.exports=i},function(e,t,n){function i(e,t,n){s.call(this,e,t,n);this._lastFrame=0;this._lastFramePercent=0}var a=n(265);var o=n(4);var s=n(264);var r=n(10);var d=i.prototype;d.createLine=function(e,t,n){return new a(e,t,n)};d.updateAnimationPoints=function(e,t){this._points=t;var n=[0];var i=0;for(var a=1;a<t.length;a++){var o=t[a-1];var s=t[a];i+=r.dist(o,s);n.push(i)}if(0!==i){for(var a=0;a<n.length;a++)n[a]/=i;this._offsets=n;this._length=i}};d.getLineLength=function(e){return this._length};d.updateSymbolPosition=function(e){var t=e.__t;var n=this._points;var i=this._offsets;var a=n.length;if(i){var o=this._lastFrame;var s;if(t<this._lastFramePercent){var d=Math.min(o+1,a-1);for(s=d;s>=0&&!(i[s]<=t);s--);s=Math.min(s,a-2)}else{for(var s=o;s<a&&!(i[s]>t);s++);s=Math.min(s-1,a-2)}r.lerp(e.position,n[s],n[s+1],(t-i[s])/(i[s+1]-i[s]));this._lastFrame=s;this._lastFramePercent=t;e.ignore=!1}};o.inherits(i,s);e.exports=i},function(e,t,n){function i(){this.group=new a.Group;this._lineEl=new r}var a=n(43);var o=n(55);var s=n(53);var r=a.extendShape({shape:{polyline:!1,segs:[]},buildPath:function(e,t){var n=t.segs;var i=t.polyline;for(var a=0;a<n.length;a++){var o=n[a];if(i){e.moveTo(o[0][0],o[0][1]);for(var s=1;s<o.length;s++)e.lineTo(o[s][0],o[s][1])}else{e.moveTo(o[0][0],o[0][1]);if(o.length>2)e.quadraticCurveTo(o[2][0],o[2][1],o[1][0],o[1][1]);else e.lineTo(o[1][0],o[1][1])}}},findDataIndex:function(e,t){var n=this.shape;var i=n.segs;var a=n.polyline;var r=Math.max(this.style.lineWidth,1);for(var d=0;d<i.length;d++){var c=i[d];if(a){for(var l=1;l<c.length;l++)if(s.containStroke(c[l-1][0],c[l-1][1],c[l][0],c[l][1],r,e,t))return d}else if(c.length>2){if(o.containStroke(c[0][0],c[0][1],c[2][0],c[2][1],c[1][0],c[1][1],r,e,t))return d}else if(s.containStroke(c[0][0],c[0][1],c[1][0],c[1][1],r,e,t))return d}return-1}});var d=i.prototype;d.updateData=function(e){this.group.removeAll();var t=this._lineEl;var n=e.hostModel;t.setShape({segs:e.mapArray(e.getItemLayout),polyline:n.get("polyline")});t.useStyle(n.getModel("lineStyle.normal").getLineStyle());var i=e.getVisual("color");if(i)t.setStyle("stroke",i);t.setStyle("fill");t.seriesIndex=n.seriesIndex;t.on("mousemove",function(e){t.dataIndex=null;var n=t.findDataIndex(e.offsetX,e.offsetY);if(n>0)t.dataIndex=n});this.group.add(t)};d.updateLayout=function(e){var t=e.getData();this._lineEl.setShape({segs:t.mapArray(t.getItemLayout)})};d.remove=function(){this.group.removeAll()};e.exports=i},function(e,t,n){e.exports=function(e){e.eachSeriesByType("lines",function(e){var t=e.coordinateSystem;var n=e.getData();n.each(function(i){var a=n.getItemModel(i);var o=a.option instanceof Array?a.option:a.get("coords");if(!0)if(!(o instanceof Array&&o.length>0&&o[0]instanceof Array))throw new Error("Invalid coords "+JSON.stringify(o)+". Lines must have 2d coords array in data item.");var s=[];if(e.get("polyline"))for(var r=0;r<o.length;r++)s.push(t.dataToPoint(o[r]));else{s[0]=t.dataToPoint(o[0]);s[1]=t.dataToPoint(o[1]);var d=a.get("lineStyle.normal.curveness");if(+d)s[2]=[(s[0][0]+s[1][0])/2-(s[0][1]-s[1][1])*d,(s[0][1]+s[1][1])/2-(s[1][0]-s[0][0])*d]}n.setItemLayout(i,s)})})}},function(e,t,n){n(270);n(271)},function(e,t,n){var i=n(28);var a=n(101);e.exports=i.extend({type:"series.heatmap",getInitialData:function(e,t){return a(e.data,this,t)},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0}})},function(e,t,n){function i(e,t,n){var i=e[1]-e[0];t=d.map(t,function(t){return{interval:[(t.interval[0]-e[0])/i,(t.interval[1]-e[0])/i]}});var a=t.length;var o=0;return function(e){for(var i=o;i<a;i++){var s=t[i].interval;if(s[0]<=e&&e<=s[1]){o=i;break}}if(i===a)for(var i=o-1;i>=0;i--){var s=t[i].interval;if(s[0]<=e&&e<=s[1]){o=i;break}}return i>=0&&i<a&&n[i]}}function a(e,t){var n=e[1]-e[0];t=[(t[0]-e[0])/n,(t[1]-e[0])/n];return function(e){return e>=t[0]&&e<=t[1]}}function o(e){var t=e.dimensions;return"lng"===t[0]&&"lat"===t[1]}var s=n(43);var r=n(272);var d=n(4);e.exports=n(1).extendChartView({type:"heatmap",render:function(e,t,n){var i;t.eachComponent("visualMap",function(t){t.eachTargetSeries(function(n){if(n===e)i=t})});if(!0)if(!i)throw new Error("Heatmap must use with visualMap");this.group.removeAll();var a=e.coordinateSystem;if("cartesian2d"===a.type)this._renderOnCartesian(a,e,n);else if(o(a))this._renderOnGeo(a,e,i,n)},_renderOnCartesian:function(e,t,n){var i=e.getAxis("x");var a=e.getAxis("y");var o=this.group;if(!0){if("category"!==i.type||"category"!==a.type)throw new Error("Heatmap on cartesian must have two category axes");if(!i.onBand||!a.onBand)throw new Error("Heatmap on cartesian must have two axes with boundaryGap true")}var r=i.getBandWidth();var c=a.getBandWidth();var l=t.getData();var h="itemStyle.normal";var p="itemStyle.emphasis";var u="label.normal";var f="label.emphasis";var _=t.getModel(h).getItemStyle(["color"]);var m=t.getModel(p).getItemStyle();var g=t.getModel("label.normal");var b=t.getModel("label.emphasis");l.each(["x","y","z"],function(n,i,a,x){var v=l.getItemModel(x);var C=e.dataToPoint([n,i]);if(!isNaN(a)){var w=new s.Rect({shape:{x:C[0]-r/2,y:C[1]-c/2,width:r,height:c},style:{fill:l.getItemVisual(x,"color"),opacity:l.getItemVisual(x,"opacity")}});if(l.hasItemOption){_=v.getModel(h).getItemStyle(["color"]);m=v.getModel(p).getItemStyle();g=v.getModel(u);b=v.getModel(f)}var I=t.getRawValue(x);var y="-";if(I&&null!=I[2])y=I[2];if(g.getShallow("show")){s.setText(_,g);_.text=t.getFormattedLabel(x,"normal")||y}if(b.getShallow("show")){s.setText(m,b);m.text=t.getFormattedLabel(x,"emphasis")||y}w.setStyle(_);s.setHoverStyle(w,l.hasItemOption?m:d.extend({},m));o.add(w);l.setItemGraphicEl(x,w)}})},_renderOnGeo:function(e,t,n,o){var d=n.targetVisuals.inRange;var c=n.targetVisuals.outOfRange;var l=t.getData();var h=this._hmLayer||this._hmLayer||new r;h.blurSize=t.get("blurSize");h.pointSize=t.get("pointSize");h.minOpacity=t.get("minOpacity");h.maxOpacity=t.get("maxOpacity");var p=e.getViewRect().clone();var u=e.getRoamTransform().transform;p.applyTransform(u);var f=Math.max(p.x,0);var _=Math.max(p.y,0);var m=Math.min(p.width+p.x,o.getWidth());var g=Math.min(p.height+p.y,o.getHeight());var b=m-f;var x=g-_;var v=l.mapArray(["lng","lat","value"],function(t,n,i){var a=e.dataToPoint([t,n]);a[0]-=f;a[1]-=_;a.push(i);return a});var C=n.getExtent();var w="visualMap.continuous"===n.type?a(C,n.option.range):i(C,n.getPieceList(),n.option.selected);h.update(v,b,x,d.color.getNormalizer(),{inRange:d.color.getColorMapper(),outOfRange:c.color.getColorMapper()},w);var I=new s.Image({style:{width:b,height:x,x:f,y:_,image:h.canvas},silent:!0});this.group.add(I)}})},function(e,t,n){function i(){var e=o.createCanvas();this.canvas=e;this.blurSize=30;this.pointSize=20;this.maxOpacity=1;this.minOpacity=0;this._gradientPixels={}}var a=256;var o=n(4);i.prototype={update:function(e,t,n,i,o,s){var r=this._getBrush();var d=this._getGradient(e,o,"inRange");var c=this._getGradient(e,o,"outOfRange");var l=this.pointSize+this.blurSize;var h=this.canvas;var p=h.getContext("2d");var u=e.length;h.width=t;h.height=n;for(var f=0;f<u;++f){var _=e[f];var m=_[0];var g=_[1];var b=_[2];var x=i(b);p.globalAlpha=x;p.drawImage(r,m-l,g-l)}var v=p.getImageData(0,0,h.width,h.height);var C=v.data;var w=0;var I=C.length;var y=this.minOpacity;var $=this.maxOpacity;var A=$-y;for(;w<I;){var x=C[w+3]/256;var E=4*Math.floor(x*(a-1));if(x>0){var T=s(x)?d:c;x>0&&(x=x*A+y);C[w++]=T[E];C[w++]=T[E+1];C[w++]=T[E+2];C[w++]=T[E+3]*x*256}else w+=4}p.putImageData(v,0,0);return h},_getBrush:function(){var e=this._brushCanvas||(this._brushCanvas=o.createCanvas());var t=this.pointSize+this.blurSize;var n=2*t;e.width=n;e.height=n;var i=e.getContext("2d");i.clearRect(0,0,n,n);i.shadowOffsetX=n;i.shadowBlur=this.blurSize;i.shadowColor="#000";i.beginPath();i.arc(-t,t,this.pointSize,0,2*Math.PI,!0);i.closePath();i.fill();return e},_getGradient:function(e,t,n){var i=this._gradientPixels;var a=i[n]||(i[n]=new Uint8ClampedArray(1024));var o=[];var s=0;for(var r=0;r<256;r++){t[n](r/255,!0,o);a[s++]=o[0];a[s++]=o[1];a[s++]=o[2];a[s++]=o[3]}return a}};e.exports=i},function(e,t,n){n(274);n(275);n(276);var i=n(1);i.registerProcessor(n(278))},function(e,t,n){"use strict";var i=n(4);var a=n(12);var o=n(1).extendComponentModel({type:"legend",dependencies:["series"],layoutMode:{type:"box",ignoreSize:!0},init:function(e,t,n){this.mergeDefaultAndTheme(e,n);e.selected=e.selected||{}},mergeOption:function(e){o.superCall(this,"mergeOption",e)},optionUpdated:function(){this._updateData(this.ecModel);var e=this._data;if(e[0]&&"single"===this.get("selectedMode")){var t=!1;for(var n=0;n<e.length;n++){var i=e[n].get("name");if(this.isSelected(i)){this.select(i);t=!0;break}}!t&&this.select(e[0].get("name"))}},_updateData:function(e){var t=i.map(this.get("data")||[],function(e){if("string"==typeof e||"number"==typeof e)e={name:e};return new a(e,this,this.ecModel)},this);this._data=t;var n=i.map(e.getSeries(),function(e){return e.name});e.eachSeries(function(e){if(e.legendDataProvider){var t=e.legendDataProvider();n=n.concat(t.mapArray(t.getName))}});this._availableNames=n},getData:function(){return this._data},select:function(e){var t=this.option.selected;var n=this.get("selectedMode");if("single"===n){var a=this._data;i.each(a,function(e){t[e.get("name")]=!1})}t[e]=!0},unSelect:function(e){if("single"!==this.get("selectedMode"))this.option.selected[e]=!1;
},toggleSelected:function(e){var t=this.option.selected;if(!(e in t))t[e]=!0;this[t[e]?"unSelect":"select"](e)},isSelected:function(e){var t=this.option.selected;return!(e in t&&!t[e])&&i.indexOf(this._availableNames,e)>=0},defaultOption:{zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:"top",align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:"#ccc",textStyle:{color:"#333"},selectedMode:!0,tooltip:{show:!1}}});e.exports=o},function(e,t,n){function i(e,t,n){var i={};var a="toggleSelected"===e;var s;n.eachComponent("legend",function(n){if(a&&null!=s)n[s?"select":"unSelect"](t.name);else{n[e](t.name);s=n.isSelected(t.name)}var r=n.getData();o.each(r,function(e){var t=e.get("name");if("\n"!==t&&""!==t){var a=n.isSelected(t);if(t in i)i[t]=i[t]&&a;else i[t]=a}})});return{name:t.name,selected:i}}var a=n(1);var o=n(4);a.registerAction("legendToggleSelect","legendselectchanged",o.curry(i,"toggleSelected"));a.registerAction("legendSelect","legendselected",o.curry(i,"select"));a.registerAction("legendUnSelect","legendunselected",o.curry(i,"unSelect"))},function(e,t,n){function i(e,t){t.dispatchAction({type:"legendToggleSelect",name:e})}function a(e,t,n){var i=n.getZr().storage.getDisplayList()[0];if(!i||!i.useHoverLayer)e.get("legendHoverLink")&&n.dispatchAction({type:"highlight",seriesName:e.name,name:t})}function o(e,t,n){var i=n.getZr().storage.getDisplayList()[0];if(!i||!i.useHoverLayer)e.get("legendHoverLink")&&n.dispatchAction({type:"downplay",seriesName:e.name,name:t})}var s=n(4);var r=n(106);var d=n(43);var c=n(277);var l=s.curry;e.exports=n(1).extendComponentView({type:"legend",init:function(){this._symbolTypeStore={}},render:function(e,t,n){var r=this.group;r.removeAll();if(e.get("show")){var h=e.get("selectedMode");var p=e.get("align");if("auto"===p)p="right"===e.get("left")&&"vertical"===e.get("orient")?"right":"left";var u={};s.each(e.getData(),function(s){var c=s.get("name");if(""!==c&&"\n"!==c){var f=t.getSeriesByName(c)[0];if(!u[c]){if(f){var _=f.getData();var m=_.getVisual("color");if("function"==typeof m)m=m(f.getDataParams(0));var g=_.getVisual("legendSymbol")||"roundRect";var b=_.getVisual("symbol");var x=this._createItem(c,s,e,g,b,p,m,h);x.on("click",l(i,c,n)).on("mouseover",l(a,f,"",n)).on("mouseout",l(o,f,"",n));u[c]=!0}else t.eachRawSeries(function(t){if(!u[c])if(t.legendDataProvider){var r=t.legendDataProvider();var d=r.indexOfName(c);if(d<0)return;var f=r.getItemVisual(d,"color");var _="roundRect";var m=this._createItem(c,s,e,_,null,p,f,h);m.on("click",l(i,c,n)).on("mouseover",l(a,t,c,n)).on("mouseout",l(o,t,c,n));u[c]=!0}},this);if(!0)if(!u[c])console.warn(c+" series not exists. Legend data should be same with series name or data name.")}}else r.add(new d.Group({newline:!0}))},this);c.layout(r,e,n);c.addBackground(r,e)}},_createItem:function(e,t,n,i,a,o,c,l){var h=n.get("itemWidth");var p=n.get("itemHeight");var u=n.get("inactiveColor");var f=n.isSelected(e);var _=new d.Group;var m=t.getModel("textStyle");var g=t.get("icon");var b=t.getModel("tooltip");i=g||i;_.add(r.createSymbol(i,0,0,h,p,f?c:u));if(!g&&a&&(a!==i||"none"==a)){var x=.8*p;if("none"===a)a="circle";_.add(r.createSymbol(a,(h-x)/2,(p-x)/2,x,x,f?c:u))}var v="left"===o?h+5:-5;var C=o;var w=n.get("formatter");var I=e;if("string"==typeof w&&w)I=w.replace("{name}",e);else if("function"==typeof w)I=w(e);var y=new d.Text({style:{text:I,x:v,y:p/2,fill:f?m.getTextColor():u,textFont:m.getFont(),textAlign:C,textVerticalAlign:"middle"}});_.add(y);var $=new d.Rect({shape:_.getBoundingRect(),invisible:!0,tooltip:b.get("show")?s.extend({content:e,formatter:function(){return e},formatterParams:{componentType:"legend",legendIndex:n.componentIndex,name:e,$vars:["name"]}},b.option):null});_.add($);_.eachChild(function(e){e.silent=!0});$.silent=!l;this.group.add(_);d.setHoverStyle(_);return _}})},function(e,t,n){function i(e,t,n){a.positionGroup(e,t.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()},t.get("padding"))}var a=n(21);var o=n(6);var s=n(43);e.exports={layout:function(e,t,n){var o=a.getLayoutRect(t.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()},t.get("padding"));a.box(t.get("orient"),e,t.get("itemGap"),o.width,o.height);i(e,t,n)},addBackground:function(e,t){var n=o.normalizeCssArray(t.get("padding"));var i=e.getBoundingRect();var a=t.getItemStyle(["color","opacity"]);a.fill=t.get("backgroundColor");var r=new s.Rect({shape:{x:i.x-n[3],y:i.y-n[0],width:i.width+n[1]+n[3],height:i.height+n[0]+n[2]},style:a,silent:!0,z2:-1});s.subPixelOptimizeRect(r);e.add(r)}}},function(e,t){e.exports=function(e){var t=e.findComponents({mainType:"legend"});if(t&&t.length)e.filterSeries(function(e){for(var n=0;n<t.length;n++)if(!t[n].isSelected(e.name))return!1;return!0})}},function(e,t,n){n(280);n(281);n(1).registerAction({type:"showTip",event:"showTip",update:"none"},function(){});n(1).registerAction({type:"hideTip",event:"hideTip",update:"none"},function(){})},function(e,t,n){n(1).extendComponentModel({type:"tooltip",defaultOption:{zlevel:0,z:8,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove",alwaysShowContent:!1,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:!0,animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",lineStyle:{color:"#555",width:1,type:"solid"},crossStyle:{color:"#555",width:1,type:"dashed",textStyle:{}},shadowStyle:{color:"rgba(150,150,150,0.3)"}},textStyle:{color:"#fff",fontSize:14}}})},function(e,t,n){function i(e,t){if(!e||!t)return!1;var n=_.round;return n(e[0])===n(t[0])&&n(e[1])===n(t[1])}function a(e,t,n,i){return{x1:e,y1:t,x2:n,y2:i}}function o(e,t,n,i){return{x:e,y:t,width:n,height:i}}function s(e,t,n,i,a,o){return{cx:e,cy:t,r0:n,r:i,startAngle:a,endAngle:o,clockwise:!0}}function r(e,t,n,i,a){var o=n.clientWidth;var s=n.clientHeight;var r=20;if(e+o+r>i)e-=o+r;else e+=r;if(t+s+r>a)t-=s+r;else t+=r;return[e,t]}function d(e,t,n){var i=n.clientWidth;var a=n.clientHeight;var o=5;var s=0;var r=0;var d=t.width;var c=t.height;switch(e){case"inside":s=t.x+d/2-i/2;r=t.y+c/2-a/2;break;case"top":s=t.x+d/2-i/2;r=t.y-a-o;break;case"bottom":s=t.x+d/2-i/2;r=t.y+c+o;break;case"left":s=t.x-i-o;r=t.y+c/2-a/2;break;case"right":s=t.x+d+o;r=t.y+c/2-a/2}return[s,r]}function c(e,t,n,i,a,o,s){var c=s.getWidth();var l=s.getHeight();var h=o&&o.getBoundingRect().clone();o&&h.applyTransform(o.transform);if("function"==typeof e)e=e([t,n],a,i.el,h);if(u.isArray(e)){t=m(e[0],c);n=m(e[1],l)}else if("string"==typeof e&&o){var p=d(e,h,i.el);t=p[0];n=p[1]}else{var p=r(t,n,i.el,c,l);t=p[0];n=p[1]}i.moveTo(t,n)}function l(e){var t=e.coordinateSystem;var n=e.get("tooltip.trigger",!0);return!(!t||"cartesian2d"!==t.type&&"polar"!==t.type&&"singleAxis"!==t.type||"item"===n)}var h=n(282);var p=n(43);var u=n(4);var f=n(6);var _=n(7);var m=_.parsePercent;var g=n(2);var b=n(12);n(1).extendComponentView({type:"tooltip",_axisPointers:{},init:function(e,t){if(!g.node){var n=new h(t.getDom(),t);this._tooltipContent=n;t.on("showTip",this._manuallyShowTip,this);t.on("hideTip",this._manuallyHideTip,this)}},render:function(e,t,n){if(!g.node){this.group.removeAll();this._axisPointers={};this._tooltipModel=e;this._ecModel=t;this._api=n;this._lastHover={};var i=this._tooltipContent;i.update();i.enterable=e.get("enterable");this._alwaysShowContent=e.get("alwaysShowContent");this._seriesGroupByAxis=this._prepareAxisTriggerData(e,t);var a=this._crossText;if(a)this.group.add(a);if(null!=this._lastX&&null!=this._lastY){var o=this;clearTimeout(this._refreshUpdateTimeout);this._refreshUpdateTimeout=setTimeout(function(){o._manuallyShowTip({x:o._lastX,y:o._lastY})})}var s=this._api.getZr();s.off("click",this._tryShow);s.off("mousemove",this._mousemove);s.off("mouseout",this._hide);s.off("globalout",this._hide);if("click"===e.get("triggerOn"))s.on("click",this._tryShow,this);else{s.on("mousemove",this._mousemove,this);s.on("mouseout",this._hide,this);s.on("globalout",this._hide,this)}}},_mousemove:function(e){var t=this._tooltipModel.get("showDelay");var n=this;clearTimeout(this._showTimeout);if(t>0)this._showTimeout=setTimeout(function(){n._tryShow(e)},t);else this._tryShow(e)},_manuallyShowTip:function(e){if(e.from!==this.uid){var t=this._ecModel;var n=e.seriesIndex;var i=e.dataIndex;var a=t.getSeriesByIndex(n);var o=this._api;if(null==e.x||null==e.y){if(!a)t.eachSeries(function(e){if(l(e)&&!a)a=e});if(a){var s=a.getData();if(null==i)i=s.indexOfName(e.name);var r=s.getItemGraphicEl(i);var d,c;var h=a.coordinateSystem;if(h&&h.dataToPoint){var p=h.dataToPoint(s.getValues(u.map(h.dimensions,function(e){return a.coordDimToDataDim(e)[0]}),i,!0));d=p&&p[0];c=p&&p[1]}else if(r){var f=r.getBoundingRect().clone();f.applyTransform(r.transform);d=f.x+f.width/2;c=f.y+f.height/2}if(null!=d&&null!=c)this._tryShow({offsetX:d,offsetY:c,target:r,event:{}})}}else{var r=o.getZr().handler.findHover(e.x,e.y);this._tryShow({offsetX:e.x,offsetY:e.y,target:r,event:{}})}}},_manuallyHideTip:function(e){if(e.from!==this.uid)this._hide()},_prepareAxisTriggerData:function(e,t){var n={};t.eachSeries(function(e){if(l(e)){var t=e.coordinateSystem;var i;var a;if("cartesian2d"===t.type){i=t.getBaseAxis();a=i.dim+i.index}else if("singleAxis"===t.type){i=t.getAxis();a=i.dim+i.type}else{i=t.getBaseAxis();a=i.dim+t.name}n[a]=n[a]||{coordSys:[],series:[]};n[a].coordSys.push(t);n[a].series.push(e)}},this);return n},_tryShow:function(e){var t=e.target;var n=this._tooltipModel;var i=n.get("trigger");var a=this._ecModel;var o=this._api;if(n){this._lastX=e.offsetX;this._lastY=e.offsetY;if(t&&null!=t.dataIndex){var s=t.dataModel||a.getSeriesByIndex(t.seriesIndex);var r=t.dataIndex;var d=s.getData().getItemModel(r);if("axis"===(d.get("tooltip.trigger")||i))this._showAxisTooltip(n,a,e);else{this._ticket="";this._hideAxisPointer();
this._resetLastHover();this._showItemTooltipContent(s,r,t.dataType,e)}o.dispatchAction({type:"showTip",from:this.uid,dataIndex:t.dataIndex,seriesIndex:t.seriesIndex})}else if(t&&t.tooltip){var c=t.tooltip;if("string"==typeof c){var l=c;c={content:l,formatter:l}}var h=new b(c,n);var p=h.get("content");var u=Math.random();this._showTooltipContent(h,p,h.get("formatterParams")||{},u,e.offsetX,e.offsetY,t,o)}else{if("item"===i)this._hide();else this._showAxisTooltip(n,a,e);if("cross"===n.get("axisPointer.type"))o.dispatchAction({type:"showTip",from:this.uid,x:e.offsetX,y:e.offsetY})}}},_showAxisTooltip:function(e,t,n){var a=e.getModel("axisPointer");var o=a.get("type");if("cross"===o){var s=n.target;if(s&&null!=s.dataIndex){var r=t.getSeriesByIndex(s.seriesIndex);var d=s.dataIndex;this._showItemTooltipContent(r,d,s.dataType,n)}}this._showAxisPointer();var c=!0;u.each(this._seriesGroupByAxis,function(e){var t=e.coordSys;var s=t[0];var r=[n.offsetX,n.offsetY];if(s.containPoint(r)){c=!1;var d=s.dimensions;var l=s.pointToData(r,!0);r=s.dataToPoint(l);var h=s.getBaseAxis();var p=a.get("axis");if("auto"===p)p=h.dim;var f=!1;var _=this._lastHover;if("cross"===o){if(i(_.data,l))f=!0;_.data=l}else{var m=u.indexOf(d,p);if(_.data===l[m])f=!0;_.data=l[m]}if("cartesian2d"===s.type&&!f)this._showCartesianPointer(a,s,p,r);else if("polar"===s.type&&!f)this._showPolarPointer(a,s,p,r);else if("singleAxis"===s.type&&!f)this._showSinglePointer(a,s,p,r);if("cross"!==o)this._dispatchAndShowSeriesTooltipContent(s,e.series,r,l,f)}else this._hideAxisPointer(s.name)},this);if(!this._tooltipModel.get("show"))this._hideAxisPointer();if(c)this._hide()},_showCartesianPointer:function(e,t,n,i){function s(n,i,o){var s="x"===n?a(i[0],o[0],i[0],o[1]):a(o[0],i[1],o[1],i[1]);var r=d._getPointerElement(t,e,n,s);p.subPixelOptimizeLine({shape:s,style:r.style});h?p.updateProps(r,{shape:s},e):r.attr({shape:s})}function r(n,i,a){var s=t.getAxis(n);var r=s.getBandWidth();var c=a[1]-a[0];var l="x"===n?o(i[0]-r/2,a[0],r,c):o(a[0],i[1]-r/2,c,r);var u=d._getPointerElement(t,e,n,l);h?p.updateProps(u,{shape:l},e):u.attr({shape:l})}var d=this;var c=e.get("type");var l=t.getBaseAxis();var h="cross"!==c&&"category"===l.type&&l.getBandWidth()>20;if("cross"===c){s("x",i,t.getAxis("y").getGlobalExtent());s("y",i,t.getAxis("x").getGlobalExtent());this._updateCrossText(t,i,e)}else{var u=t.getAxis("x"===n?"y":"x");var f=u.getGlobalExtent();if("cartesian2d"===t.type)("line"===c?s:r)(n,i,f)}},_showSinglePointer:function(e,t,n,i){function o(n,i,o){var r=t.getAxis();var c=r.orient;var l="horizontal"===c?a(i[0],o[0],i[0],o[1]):a(o[0],i[1],o[1],i[1]);var h=s._getPointerElement(t,e,n,l);d?p.updateProps(h,{shape:l},e):h.attr({shape:l})}var s=this;var r=e.get("type");var d="cross"!==r&&"category"===t.getBaseAxis().type;var c=t.getRect();var l=[c.y,c.y+c.height];o(n,i,l)},_showPolarPointer:function(e,t,n,i){function o(n,i,o){var s=t.pointToCoord(i);var r;if("angle"===n){var c=t.coordToPoint([o[0],s[1]]);var l=t.coordToPoint([o[1],s[1]]);r=a(c[0],c[1],l[0],l[1])}else r={cx:t.cx,cy:t.cy,r:s[0]};var h=d._getPointerElement(t,e,n,r);u?p.updateProps(h,{shape:r},e):h.attr({shape:r})}function r(n,i,a){var o=t.getAxis(n);var r=o.getBandWidth();var c=t.pointToCoord(i);var l;var h=Math.PI/180;if("angle"===n)l=s(t.cx,t.cy,a[0],a[1],(-c[1]-r/2)*h,(-c[1]+r/2)*h);else l=s(t.cx,t.cy,c[0]-r/2,c[0]+r/2,0,2*Math.PI);var f=d._getPointerElement(t,e,n,l);u?p.updateProps(f,{shape:l},e):f.attr({shape:l})}var d=this;var c=e.get("type");var l=t.getAngleAxis();var h=t.getRadiusAxis();var u="cross"!==c&&"category"===t.getBaseAxis().type;if("cross"===c){o("angle",i,h.getExtent());o("radius",i,l.getExtent());this._updateCrossText(t,i,e)}else{var f=t.getAxis("radius"===n?"angle":"radius");var _=f.getExtent();("line"===c?o:r)(n,i,_)}},_updateCrossText:function(e,t,n){var i=n.getModel("crossStyle");var a=i.getModel("textStyle");var o=this._tooltipModel;var s=this._crossText;if(!s){s=this._crossText=new p.Text({style:{textAlign:"left",textVerticalAlign:"bottom"}});this.group.add(s)}var r=e.pointToData(t);var d=e.dimensions;r=u.map(r,function(t,n){var i=e.getAxis(d[n]);if("category"===i.type||"time"===i.type)t=i.scale.getLabel(t);else t=f.addCommas(t.toFixed(i.getPixelPrecision()));return t});s.setStyle({fill:a.getTextColor()||i.get("color"),textFont:a.getFont(),text:r.join(", "),x:t[0]+5,y:t[1]-5});s.z=o.get("z");s.zlevel=o.get("zlevel")},_getPointerElement:function(e,t,n,i){var a=this._tooltipModel;var o=a.get("z");var s=a.get("zlevel");var r=this._axisPointers;var d=e.name;r[d]=r[d]||{};if(r[d][n])return r[d][n];var c=t.get("type");var l=t.getModel(c+"Style");var h="shadow"===c;var u=l[h?"getAreaStyle":"getLineStyle"]();var f="polar"===e.type?h?"Sector":"radius"===n?"Circle":"Line":h?"Rect":"Line";h?u.stroke=null:u.fill=null;var _=r[d][n]=new p[f]({style:u,z:o,zlevel:s,silent:!0,shape:i});this.group.add(_);return _},_dispatchAndShowSeriesTooltipContent:function(e,t,n,i,a){var o=this._tooltipModel;var s=e.getBaseAxis();var r="x"===s.dim||"radius"===s.dim?0:1;var d=u.map(t,function(e){return{seriesIndex:e.seriesIndex,dataIndex:e.getAxisTooltipDataIndex?e.getAxisTooltipDataIndex(e.coordDimToDataDim(s.dim),i,s):e.getData().indexOfNearest(e.coordDimToDataDim(s.dim)[0],i[r],!1,"category"===s.type?.5:null)}});var l=this._lastHover;var h=this._api;if(l.payloadBatch&&!a)h.dispatchAction({type:"downplay",batch:l.payloadBatch});if(!a){h.dispatchAction({type:"highlight",batch:d});l.payloadBatch=d}h.dispatchAction({type:"showTip",dataIndex:d[0].dataIndex,seriesIndex:d[0].seriesIndex,from:this.uid});if(s&&o.get("showContent")&&o.get("show")){var p=u.map(t,function(e,t){return e.getDataParams(d[t].dataIndex)});if(!a){var f=d[0].dataIndex;var _="time"===s.type?s.scale.getLabel(i[r]):t[0].getData().getName(f);var m=(_?_+"<br />":"")+u.map(t,function(e,t){return e.formatTooltip(d[t].dataIndex,!0)}).join("<br />");var g="axis_"+e.name+"_"+f;this._showTooltipContent(o,m,p,g,n[0],n[1],null,h)}else c(o.get("position"),n[0],n[1],this._tooltipContent,p,null,h)}},_showItemTooltipContent:function(e,t,n,i){var a=this._api;var o=e.getData(n);var s=o.getItemModel(t);var r=s.get("tooltip",!0);if("string"==typeof r){var d=r;r={formatter:d}}var c=this._tooltipModel;var l=e.getModel("tooltip",c);var h=new b(r,l,l.ecModel);var p=e.getDataParams(t,n);var u=e.formatTooltip(t,!1,n);var f="item_"+e.name+"_"+t;this._showTooltipContent(h,u,p,f,i.offsetX,i.offsetY,i.target,a)},_showTooltipContent:function(e,t,n,i,a,o,s,r){this._ticket="";if(e.get("showContent")&&e.get("show")){var d=this._tooltipContent;var l=e.get("formatter");var h=e.get("position");var p=t;if(l)if("string"==typeof l)p=f.formatTpl(l,n);else if("function"==typeof l){var u=this;var _=i;var m=function(e,t){if(e===u._ticket){d.setContent(t);c(h,a,o,d,n,s,r)}};u._ticket=_;p=l(n,_,m)}d.show(e);d.setContent(p);c(h,a,o,d,n,s,r)}},_showAxisPointer:function(e){if(e){var t=this._axisPointers[e];t&&u.each(t,function(e){e.show()})}else{this.group.eachChild(function(e){e.show()});this.group.show()}},_resetLastHover:function(){var e=this._lastHover;if(e.payloadBatch)this._api.dispatchAction({type:"downplay",batch:e.payloadBatch});this._lastHover={}},_hideAxisPointer:function(e){if(e){var t=this._axisPointers[e];t&&u.each(t,function(e){e.hide()})}else if(this.group.children().length)this.group.hide()},_hide:function(){clearTimeout(this._showTimeout);this._hideAxisPointer();this._resetLastHover();if(!this._alwaysShowContent)this._tooltipContent.hideLater(this._tooltipModel.get("hideDelay"));this._api.dispatchAction({type:"hideTip",from:this.uid});this._lastX=this._lastY=null},dispose:function(e,t){if(!g.node){var n=t.getZr();this._tooltipContent.hide();n.off("click",this._tryShow);n.off("mousemove",this._mousemove);n.off("mouseout",this._hide);n.off("globalout",this._hide);t.off("showTip",this._manuallyShowTip);t.off("hideTip",this._manuallyHideTip)}}})},function(e,t,n){function i(e){var t="cubic-bezier(0.23, 1, 0.32, 1)";var n="left "+e+"s "+t+",top "+e+"s "+t;return d.map(_,function(e){return e+"transition:"+n}).join(";")}function a(e){var t=[];var n=e.get("fontSize");var i=e.getTextColor();i&&t.push("color:"+i);t.push("font:"+e.getFont());n&&t.push("line-height:"+Math.round(3*n/2)+"px");p(["decoration","align"],function(n){var i=e.get(n);i&&t.push("text-"+n+":"+i)});return t.join(";")}function o(e){e=e;var t=[];var n=e.get("transitionDuration");var o=e.get("backgroundColor");var s=e.getModel("textStyle");var r=e.get("padding");n&&t.push(i(n));if(o)if(f.canvasSupported)t.push("background-Color:"+o);else{t.push("background-Color:#"+c.toHex(o));t.push("filter:alpha(opacity=70)")}p(["width","color","radius"],function(n){var i="border-"+n;var a=u(i);var o=e.get(a);null!=o&&t.push(i+":"+o+("color"===n?"":"px"))});t.push(a(s));if(null!=r)t.push("padding:"+h.normalizeCssArray(r).join("px ")+"px");return t.join(";")+";"}function s(e,t){var n=document.createElement("div");var i=t.getZr();this.el=n;this._x=t.getWidth()/2;this._y=t.getHeight()/2;e.appendChild(n);this._container=e;this._show=!1;this._hideTimeout;var a=this;n.onmouseenter=function(){if(a.enterable){clearTimeout(a._hideTimeout);a._show=!0}a._inContent=!0};n.onmousemove=function(t){if(!a.enterable){var n=i.handler;l.normalizeEvent(e,t);n.dispatch("mousemove",t)}};n.onmouseleave=function(){if(a.enterable)if(a._show)a.hideLater(a._hideDelay);a._inContent=!1};r(n,e)}function r(e,t){function n(e){if(i(e.target))e.preventDefault()}function i(n){for(;n&&n!==t;){if(n===e)return!0;n=n.parentNode}}l.addEventListener(t,"touchstart",n);l.addEventListener(t,"touchmove",n);l.addEventListener(t,"touchend",n)}var d=n(4);var c=n(39);var l=n(87);var h=n(6);var p=d.each;var u=h.toCamelCase;var f=n(2);var _=["","-webkit-","-moz-","-o-"];var m="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;";s.prototype={constructor:s,enterable:!0,update:function(){var e=this._container;var t=e.currentStyle||document.defaultView.getComputedStyle(e);
var n=e.style;if("absolute"!==n.position&&"absolute"!==t.position)n.position="relative"},show:function(e){clearTimeout(this._hideTimeout);var t=this.el;t.style.cssText=m+o(e)+";left:"+this._x+"px;top:"+this._y+"px;"+(e.get("extraCssText")||"");t.style.display=t.innerHTML?"block":"none";this._show=!0},setContent:function(e){var t=this.el;t.innerHTML=e;t.style.display=e?"block":"none"},moveTo:function(e,t){var n=this.el.style;n.left=e+"px";n.top=t+"px";this._x=e;this._y=t},hide:function(){this.el.style.display="none";this._show=!1},hideLater:function(e){if(this._show&&(!this._inContent||!this.enterable))if(e){this._hideDelay=e;this._show=!1;this._hideTimeout=setTimeout(d.bind(this.hide,this),e)}else this.hide()},isShow:function(){return this._show}};e.exports=s},function(e,t,n){"use strict";n(284);n(290);n(292);n(1).extendComponentView({type:"polar"})},function(e,t,n){function i(e,t){var n=e.get("center");var i=e.get("radius");var a=t.getWidth();var o=t.getHeight();var s=r.parsePercent;this.cx=s(n[0],a);this.cy=s(n[1],o);var d=this.getRadiusAxis();var c=Math.min(a,o)/2;d.setExtent(0,s(i,c))}function a(e,t){var n=this;var i=n.getAngleAxis();var a=n.getRadiusAxis();i.scale.setExtent(1/0,-(1/0));a.scale.setExtent(1/0,-(1/0));e.eachSeries(function(e){if(e.coordinateSystem===n){var t=e.getData();a.scale.unionExtent(t.getDataExtent("radius","category"!==a.type));i.scale.unionExtent(t.getDataExtent("angle","category"!==i.type))}});l(i,i.model);l(a,a.model);if("category"===i.type&&!i.onBand){var o=i.getExtent();var s=360/i.scale.count();i.inverse?o[1]+=s:o[1]-=s;i.setExtent(o[0],o[1])}}function o(e,t){e.type=t.get("type");e.scale=c.createScaleByModel(t);e.onBand=t.get("boundaryGap")&&"category"===e.type;if("angleAxis"===t.mainType){var n=t.get("startAngle");e.inverse=t.get("inverse")^t.get("clockwise");e.setExtent(n,n+(e.inverse?-360:360))}t.axis=e;e.model=t}var s=n(285);var r=n(7);var d=n(4);var c=n(114);var l=c.niceScaleExtent;n(288);var h={dimensions:s.prototype.dimensions,create:function(e,t){var n=[];e.eachComponent("polar",function(e,r){var d=new s(r);d.resize=i;d.update=a;var c=d.getRadiusAxis();var l=d.getAngleAxis();var h=e.findAxisModel("radiusAxis");var p=e.findAxisModel("angleAxis");o(c,h);o(l,p);d.resize(e,t);n.push(d);e.coordinateSystem=d});e.eachSeries(function(t){if("polar"===t.get("coordinateSystem")){var n=e.queryComponents({mainType:"polar",index:t.get("polarIndex"),id:t.get("polarId")})[0];if(!0)if(!n)throw new Error('Polar "'+d.retrieve(t.get("polarIndex"),t.get("polarId"),0)+'" not found');t.coordinateSystem=n.coordinateSystem}});return n}};n(26).register("polar",h)},function(e,t,n){"use strict";var i=n(286);var a=n(287);var o=function(e){this.name=e||"";this.cx=0;this.cy=0;this._radiusAxis=new i;this._angleAxis=new a};o.prototype={constructor:o,type:"polar",dimensions:["radius","angle"],containPoint:function(e){var t=this.pointToCoord(e);return this._radiusAxis.contain(t[0])&&this._angleAxis.contain(t[1])},containData:function(e){return this._radiusAxis.containData(e[0])&&this._angleAxis.containData(e[1])},getAxis:function(e){return this["_"+e+"Axis"]},getAxesByScale:function(e){var t=[];var n=this._angleAxis;var i=this._radiusAxis;n.scale.type===e&&t.push(n);i.scale.type===e&&t.push(i);return t},getAngleAxis:function(){return this._angleAxis},getRadiusAxis:function(){return this._radiusAxis},getOtherAxis:function(e){var t=this._angleAxis;return e===t?this._radiusAxis:t},getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},dataToPoints:function(e){return e.mapArray(this.dimensions,function(e,t){return this.dataToPoint([e,t])},this)},dataToPoint:function(e,t){return this.coordToPoint([this._radiusAxis.dataToRadius(e[0],t),this._angleAxis.dataToAngle(e[1],t)])},pointToData:function(e,t){var n=this.pointToCoord(e);return[this._radiusAxis.radiusToData(n[0],t),this._angleAxis.angleToData(n[1],t)]},pointToCoord:function(e){var t=e[0]-this.cx;var n=e[1]-this.cy;var i=this.getAngleAxis();var a=i.getExtent();var o=Math.min(a[0],a[1]);var s=Math.max(a[0],a[1]);i.inverse?o=s-360:s=o+360;var r=Math.sqrt(t*t+n*n);t/=r;n/=r;var d=Math.atan2(-n,t)/Math.PI*180;var c=d<o?1:-1;for(;d<o||d>s;)d+=360*c;return[r,d]},coordToPoint:function(e){var t=e[0];var n=e[1]/180*Math.PI;var i=Math.cos(n)*t+this.cx;var a=-Math.sin(n)*t+this.cy;return[i,a]}};e.exports=o},function(e,t,n){"use strict";function i(e,t){o.call(this,"radius",e,t);this.type="category"}var a=n(4);var o=n(123);i.prototype={constructor:i,dataToRadius:o.prototype.dataToCoord,radiusToData:o.prototype.coordToData};a.inherits(i,o);e.exports=i},function(e,t,n){"use strict";function i(e,t){t=t||[0,360];o.call(this,"angle",e,t);this.type="category"}var a=n(4);var o=n(123);i.prototype={constructor:i,dataToAngle:o.prototype.dataToCoord,angleToData:o.prototype.coordToData};a.inherits(i,o);e.exports=i},function(e,t,n){"use strict";n(289);n(1).extendComponentModel({type:"polar",dependencies:["polarAxis","angleAxis"],coordinateSystem:null,findAxisModel:function(e){var t;var n=this.ecModel;n.eachComponent(e,function(e){var i=n.queryComponents({mainType:"polar",index:e.getShallow("polarIndex"),id:e.getShallow("polarId")})[0];if(i===this)t=e},this);return t},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"80%"}})},function(e,t,n){"use strict";function i(e,t){return t.type||(t.data?"category":"value")}var a=n(4);var o=n(19);var s=n(127);var r=o.extend({type:"polarAxis",axis:null});a.merge(r.prototype,n(129));var d={angle:{startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:!1}},radius:{splitNumber:5}};s("angle",r,i,d.angle);s("radius",r,i,d.radius)},function(e,t,n){"use strict";n(284);n(291)},function(e,t,n){"use strict";function i(e,t,n,i){var a=e.coordToPoint([t,i]);var o=e.coordToPoint([n,i]);return{x1:a[0],y1:a[1],x2:o[0],y2:o[1]}}var a=n(4);var o=n(43);var s=n(12);var r=["axisLine","axisLabel","axisTick","splitLine","splitArea"];n(1).extendComponentView({type:"angleAxis",render:function(e,t){this.group.removeAll();if(e.get("show")){var n=t.getComponent("polar",e.get("polarIndex"));var i=e.axis;var o=n.coordinateSystem;var s=o.getRadiusAxis().getExtent();var d=i.getTicksCoords();if("category"!==i.type)d.pop();a.each(r,function(t){if(e.get(t+".show"))this["_"+t](e,o,d,s)},this)}},_axisLine:function(e,t,n,i){var a=e.getModel("axisLine.lineStyle");var s=new o.Circle({shape:{cx:t.cx,cy:t.cy,r:i[1]},style:a.getLineStyle(),z2:1,silent:!0});s.style.fill=null;this.group.add(s)},_axisTick:function(e,t,n,s){var r=e.getModel("axisTick");var d=(r.get("inside")?-1:1)*r.get("length");var c=a.map(n,function(e){return new o.Line({shape:i(t,s[1],s[1]+d,e)})});this.group.add(o.mergePath(c,{style:a.defaults(r.getModel("lineStyle").getLineStyle(),{stroke:e.get("axisLine.lineStyle.color")})}))},_axisLabel:function(e,t,n,i){var a=e.axis;var r=e.get("data");var d=e.getModel("axisLabel");var c=d.getModel("textStyle");var l=e.getFormattedLabels();var h=d.get("margin");var p=a.getLabelsCoords();for(var u=0;u<n.length;u++){var f=i[1];var _=t.coordToPoint([f+h,p[u]]);var m=t.cx;var g=t.cy;var b=Math.abs(_[0]-m)/f<.3?"center":_[0]>m?"left":"right";var x=Math.abs(_[1]-g)/f<.3?"middle":_[1]>g?"top":"bottom";var v=c;if(r&&r[u]&&r[u].textStyle)v=new s(r[u].textStyle,c);this.group.add(new o.Text({style:{x:_[0],y:_[1],fill:v.getTextColor()||e.get("axisLine.lineStyle.color"),text:l[u],textAlign:b,textVerticalAlign:x,textFont:v.getFont()},silent:!0}))}},_splitLine:function(e,t,n,s){var r=e.getModel("splitLine");var d=r.getModel("lineStyle");var c=d.get("color");var l=0;c=c instanceof Array?c:[c];var h=[];for(var p=0;p<n.length;p++){var u=l++%c.length;h[u]=h[u]||[];h[u].push(new o.Line({shape:i(t,s[0],s[1],n[p])}))}for(var p=0;p<h.length;p++)this.group.add(o.mergePath(h[p],{style:a.defaults({stroke:c[p%c.length]},d.getLineStyle()),silent:!0,z:e.get("z")}))},_splitArea:function(e,t,n,i){var s=e.getModel("splitArea");var r=s.getModel("areaStyle");var d=r.get("color");var c=0;d=d instanceof Array?d:[d];var l=[];var h=Math.PI/180;var p=-n[0]*h;var u=Math.min(i[0],i[1]);var f=Math.max(i[0],i[1]);var _=e.get("clockwise");for(var m=1;m<n.length;m++){var g=c++%d.length;l[g]=l[g]||[];l[g].push(new o.Sector({shape:{cx:t.cx,cy:t.cy,r0:u,r:f,startAngle:p,endAngle:-n[m]*h,clockwise:_},silent:!0}));p=-n[m]*h}for(var m=0;m<l.length;m++)this.group.add(o.mergePath(l[m],{style:a.defaults({fill:d[m%d.length]},r.getAreaStyle()),silent:!0}))}})},function(e,t,n){n(284);n(293)},function(e,t,n){"use strict";function i(e,t,n){return{position:[e.cx,e.cy],rotation:n/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotation:t.getModel("axisLabel").get("rotate"),z2:1}}var a=n(4);var o=n(43);var s=n(132);var r=["axisLine","axisLabel","axisTick","axisName"];var d=["splitLine","splitArea"];n(1).extendComponentView({type:"radiusAxis",render:function(e,t){this.group.removeAll();if(e.get("show")){var n=t.getComponent("polar",e.get("polarIndex"));var o=n.coordinateSystem.getAngleAxis();var c=e.axis;var l=n.coordinateSystem;var h=c.getTicksCoords();var p=o.getExtent()[0];var u=c.getExtent();var f=i(l,e,p);var _=new s(e,f);a.each(r,_.add,_);this.group.add(_.getGroup());a.each(d,function(t){if(e.get(t+".show"))this["_"+t](e,l,p,u,h)},this)}},_splitLine:function(e,t,n,i,s){var r=e.getModel("splitLine");var d=r.getModel("lineStyle");var c=d.get("color");var l=0;c=c instanceof Array?c:[c];var h=[];for(var p=0;p<s.length;p++){var u=l++%c.length;h[u]=h[u]||[];h[u].push(new o.Circle({shape:{cx:t.cx,cy:t.cy,r:s[p]},silent:!0}))}for(var p=0;p<h.length;p++)this.group.add(o.mergePath(h[p],{style:a.defaults({stroke:c[p%c.length],fill:null},d.getLineStyle()),silent:!0}))},_splitArea:function(e,t,n,i,s){var r=e.getModel("splitArea");var d=r.getModel("areaStyle");var c=d.get("color");var l=0;c=c instanceof Array?c:[c];var h=[];var p=s[0];for(var u=1;u<s.length;u++){var f=l++%c.length;h[f]=h[f]||[];h[f].push(new o.Sector({shape:{cx:t.cx,cy:t.cy,r0:p,r:s[u],startAngle:0,
endAngle:2*Math.PI},silent:!0}));p=s[u]}for(var u=0;u<h.length;u++)this.group.add(o.mergePath(h[u],{style:a.defaults({fill:c[u%c.length]},d.getAreaStyle()),silent:!0}))}})},function(e,t,n){function i(e,t){t.update="updateView";a.registerAction(t,function(t,n){var i={};n.eachComponent({mainType:"geo",query:t},function(n){n[e](t.name);var a=n.coordinateSystem;o.each(a.regions,function(e){i[e.name]=n.isSelected(e.name)||!1})});return{selected:i,name:t.name}})}n(295);n(163);n(296);n(176);var a=n(1);var o=n(4);i("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"});i("select",{type:"geoSelect",event:"geoselected"});i("unSelect",{type:"geoUnSelect",event:"geounselected"})},function(e,t,n){"use strict";var i=n(5);var a=n(19);var o=n(12);var s=n(4);var r=n(140);var d=n(163);var c=a.extend({type:"geo",coordinateSystem:null,layoutMode:"box",init:function(e){a.prototype.init.apply(this,arguments);i.defaultEmphasis(e.label,["position","show","textStyle","distance","formatter"])},optionUpdated:function(){var e=this.option;var t=this;e.regions=d.getFilledRegions(e.regions,e.map);this._optionModelMap=s.reduce(e.regions||[],function(e,n){if(n.name)e[n.name]=new o(n,t);return e},{});this.updateSelectedMap(e.regions)},defaultOption:{zlevel:0,z:0,show:!0,left:"center",top:"center",aspectScale:.75,silent:!1,map:"",center:null,zoom:1,scaleLimit:null,label:{normal:{show:!1,textStyle:{color:"#000"}},emphasis:{show:!0,textStyle:{color:"rgb(100,0,0)"}}},itemStyle:{normal:{borderWidth:.5,borderColor:"#444",color:"#eee"},emphasis:{color:"rgba(255,215,0,0.8)"}},regions:[]},getRegionModel:function(e){return this._optionModelMap[e]},getFormattedLabel:function(e,t){var n=this.get("label."+t+".formatter");var i={name:e};if("function"==typeof n){i.status=t;return n(i)}else if("string"==typeof n)return n.replace("{a}",i.seriesName)},setZoom:function(e){this.option.zoom=e},setCenter:function(e){this.option.center=e}});s.mixin(c,r);e.exports=c},function(e,t,n){"use strict";var i=n(173);e.exports=n(1).extendComponentView({type:"geo",init:function(e,t){var n=new i(t,(!0));this._mapDraw=n;this.group.add(n.group)},render:function(e,t,n,i){if(!i||"geoToggleSelect"!==i.type||i.from!==this.uid){var a=this._mapDraw;if(e.get("show"))a.draw(e,t,n,this,i);else this._mapDraw.group.removeAll();this.group.silent=e.get("silent")}}})},function(e,t,n){n(298);n(301);n(302);var i=n(1);i.extendComponentView({type:"single"})},function(e,t,n){function i(e,t){var n=[];e.eachComponent("singleAxis",function(i,o){var s=new a(i,e,t);s.name="single_"+o;s.resize(i,t);i.coordinateSystem=s;n.push(s)});e.eachSeries(function(t){if("singleAxis"===t.get("coordinateSystem")){var n=e.queryComponents({mainType:"singleAxis",index:t.get("singleAxisIndex"),id:t.get("singleAxisId")})[0];t.coordinateSystem=n.coordinateSystem}});return n}var a=n(299);n(26).register("single",{create:i,dimensions:a.prototype.dimensions})},function(e,t,n){function i(e,t,n){this.dimension="x";this.dimensions=["x"];this._axis=null;this._rect;this._init(e,t,n);this._model=e}var a=n(300);var o=n(114);var s=n(21);i.prototype={type:"singleAxis",constructor:i,_init:function(e,t,n){var i=this.dimension;var s=new a(i,o.createScaleByModel(e),[0,0],e.get("type"),e.get("position"));var r="category"===s.type;s.onBand=r&&e.get("boundaryGap");s.inverse=e.get("inverse");s.orient=e.get("orient");e.axis=s;s.model=e;this._axis=s},update:function(e,t){this._updateAxisFromSeries(e)},_updateAxisFromSeries:function(e){e.eachSeries(function(e){var t=e.getData();var n=this.dimension;this._axis.scale.unionExtent(t.getDataExtent(e.coordDimToDataDim(n)));o.niceScaleExtent(this._axis,this._axis.model)},this)},resize:function(e,t){this._rect=s.getLayoutRect({left:e.get("left"),top:e.get("top"),right:e.get("right"),bottom:e.get("bottom"),width:e.get("width"),height:e.get("height")},{width:t.getWidth(),height:t.getHeight()});this._adjustAxis()},getRect:function(){return this._rect},_adjustAxis:function(){var e=this._rect;var t=this._axis;var n=t.isHorizontal();var i=n?[0,e.width]:[0,e.height];var a=t.reverse?1:0;t.setExtent(i[a],i[1-a]);this._updateAxisTransform(t,n?e.x:e.y)},_updateAxisTransform:function(e,t){var n=e.getExtent();var i=n[0]+n[1];var a=e.isHorizontal();e.toGlobalCoord=a?function(e){return e+t}:function(e){return i-e+t};e.toLocalCoord=a?function(e){return e-t}:function(e){return i-e+t}},getAxis:function(){return this._axis},getBaseAxis:function(){return this._axis},containPoint:function(e){var t=this.getRect();var n=this.getAxis();var i=n.orient;if("horizontal"===i)return n.contain(n.toLocalCoord(e[0]))&&e[1]>=t.y&&e[1]<=t.y+t.height;else return n.contain(n.toLocalCoord(e[1]))&&e[0]>=t.y&&e[0]<=t.y+t.height},pointToData:function(e){var t=this.getAxis();return[t.coordToData(t.toLocalCoord(e["horizontal"===t.orient?0:1]))]},dataToPoint:function(e){var t=this.getAxis();var n=this.getRect();var i=[];var a="horizontal"===t.orient?0:1;i[a]=t.toGlobalCoord(t.dataToCoord(+e));i[1-a]=0===a?n.y+n.height/2:n.x+n.width/2;return i}};e.exports=i},function(e,t,n){var i=n(4);var a=n(123);var o=n(114);var s=function(e,t,n,i,o){a.call(this,e,t,n);this.type=i||"value";this.position=o||"bottom";this.orient=null;this._labelInterval=null};s.prototype={constructor:s,model:null,isHorizontal:function(){var e=this.position;return"top"===e||"bottom"===e},getLabelInterval:function(){var e=this._labelInterval;if(!e){var t=this.model;var n=t.getModel("axisLabel");var a=n.get("interval");if("category"!==this.type||"auto"!==a){e=this._labelInterval="auto"===a?0:a;return e}e=this._labelInterval=o.getAxisLabelInterval(i.map(this.scale.getTicks(),this.dataToCoord,this),t.getFormattedLabels(),n.getModel("textStyle").getFont(),this.isHorizontal())}return e},toGlobalCoord:null,toLocalCoord:null};i.inherits(s,a);e.exports=s},function(e,t,n){function i(e){var t=e.coordinateSystem;var n=e.axis;var i={};var a=n.position;var o=n.orient;var s=t.getRect();var r=[s.x,s.x+s.width,s.y,s.y+s.height];var d={horizontal:{top:r[2],bottom:r[3]},vertical:{left:r[0],right:r[1]}};i.position=["vertical"===o?d.vertical[a]:r[0],"horizontal"===o?d.horizontal[a]:r[3]];var c={horizontal:0,vertical:1};i.rotation=Math.PI/2*c[o];var l={top:-1,bottom:1,right:1,left:-1};i.labelDirection=i.tickDirection=i.nameDirection=l[a];if(e.getModel("axisTick").get("inside"))i.tickDirection=-i.tickDirection;if(e.getModel("axisLabel").get("inside"))i.labelDirection=-i.labelDirection;var h=e.getModel("axisLabel").get("rotate");i.labelRotation="top"===a?-h:h;i.labelInterval=n.getLabelInterval();i.z2=1;return i}var a=n(132);var o=n(4);var s=n(43);var r=a.getInterval;var d=a.ifIgnoreOnTick;var c=["axisLine","axisLabel","axisTick","axisName"];var l="splitLine";var h=n(1).extendComponentView({type:"singleAxis",render:function(e,t){var n=this.group;n.removeAll();var s=i(e);var r=new a(e,s);o.each(c,r.add,r);n.add(r.getGroup());if(e.get(l+".show"))this["_"+l](e,s.labelInterval)},_splitLine:function(e,t){var n=e.axis;var i=e.getModel("splitLine");var a=i.getModel("lineStyle");var o=a.get("width");var c=a.get("color");var l=r(i,t);c=c instanceof Array?c:[c];var h=e.coordinateSystem.getRect();var p=n.isHorizontal();var u=[];var f=0;var _=n.getTicksCoords();var m=[];var g=[];for(var b=0;b<_.length;++b)if(!d(n,b,l)){var x=n.toGlobalCoord(_[b]);if(p){m[0]=x;m[1]=h.y;g[0]=x;g[1]=h.y+h.height}else{m[0]=h.x;m[1]=x;g[0]=h.x+h.width;g[1]=x}var v=f++%c.length;u[v]=u[v]||[];u[v].push(new s.Line(s.subPixelOptimizeLine({shape:{x1:m[0],y1:m[1],x2:g[0],y2:g[1]},style:{lineWidth:o},silent:!0})))}else;for(var b=0;b<u.length;++b)this.group.add(s.mergePath(u[b],{style:{stroke:c[b%c.length],lineDash:a.getLineDash(),lineWidth:o},silent:!0}))}});e.exports=h},function(e,t,n){function i(e,t){return t.type||(t.data?"category":"value")}var a=n(19);var o=n(127);var s=n(4);var r=a.extend({type:"singleAxis",layoutMode:"box",axis:null,coordinateSystem:null});var d={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:2,type:"solid"}},axisTick:{show:!0,length:6,lineStyle:{width:2}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}};s.merge(r.prototype,n(129));o("single",r,i,d);e.exports=r},function(e,t,n){n(1).registerPreprocessor(n(304));n(305);n(310);n(311);n(312);n(313)},function(e,t,n){function i(e){var t={};a.each(e,function(e){t[e]=1});e.length=0;a.each(t,function(t,n){e.push(n)})}var a=n(4);var o=["rect","polygon","keep","clear"];e.exports=function(e,t){var n=e&&e.brush;if(!a.isArray(n))n=n?[n]:[];if(n.length){var s=[];a.each(n,function(e){var t=e.hasOwnProperty("toolbox")?e.toolbox:[];if(t instanceof Array)s=s.concat(t)});var r=e&&e.toolbox;if(a.isArray(r))r=r[0];if(!r){r={feature:{}};e.toolbox=[r]}var d=r.feature||(r.feature={});var c=d.brush||(d.brush={});var l=c.type||(c.type=[]);l.push.apply(l,s);i(l);if(t&&!l.length)l.push.apply(l,o)}}},function(e,t,n){function i(e,t,n,i,o){if(o){var s=e.getZr();if(!s[x]){if(!s[b])s[b]=a;var r=_.createOrUpdate(s,b,n,t);r(e,i)}}}function a(e,t){if(!e.isDisposed()){var n=e.getZr();n[x]=!0;e.dispatchAction({type:"brushSelect",batch:t});n[x]=!1}}function o(e,t,n,i){var a=n.getItemLayout(i);for(var o=0,s=t.length;o<s;o++){var r=t[o];if(e[r.brushType](a,r.selectors,r))return!0}}function s(e){var t=e.brushSelector;if(p.isString(t)){var n=[];p.each(f,function(e,i){n[i]=e[t]});return n}else if(p.isFunction(t)){var i={};p.each(f,function(e,n){i[n]=t});return i}return t}function r(e,t){var n=e.option.seriesIndex;return null!=n&&"all"!==n&&(p.isArray(n)?p.indexOf(n,t)<0:t!==n)}function d(e){var t=e.selectors={};p.each(f[e.brushType],function(n,i){t[i]=function(i){return n(i,t,e)}});return e}function c(e){return new u(e[0][0],e[1][0],e[0][1]-e[0][0],e[1][1]-e[1][0])}var l=n(1);var h=n(306);var p=n(4);var u=n(9);var f=n(307);var _=n(308);var m=n(309);var g=["inBrush","outOfBrush"];var b="__ecBrushSelect";var x="__ecInBrushSelectEvent";var v=l.PRIORITY.VISUAL.BRUSH;l.registerLayout(v,function(e,t,n){
e.eachComponent({mainType:"brush"},function(t){n&&"takeGlobalCursor"===n.type&&t.setBrushOption("brush"===n.key?n.brushOption:{brushType:!1});t.coordInfoList=m.makeCoordInfoList(t.option,e);m.parseInputRanges(t,e)})});l.registerVisual(v,function(e,t,n){var a=[];var c;var l;e.eachComponent({mainType:"brush"},function(t,n){function i(e){return"all"===v||w[e]}function u(e){return!!e.length}function f(e,t){var n=e.coordinateSystem;$|=n.hasAxisbrushed();i(t)&&n.eachActiveState(e.getData(),function(e,t){"active"===e&&(I[t]=1)})}function _(e,n,a){var d=s(e);if(d&&!r(t,n)){p.each(A,function(n){d[n.brushType]&&m.controlSeries(n,t,e)&&a.push(n);$|=u(a)});if(i(n)&&u(a)){var c=e.getData();c.each(function(e){if(o(d,a,c,e))I[e]=1})}}}var b={brushId:t.id,brushIndex:n,brushName:t.name,areas:p.clone(t.areas),selected:[]};a.push(b);var x=t.option;var v=x.brushLink;var w=[];var I=[];var y=[];var $=0;if(!n){c=x.throttleType;l=x.throttleDelay}var A=p.map(t.areas,function(e){return d(p.defaults({boundingRect:C[e.brushType](e)},e))});var E=h.createVisualMappings(t.option,g,function(e){e.mappingMethod="fixed"});p.isArray(v)&&p.each(v,function(e){w[e]=1});e.eachSeries(function(e,t){var n=y[t]=[];"parallel"===e.subType?f(e,t,n):_(e,t,n)});e.eachSeries(function(e,t){var n={seriesId:e.id,seriesIndex:t,seriesName:e.name,dataIndex:[]};b.selected.push(n);var a=s(e);var r=y[t];var d=e.getData();var c=i(t)?function(e){return I[e]?(n.dataIndex.push(d.getRawIndex(e)),"inBrush"):"outOfBrush"}:function(e){return o(a,r,d,e)?(n.dataIndex.push(d.getRawIndex(e)),"inBrush"):"outOfBrush"};(i(t)?$:u(r))&&h.applyVisual(g,E,d,c)})});i(t,c,l,a,n)});var C={lineX:p.noop,lineY:p.noop,rect:function(e){return c(e.range)},polygon:function(e){var t;var n=e.range;for(var i=0,a=n.length;i<a;i++){t=t||[[1/0,-(1/0)],[1/0,-(1/0)]];var o=n[i];o[0]<t[0][0]&&(t[0][0]=o[0]);o[0]>t[0][1]&&(t[0][1]=o[0]);o[1]<t[1][0]&&(t[1][0]=o[1]);o[1]>t[1][1]&&(t[1][1]=o[1])}return t&&c(t)}}},function(e,t,n){function i(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!0}var a=n(4);var o=n(192);var s=a.each;var r={createVisualMappings:function(e,t,n){function i(){var e=function(){};e.prototype.__hidden=e.prototype;var t=new e;return t}var r={};s(t,function(t){var d=r[t]=i();s(e[t],function(e,i){if(o.isValidType(i)){var s={type:i,visual:e};n&&n(s,t);d[i]=new o(s);if("opacity"===i){s=a.clone(s);s.type="colorAlpha";d.__hidden.__alphaForOpacity=new o(s)}}})});return r},replaceVisualOption:function(e,t,n){var o;a.each(n,function(e){if(t.hasOwnProperty(e)&&i(t[e]))o=!0});o&&a.each(n,function(n){if(t.hasOwnProperty(n)&&i(t[n]))e[n]=a.clone(t[n]);else delete e[n]})},applyVisual:function(e,t,n,i,s,r){function d(e){return n.getItemVisual(p,e)}function c(e,t){n.setItemVisual(p,e,t)}function l(e,n){p=null==r?e:n;var a=i.call(s,e);var o=t[a];var l=h[a];for(var u=0,f=l.length;u<f;u++){var _=l[u];o[_]&&o[_].applyVisual(e,d,c)}}var h={};a.each(e,function(e){var n=o.prepareVisualTypes(t[e]);h[e]=n});var p;if(null==r)n.each(l,!0);else n.each([r],l,!0)}};e.exports=r},function(e,t,n){function i(e){var t=["x","y"];var n=["width","height"];return{point:function(t,n,i){var o=i.range;var s=t[e];return a(s,o)},rect:function(i,o,s){var r=s.range;return a(i[t[e]],r)||a(i[t[e]]+i[n[e]],r)}}}function a(e,t){return t[0]<=e&&e<=t[1]}function o(e,t,n,i,a){for(var o=0,r=a[a.length-1];o<a.length;o++){var d=a[o];if(s(e,t,n,i,d[0],d[1],r[0],r[1]))return!0;r=d}}function s(e,t,n,i,a,o,s,c){var l=d(n-e,a-s,i-t,o-c);if(r(l))return!1;var h=d(a-e,a-s,o-t,o-c)/l;if(h<0||h>1)return!1;var p=d(n-e,a-e,i-t,o-t)/l;if(p<0||p>1)return!1;else return!0}function r(e){return e<=1e-6&&e>=-1e-6}function d(e,t,n,i){return e*i-t*n}function c(e){var t=e.x;var n=e.y;var i=e.width;var a=e.height;if(i<0){t+=i;i=-i}if(a<0){n+=a;a=-a}return new h(t,n,i,a)}var l=n(167).contain;var h=n(9);var p={lineX:i(0),lineY:i(1),rect:{point:function(e,t,n){return n.boundingRect.contain(e[0],e[1])},rect:function(e,t,n){return n.boundingRect.intersect(c(e))}},polygon:{point:function(e,t,n){return n.boundingRect.contain(e[0],e[1])&&l(n.range,e[0],e[1])},rect:function(e,t,n){var i=n.range;if(i.length<=1)return!1;var a=e.x;var s=e.y;var r=e.width;var d=e.height;var h=i[0];if(l(i,a,s)||l(i,a+r,s)||l(i,a,s+d)||l(i,a+r,s+d)||c(e).contain(h[0],h[1])||o(a,s,a+r,s,i)||o(a,s,a,s+d,i)||o(a+r,s,a+r,s+d,i)||o(a,s+d,a+r,s+d,i))return!0;else;}}};e.exports=p},function(e,t){var n={};var i="\0__throttleOriginMethod";var a="\0__throttleRate";var o="\0__throttleType";n.throttle=function(e,t,n){function i(){s=(new Date).getTime();r=null;e.apply(c,l||[])}var a;var o=0;var s=0;var r=null;var d;var c;var l;t=t||0;var h=function(){a=(new Date).getTime();c=this;l=arguments;d=a-(n?o:s)-t;clearTimeout(r);if(n)r=setTimeout(i,t);else if(d>=0)i();else r=setTimeout(i,-d);o=a};h.clear=function(){if(r){clearTimeout(r);r=null}};return h};n.createOrUpdate=function(e,t,s,r){var d=e[t];if(d){var c=d[i]||d;var l=d[o];var h=d[a];if(h!==s||l!==r){if(null==s||!r)return e[t]=c;d=e[t]=n.throttle(c,s,"debounce"===r);d[i]=c;d[o]=r;d[a]=s}return d}};n.clear=function(e,t){var n=e[t];if(n&&n[i])e[t]=n[i]};e.exports=n},function(e,t,n){function i(e){e[0]>e[1]&&e.reverse();return e}function a(e,t){var n=!0;for(var i=0;i<l.length;i++){var a=l[i]+"Index";if(e[a]>=0){n=!1;for(var o=0;o<t.length;o++)if(t[o][a]===e[a])return t[o]}}return n}function o(e,t,n,a){var o=n.coordSys.getAxis(e);if(!0)s.assert(o,"line brush is only available in cartesian (grid).");return i(s.map([0,1],function(e){return t?o.coordToData(o.toLocalCoord(a[e])):o.toGlobalCoord(o.dataToCoord(a[e]))}))}var s=n(4);var r=n(43);var d=s.each;var c={};var l=["geo","xAxis","yAxis"];var h="--";var p=["dataToPoint","pointToData"];c.parseOutputRanges=function(e,t,n,i){d(e,function(e,n){var o=e.panelId;if(o){o=o.split(h);e[o[0]+"Index"]=+o[1];var s=a(e,t);e.coordRange=u[e.brushType](1,s,e.range);i&&(i[n]=s)}})};c.parseInputRanges=function(e,t){d(e.areas,function(t){var n=a(t,e.coordInfoList);if(!0){s.assert(!n||n===!0||t.coordRange,"coordRange must be specified when coord index specified.");s.assert(!n||n!==!0||t.range,"range must be specified.")}t.range=t.range||[];if(n&&n!==!0){t.range=u[t.brushType](0,n,t.coordRange);t.panelId=n.panelId}})};c.makePanelOpts=function(e){var t=[];d(e,function(e){var n=e.coordSys;var i;if(e.geoIndex>=0){i=n.getBoundingRect().clone();i.applyTransform(r.getTransform(n))}else i=n.grid.getRect().clone();t.push({panelId:e.panelId,rect:i})});return t};c.makeCoordInfoList=function(e,t){var n=[];d(l,function(i){var a=e[i+"Index"];if(null!=a&&"none"!==a){if("all"!==a&&!s.isArray(a))a=[a];t.eachComponent({mainType:i},function(e,t){if(!("all"!==a&&s.indexOf(a,t)<0)){var o;var r;"xAxis"===i||"yAxis"===i?o=e.axis.grid:r=e.coordinateSystem;var d;for(var c=0,l=n.length;c<l;c++){var p=n[c];if(!0)s.assert(p[i+"Index"]!=t,"Coord should not be defined duplicately: "+i+t);if("yAxis"===i&&!p.yAxis&&p.xAxis){var u=o.getCartesian(p.xAxisIndex,t);if(u){r=u;d=p;break}}}!d&&n.push(d={});d[i]=e;d[i+"Index"]=t;d.panelId=i+h+t;d.coordSys=r||o.getCartesian(d.xAxisIndex,d.yAxisIndex);d.coordSys?n[i+"Has"]=!0:n.pop()}})}});return n};c.controlSeries=function(e,t,n){var i=a(e,t.coordInfoList);return i===!0||i&&i.coordSys===n.coordinateSystem};var u={lineX:s.curry(o,"x"),lineY:s.curry(o,"y"),rect:function(e,t,n){var a=t.coordSys;var o=a[p[e]]([n[0][0],n[1][0]]);var s=a[p[e]]([n[0][1],n[1][1]]);return[i([o[0],s[0]]),i([o[1],s[1]])]},polygon:function(e,t,n){var i=t.coordSys;return s.map(n,i[p[e]],i)}};e.exports=c},function(e,t,n){var i=n(1);var a=n(4);var o=n(306);var s=n(12);var r=["#ddd"];var d=i.extendComponentModel({type:"brush",dependencies:["geo","grid","xAxis","yAxis","parallel","series"],defaultOption:{toolbox:null,brushLink:null,seriesIndex:"all",geoIndex:null,xAxisIndex:null,yAxisIndex:null,brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(120,140,180,0.3)",borderColor:"rgba(120,140,180,0.8)",width:null},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0},areas:[],brushType:null,brushOption:{},coordInfoList:[],optionUpdated:function(e,t){var n=this.option;!t&&o.replaceVisualOption(n,e,["inBrush","outOfBrush"]);n.inBrush=n.inBrush||{};n.outOfBrush=n.outOfBrush||{color:r}},setAreas:function(e){if(!0){a.assert(a.isArray(e));a.each(e,function(e){a.assert(e.brushType,"Illegal areas")})}if(e)this.areas=a.map(e,function(e){return this._mergeBrushOption(e)},this)},setBrushOption:function(e){this.brushOption=this._mergeBrushOption(e);this.brushType=this.brushOption.brushType},_mergeBrushOption:function(e){var t=this.option;return a.merge({brushType:t.brushType,brushMode:t.brushMode,transformable:t.transformable,brushStyle:new s(t.brushStyle).getItemStyle(),removeOnClick:t.removeOnClick},e,!0)}});e.exports=d},function(e,t,n){function i(e,t,n,i){(!i||i.$from!==e.id)&&this._brushController.setPanels(r.makePanelOpts(e.coordInfoList)).enableBrush(e.brushOption).updateCovers(e.areas.slice())}var a=n(4);var o=n(233);var s=n(1);var r=n(309);e.exports=s.extendComponentView({type:"brush",init:function(e,t){this.ecModel=e;this.api=t;this.model;(this._brushController=new o(t.getZr())).on("brush",a.bind(this._onBrush,this)).mount()},render:function(e){this.model=e;return i.apply(this,arguments)},updateView:i,updateLayout:i,updateVisual:i,dispose:function(){this._brushController.dispose()},_onBrush:function(e,t){var n=this.model.id;r.parseOutputRanges(e,this.model.coordInfoList,this.ecModel);(!t.isEnd||t.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:n,areas:a.clone(e),$from:n})}})},function(e,t,n){var i=n(1);i.registerAction({type:"brush",event:"brush",update:"updateView"},function(e,t){t.eachComponent({mainType:"brush",query:e},function(t){t.setAreas(e.areas)})});i.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},function(){})},function(e,t,n){"use strict";function i(e,t,n){this.model=e;this.ecModel=t;this.api=n;this._brushType;this._brushMode}var a=n(314);var o=n(4);i.defaultOption={show:!0,type:["rect","polygon","lineX","lineY","keep","clear"],
icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:{rect:"矩形选择",polygon:"圈选",lineX:"横向选择",lineY:"纵向选择",keep:"保持选择",clear:"清除选择"}};var s=i.prototype;s.render=s.updateView=s.updateLayout=function(e,t,n){var i;var a;var s;t.eachComponent({mainType:"brush"},function(e){i=e.brushType;a=e.brushOption.brushMode||"single";s|=e.areas.length});this._brushType=i;this._brushMode=a;o.each(e.get("type",!0),function(t){e.setIconStatus(t,("keep"===t?"multiple"===a:"clear"===t?s:t===i)?"emphasis":"normal")})};s.getIcons=function(){var e=this.model;var t=e.get("icon",!0);var n={};o.each(e.get("type",!0),function(e){if(t[e])n[e]=t[e]});return n};s.onclick=function(e,t,n){var t=this.api;var i=this._brushType;var a=this._brushMode;if("clear"===n)t.dispatchAction({type:"brush",areas:[]});else t.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===n?i:i===n?!1:n,brushMode:"keep"===n?"multiple"===a?"single":"multiple":a}})};a.register("brush",i);e.exports=i},function(e,t){"use strict";var n={};e.exports={register:function(e,t){n[e]=t},get:function(e){return n[e]}}},function(e,t,n){"use strict";var i=n(1);var a=n(43);var o=n(21);i.extendComponentModel({type:"title",layoutMode:{type:"box",ignoreSize:!0},defaultOption:{zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}});i.extendComponentView({type:"title",render:function(e,t,n){this.group.removeAll();if(e.get("show")){var i=this.group;var s=e.getModel("textStyle");var r=e.getModel("subtextStyle");var d=e.get("textAlign");var c=e.get("textBaseline");var l=new a.Text({style:{text:e.get("text"),textFont:s.getFont(),fill:s.getTextColor()},z2:10});var h=l.getBoundingRect();var p=e.get("subtext");var u=new a.Text({style:{text:p,textFont:r.getFont(),fill:r.getTextColor(),y:h.height+e.get("itemGap"),textBaseline:"top"},z2:10});var f=e.get("link");var _=e.get("sublink");l.silent=!f;u.silent=!_;if(f)l.on("click",function(){window.open(f,"_"+e.get("target"))});if(_)u.on("click",function(){window.open(_,"_"+e.get("subtarget"))});i.add(l);p&&i.add(u);var m=i.getBoundingRect();var g=e.getBoxLayoutParams();g.width=m.width;g.height=m.height;var b=o.getLayoutRect(g,{width:n.getWidth(),height:n.getHeight()},e.get("padding"));if(!d){d=e.get("left")||e.get("right");if("middle"===d)d="center";if("right"===d)b.x+=b.width;else if("center"===d)b.x+=b.width/2}if(!c){c=e.get("top")||e.get("bottom");if("center"===c)c="middle";if("bottom"===c)b.y+=b.height;else if("middle"===c)b.y+=b.height/2;c=c||"top"}i.attr("position",[b.x,b.y]);var x={textAlign:d,textVerticalAlign:c};l.setStyle(x);u.setStyle(x);m=i.getBoundingRect();var v=b.margin;var C=e.getItemStyle(["color","opacity"]);C.fill=e.get("backgroundColor");var w=new a.Rect({shape:{x:m.x-v[3],y:m.y-v[0],width:m.width+v[1]+v[3],height:m.height+v[0]+v[2]},style:C,silent:!0});a.subPixelOptimizeRect(w);i.add(w)}}})},function(e,t,n){n(317);n(318);n(321);n(322);n(323);n(325);n(326);n(328);n(329)},function(e,t,n){n(19).registerSubTypeDefaulter("dataZoom",function(e){return"slider"})},function(e,t,n){function i(e){var t={};h(["start","end","startValue","endValue","throttle"],function(n){e.hasOwnProperty(n)&&(t[n]=e[n])});return t}function a(e,t,n,i){if(null!=n[t]&&null==n[e])i[e]=null}var o=n(4);var s=n(2);var r=n(1);var d=n(5);var c=n(319);var l=n(320);var h=o.each;var p=c.eachAxisDim;var u=r.extendComponentModel({type:"dataZoom",dependencies:["xAxis","yAxis","zAxis","radiusAxis","angleAxis","series"],defaultOption:{zlevel:0,z:4,orient:null,xAxisIndex:null,yAxisIndex:null,filterMode:"filter",throttle:null,start:0,end:100,startValue:null,endValue:null},init:function(e,t,n){this._dataIntervalByAxis={};this._dataInfo={};this._axisProxies={};this.textStyleModel;this._autoThrottle=!0;var a=i(e);this.mergeDefaultAndTheme(e,n);this.doInit(a)},mergeOption:function(e){var t=i(e);o.merge(this.option,e,!0);this.doInit(t)},doInit:function(e){var t=this.option;if(!s.canvasSupported)t.realtime=!1;this._setDefaultThrottle(e);a("start","startValue",e,t);a("end","endValue",e,t);this.textStyleModel=this.getModel("textStyle");this._resetTarget();this._giveAxisProxies()},_giveAxisProxies:function(){var e=this._axisProxies;this.eachTargetAxis(function(t,n,i,a){var o=this.dependentModels[t.axis][n];var s=o.__dzAxisProxy||(o.__dzAxisProxy=new l(t.name,n,this,a));e[t.name+"_"+n]=s},this)},_resetTarget:function(){var e=this.option;var t=this._judgeAutoMode();p(function(t){var n=t.axisIndex;e[n]=d.normalizeToArray(e[n])},this);if("axisIndex"===t)this._autoSetAxisIndex();else if("orient"===t)this._autoSetOrient()},_judgeAutoMode:function(){var e=this.option;var t=!1;p(function(n){if(null!=e[n.axisIndex])t=!0},this);var n=e.orient;if(null==n&&t)return"orient";else if(!t){if(null==n)e.orient="horizontal";return"axisIndex"}},_autoSetAxisIndex:function(){var e=!0;var t=this.get("orient",!0);var n=this.option;if(e){var i="vertical"===t?{dim:"y",axisIndex:"yAxisIndex",axis:"yAxis"}:{dim:"x",axisIndex:"xAxisIndex",axis:"xAxis"};if(this.dependentModels[i.axis].length){n[i.axisIndex]=[0];e=!1}}if(e)p(function(t){if(e){var i=[];var a=this.dependentModels[t.axis];if(a.length&&!i.length)for(var o=0,s=a.length;o<s;o++)if("category"===a[o].get("type"))i.push(o);n[t.axisIndex]=i;if(i.length)e=!1}},this);if(e)this.ecModel.eachSeries(function(e){if(this._isSeriesHasAllAxesTypeOf(e,"value"))p(function(t){var i=n[t.axisIndex];var a=e.get(t.axisIndex);var s=e.get(t.axisId);var r=e.ecModel.queryComponents({mainType:t.axis,index:a,id:s})[0];if(!0)if(!r)throw new Error(t.axis+' "'+o.retrieve(a,s,0)+'" not found');a=r.componentIndex;if(o.indexOf(i,a)<0)i.push(a)})},this)},_autoSetOrient:function(){var e;this.eachTargetAxis(function(t){!e&&(e=t.name)},this);this.option.orient="y"===e?"vertical":"horizontal"},_isSeriesHasAllAxesTypeOf:function(e,t){var n=!0;p(function(i){var a=e.get(i.axisIndex);var o=this.dependentModels[i.axis][a];if(!o||o.get("type")!==t)n=!1},this);return n},_setDefaultThrottle:function(e){if(e.hasOwnProperty("throttle"))this._autoThrottle=!1;if(this._autoThrottle){var t=this.ecModel.option;this.option.throttle=t.animation&&t.animationDurationUpdate>0?100:20}},getFirstTargetAxisModel:function(){var e;p(function(t){if(null==e){var n=this.get(t.axisIndex);if(n.length)e=this.dependentModels[t.axis][n[0]]}},this);return e},eachTargetAxis:function(e,t){var n=this.ecModel;p(function(i){h(this.get(i.axisIndex),function(a){e.call(t,i,a,this,n)},this)},this)},getAxisProxy:function(e,t){return this._axisProxies[e+"_"+t]},setRawRange:function(e){h(["start","end","startValue","endValue"],function(t){this.option[t]=e[t]},this)},getPercentRange:function(){var e=this.findRepresentativeAxisProxy();if(e)return e.getDataPercentWindow()},getValueRange:function(e,t){if(null==e&&null==t){var n=this.findRepresentativeAxisProxy();if(n)return n.getDataValueWindow()}else return this.getAxisProxy(e,t).getDataValueWindow()},findRepresentativeAxisProxy:function(){var e=this._axisProxies;for(var t in e)if(e.hasOwnProperty(t)&&e[t].hostedBy(this))return e[t];for(var t in e)if(e.hasOwnProperty(t)&&!e[t].hostedBy(this))return e[t]}});e.exports=u},function(e,t,n){var i=n(6);var a=n(4);var o={};var s=["x","y","z","radius","angle"];o.createNameEach=function(e,t){e=e.slice();var n=a.map(e,i.capitalFirst);t=(t||[]).slice();var o=a.map(t,i.capitalFirst);return function(i,s){a.each(e,function(e,a){var r={name:e,capital:n[a]};for(var d=0;d<t.length;d++)r[t[d]]=e+o[d];i.call(s,r)})}};o.eachAxisDim=o.createNameEach(s,["axisIndex","axis","index","id"]);o.createLinkedNodesFinder=function(e,t,n){function i(e,t){return a.indexOf(t.nodes,e)>=0}function o(e,i){var o=!1;t(function(t){a.each(n(e,t)||[],function(e){i.records[t.name][e]&&(o=!0)})});return o}function s(e,i){i.nodes.push(e);t(function(t){a.each(n(e,t)||[],function(e){i.records[t.name][e]=!0})})}return function(n){function a(e){if(!i(e,r)&&o(e,r)){s(e,r);d=!0}}var r={nodes:[],records:{}};t(function(e){r.records[e.name]={}});if(!n)return r;s(n,r);var d;do{d=!1;e(a)}while(d);return r}};e.exports=o},function(e,t,n){function i(e,t){var n=[1/0,-(1/0)];c(t,function(t){var i=t.getData();if(i)c(t.coordDimToDataDim(e),function(e){var t=i.getDataExtent(e);t[0]<n[0]&&(n[0]=t[0]);t[1]>n[1]&&(n[1]=t[1])})},this);return n}function a(e,t,n){var i=n.getAxisModel();var a=i.axis.scale;var s=[0,100];var r=[e.start,e.end];var h=[];t=t.slice();
o(t,i,a);c(["startValue","endValue"],function(t){h.push(null!=e[t]?a.parse(e[t]):null)});c([0,1],function(e){var n=h[e];var i=r[e];if(null!=i||null==n){if(null==i)i=s[e];n=a.parse(d.linearMap(i,s,t,!0))}else i=d.linearMap(n,t,s,!0);h[e]=n;r[e]=i});return{valueWindow:l(h),percentWindow:l(r)}}function o(e,t,n){c(["min","max"],function(i,a){var o=t.get(i,!0);if(null!=o&&(o+"").toLowerCase()!=="data"+i)e[a]=n.parse(o)});if(!t.get("scale",!0)){e[0]>0&&(e[0]=0);e[1]<0&&(e[1]=0)}return e}function s(e,t){var n=e.getAxisModel();var i=e._percentWindow;var a=e._valueWindow;if(i){var o=t||0===i[0]&&100===i[1];var s=!t&&d.getPixelPrecision(a,[0,500]);var r=!(t||s<20&&s>=0);var c=t||o||r;n.setRange&&n.setRange(c?null:+a[0].toFixed(s),c?null:+a[1].toFixed(s))}}var r=n(4);var d=n(7);var c=r.each;var l=d.asc;var h=function(e,t,n,i){this._dimName=e;this._axisIndex=t;this._valueWindow;this._percentWindow;this._dataExtent;this.ecModel=i;this._dataZoomModel=n};h.prototype={constructor:h,hostedBy:function(e){return this._dataZoomModel===e},getDataExtent:function(){return this._dataExtent.slice()},getDataValueWindow:function(){return this._valueWindow.slice()},getDataPercentWindow:function(){return this._percentWindow.slice()},getTargetSeriesModels:function(){var e=[];var t=this.ecModel;t.eachSeries(function(n){var i=this._dimName;var a=t.queryComponents({mainType:i+"Axis",index:n.get(i+"AxisIndex"),id:n.get(i+"AxisId")})[0];if(this._axisIndex===(a&&a.componentIndex))e.push(n)},this);return e},getAxisModel:function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},getOtherAxisModel:function(){var e=this._dimName;var t=this.ecModel;var n=this.getAxisModel();var i="x"===e||"y"===e;var a;var o;if(i){o="gridIndex";a="x"===e?"y":"x"}else{o="polarIndex";a="angle"===e?"radius":"angle"}var s;t.eachComponent(a+"Axis",function(e){if((e.get(o)||0)===(n.get(o)||0))s=e});return s},reset:function(e){if(e===this._dataZoomModel){var t=this._dataExtent=i(this._dimName,this.getTargetSeriesModels());var n=a(e.option,t,this);this._valueWindow=n.valueWindow;this._percentWindow=n.percentWindow;s(this)}},restore:function(e){if(e===this._dataZoomModel){this._valueWindow=this._percentWindow=null;s(this,!0)}},filterData:function(e){function t(e){return e>=o[0]&&e<=o[1]}if(e===this._dataZoomModel){var n=this._dimName;var i=this.getTargetSeriesModels();var a=e.get("filterMode");var o=this._valueWindow;var s=this.getOtherAxisModel();if(e.get("$fromToolbox")&&s&&"category"===s.get("type"))a="empty";c(i,function(e){var i=e.getData();i&&c(e.coordDimToDataDim(n),function(n){if("empty"===a)e.setData(i.map(n,function(e){return!t(e)?NaN:e}));else i.filterSelf(n,t)})})}}};e.exports=h},function(e,t,n){var i=n(29);e.exports=i.extend({type:"dataZoom",render:function(e,t,n,i){this.dataZoomModel=e;this.ecModel=t;this.api=n},getTargetInfo:function(){function e(e,t,n,i){var a;for(var o=0;o<n.length;o++)if(n[o].model===e){a=n[o];break}if(!a)n.push(a={model:e,axisModels:[],coordIndex:i});a.axisModels.push(t)}var t=this.dataZoomModel;var n=this.ecModel;var i=[];var a=[];var o=[];t.eachTargetAxis(function(t,s){var r=n.getComponent(t.axis,s);if(r){o.push(r);var d;if("xAxis"===t.axis||"yAxis"===t.axis)d="grid";else d="polar";var c=n.queryComponents({mainType:d,index:r.get(d+"Index"),id:r.get(d+"Id")})[0];if(null!=c)e(c,r,"grid"===d?i:a,c.componentIndex)}},this);return{cartesians:i,polars:a,axisModels:o}}})},function(e,t,n){var i=n(318);var a=i.extend({type:"dataZoom.slider",layoutMode:"box",defaultOption:{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#2f4554",width:.5,opacity:.3},areaStyle:{color:"rgba(47,69,84,0.3)",opacity:.3}},borderColor:"#ddd",fillerColor:"rgba(167,183,204,0.4)",handleIcon:"M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z",handleSize:"100%",handleStyle:{color:"#a7b7cc"},labelPrecision:null,labelFormatter:null,showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#333"}}});e.exports=a},function(e,t,n){function i(e){return"x"===e?"y":"x"}var a=n(4);var o=n(43);var s=n(308);var r=n(321);var d=o.Rect;var c=n(7);var l=c.linearMap;var h=n(21);var p=n(324);var u=c.asc;var f=a.bind;var _=a.each;var m=7;var g=1;var b=30;var x="horizontal";var v="vertical";var C=5;var w=["line","bar","candlestick","scatter"];var I=r.extend({type:"dataZoom.slider",init:function(e,t){this._displayables={};this._orient;this._range;this._handleEnds;this._size;this._handleWidth;this._handleHeight;this._location;this._dragging;this._dataShadowInfo;this.api=t},render:function(e,t,n,i){I.superApply(this,"render",arguments);s.createOrUpdate(this,"_dispatchZoomAction",this.dataZoomModel.get("throttle"),"fixRate");this._orient=e.get("orient");if(this.dataZoomModel.get("show")!==!1){if(!i||"dataZoom"!==i.type||i.from!==this.uid)this._buildView();this._updateView()}else this.group.removeAll()},remove:function(){I.superApply(this,"remove",arguments);s.clear(this,"_dispatchZoomAction")},dispose:function(){I.superApply(this,"dispose",arguments);s.clear(this,"_dispatchZoomAction")},_buildView:function(){var e=this.group;e.removeAll();this._resetLocation();this._resetInterval();var t=this._displayables.barGroup=new o.Group;this._renderBackground();this._renderHandle();this._renderDataShadow();e.add(t);this._positionGroup()},_resetLocation:function(){var e=this.dataZoomModel;var t=this.api;var n=this._findCoordRect();var i={width:t.getWidth(),height:t.getHeight()};var o=this._orient===x?{right:i.width-n.x-n.width,top:i.height-b-m,width:n.width,height:b}:{right:m,top:n.y,width:b,height:n.height};var s=h.getLayoutParams(e.option);a.each(["right","top","width","height"],function(e){if("ph"===s[e])s[e]=o[e]});var r=h.getLayoutRect(s,i,e.padding);this._location={x:r.x,y:r.y};this._size=[r.width,r.height];this._orient===v&&this._size.reverse()},_positionGroup:function(){var e=this.group;var t=this._location;var n=this._orient;var i=this.dataZoomModel.getFirstTargetAxisModel();var a=i&&i.get("inverse");var o=this._displayables.barGroup;var s=(this._dataShadowInfo||{}).otherAxisInverse;o.attr(n===x&&!a?{scale:s?[1,1]:[1,-1]}:n===x&&a?{scale:s?[-1,1]:[-1,-1]}:n===v&&!a?{scale:s?[1,-1]:[1,1],rotation:Math.PI/2}:{scale:s?[-1,-1]:[-1,1],rotation:Math.PI/2});var r=e.getBoundingRect([o]);e.attr("position",[t.x-r.x,t.y-r.y])},_getViewExtent:function(){return[0,this._size[0]]},_renderBackground:function(){var e=this.dataZoomModel;var t=this._size;this._displayables.barGroup.add(new d({silent:!0,shape:{x:0,y:0,width:t[0],height:t[1]},style:{fill:e.get("backgroundColor")},z2:-40}))},_renderDataShadow:function(){var e=this._dataShadowInfo=this._prepareDataShadowInfo();if(e){var t=this._size;var n=e.series;var i=n.getRawData();var s=n.getShadowDim?n.getShadowDim():e.otherDim;var r=i.getDataExtent(s);var d=.3*(r[1]-r[0]);r=[r[0]-d,r[1]+d];var c=[0,t[1]];var h=[0,t[0]];var p=[[t[0],0],[0,0]];var u=[];var f=h[1]/(i.count()-1);var _=0;var m=Math.round(i.count()/t[0]);i.each([s],function(e,t){if(!(m>0&&t%m)){var n=null==e||isNaN(e)||""===e?null:l(e,r,c,!0);if(null!=n){p.push([_,n]);u.push([_,n])}_+=f}else _+=f});var g=this.dataZoomModel;this._displayables.barGroup.add(new o.Polygon({shape:{points:p},style:a.defaults({fill:g.get("dataBackgroundColor")},g.getModel("dataBackground.areaStyle").getAreaStyle()),silent:!0,z2:-20}));this._displayables.barGroup.add(new o.Polyline({shape:{points:u},style:g.getModel("dataBackground.lineStyle").getLineStyle(),silent:!0,z2:-19}))}},_prepareDataShadowInfo:function(){var e=this.dataZoomModel;var t=e.get("showDataShadow");if(t!==!1){var n;var o=this.ecModel;e.eachTargetAxis(function(s,r){var d=e.getAxisProxy(s.name,r).getTargetSeriesModels();a.each(d,function(e){if(!n)if(!(t!==!0&&a.indexOf(w,e.get("type"))<0)){var d=i(s.name);var c=o.getComponent(s.axis,r).axis;n={thisAxis:c,series:e,thisDim:s.name,otherDim:d,otherAxisInverse:e.coordinateSystem.getOtherAxis(c).inverse}}},this)},this);return n}},_renderHandle:function(){var e=this._displayables;var t=e.handles=[];var n=e.handleLabels=[];var i=this._displayables.barGroup;var a=this._size;var s=this.dataZoomModel;i.add(e.filler=new d({draggable:!0,cursor:"move",drift:f(this._onDragMove,this,"all"),ondragstart:f(this._showDataInfo,this,!0),ondragend:f(this._onDragEnd,this),onmouseover:f(this._showDataInfo,this,!0),onmouseout:f(this._showDataInfo,this,!1),style:{fill:s.get("fillerColor"),textPosition:"inside"}}));i.add(new d(o.subPixelOptimizeRect({silent:!0,shape:{x:0,y:0,width:a[0],height:a[1]},style:{stroke:s.get("dataBackgroundColor")||s.get("borderColor"),lineWidth:g,fill:"rgba(0,0,0,0)"}})));var r=s.get("handleIcon");_([0,1],function(e){var a=o.makePath(r,{style:{strokeNoScale:!0},rectHover:!0,cursor:"vertical"===this._orient?"ns-resize":"ew-resize",draggable:!0,drift:f(this._onDragMove,this,e),ondragend:f(this._onDragEnd,this),onmouseover:f(this._showDataInfo,this,!0),onmouseout:f(this._showDataInfo,this,!1)},{x:-.5,y:0,width:1,height:1},"center");var d=a.getBoundingRect();this._handleHeight=c.parsePercent(s.get("handleSize"),this._size[1]);this._handleWidth=d.width/d.height*this._handleHeight;a.setStyle(s.getModel("handleStyle").getItemStyle());var l=s.get("handleColor");if(null!=l)a.style.fill=l;i.add(t[e]=a);var h=s.textStyleModel;this.group.add(n[e]=new o.Text({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textVerticalAlign:"middle",textAlign:"center",fill:h.getTextColor(),textFont:h.getFont()},z2:10}))},this)},_resetInterval:function(){var e=this._range=this.dataZoomModel.getPercentRange();var t=this._getViewExtent();this._handleEnds=[l(e[0],[0,100],t,!0),l(e[1],[0,100],t,!0)]},_updateInterval:function(e,t){var n=this._handleEnds;var i=this._getViewExtent();p(t,n,i,"all"===e||this.dataZoomModel.get("zoomLock")?"rigid":"cross",e);this._range=u([l(n[0],i,[0,100],!0),l(n[1],i,[0,100],!0)])},_updateView:function(){var e=this._displayables;
var t=this._handleEnds;var n=u(t.slice());var i=this._size;_([0,1],function(n){var a=e.handles[n];var o=this._handleHeight;a.attr({scale:[o,o],position:[t[n],i[1]/2-o/2]})},this);e.filler.setShape({x:n[0],y:0,width:n[1]-n[0],height:i[1]});this._updateDataInfo()},_updateDataInfo:function(){function e(e){var t=o.getTransform(n.handles[e].parent,this.group);var r=o.transformDirection(0===e?"right":"left",t);var d=this._handleWidth/2+C;var l=o.applyTransform([c[e]+(0===e?-d:d),this._size[1]/2],t);i[e].setStyle({x:l[0],y:l[1],textVerticalAlign:a===x?"middle":r,textAlign:a===x?r:"center",text:s[e]})}var t=this.dataZoomModel;var n=this._displayables;var i=n.handleLabels;var a=this._orient;var s=["",""];if(t.get("showDetail")){var r;var d;t.eachTargetAxis(function(e,n){if(!r){r=t.getAxisProxy(e.name,n).getDataValueWindow();d=this.ecModel.getComponent(e.axis,n).axis}},this);if(r)s=[this._formatLabel(r[0],d),this._formatLabel(r[1],d)]}var c=u(this._handleEnds.slice());e.call(this,0);e.call(this,1)},_formatLabel:function(e,t){var n=this.dataZoomModel;var i=n.get("labelFormatter");if(a.isFunction(i))return i(e);var o=n.get("labelPrecision");if(null==o||"auto"===o)o=t.getPixelPrecision();e=null==e&&isNaN(e)?"":"category"===t.type||"time"===t.type?t.scale.getLabel(Math.round(e)):e.toFixed(Math.min(o,20));if(a.isString(i))e=i.replace("{value}",e);return e},_showDataInfo:function(e){e=this._dragging||e;var t=this._displayables.handleLabels;t[0].attr("invisible",!e);t[1].attr("invisible",!e)},_onDragMove:function(e,t,n){this._dragging=!0;var i=this._applyBarTransform([t,n],!0);this._updateInterval(e,i[0]);this._updateView();if(this.dataZoomModel.get("realtime"))this._dispatchZoomAction()},_onDragEnd:function(){this._dragging=!1;this._showDataInfo(!1);this._dispatchZoomAction()},_dispatchZoomAction:function(){var e=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,start:e[0],end:e[1]})},_applyBarTransform:function(e,t){var n=this._displayables.barGroup.getLocalTransform();return o.applyTransform(e,n,t)},_findCoordRect:function(){var e=this.getTargetInfo();var t;if(e.cartesians.length)t=e.cartesians[0].model.coordinateSystem.getRect();else{var n=this.api.getWidth();var i=this.api.getHeight();t={x:.2*n,y:.2*i,width:.6*n,height:.6*i}}return t}});e.exports=I},function(e,t){e.exports=function(e,t,n,i,a){function o(e,t,n){var i=!t.length?[t,t]:t.slice();t[0]>t[1]&&i.reverse();if(e<0&&i[0]+e<n[0])e=n[0]-i[0];if(e>0&&i[1]+e>n[1])e=n[1]-i[1];return e}if(!e)return t;if("rigid"===i){e=o(e,t,n);t[0]+=e;t[1]+=e}else{e=o(e,t[a],n);t[a]+=e;if("push"===i&&t[0]>t[1])t[1-a]=t[a]}return t}},function(e,t,n){e.exports=n(318).extend({type:"dataZoom.inside",defaultOption:{zoomLock:!1}})},function(e,t,n){function i(e,t,n,i){t=t.slice();var a=i.axisModels[0];if(a){var s=o(e,a,n);var r=s.signal*(t[1]-t[0])*s.pixel/s.pixelLength;c(r,t,[0,100],"rigid");return t}}function a(e,t,n,i,a,r){n=n.slice();var d=a.axisModels[0];if(d){var c=o(t,d,i);var l=c.pixel-c.pixelStart;var h=l/c.pixelLength*(n[1]-n[0])+n[0];e=Math.max(e,0);n[0]=(n[0]-h)*e+h;n[1]=(n[1]-h)*e+h;return s(n)}}function o(e,t,n){var i=t.axis;var a=n.rectProvider();var o={};if("x"===i.dim){o.pixel=e[0];o.pixelLength=a.width;o.pixelStart=a.x;o.signal=i.inverse?1:-1}else{o.pixel=e[1];o.pixelLength=a.height;o.pixelStart=a.y;o.signal=i.inverse?-1:1}return o}function s(e){var t=[0,100];!(e[0]<=t[1])&&(e[0]=t[1]);!(e[1]<=t[1])&&(e[1]=t[1]);!(e[0]>=t[0])&&(e[0]=t[0]);!(e[1]>=t[0])&&(e[1]=t[0]);return e}var r=n(321);var d=n(4);var c=n(324);var l=n(327);var h=d.bind;var p=r.extend({type:"dataZoom.inside",init:function(e,t){this._range},render:function(e,t,n,i){p.superApply(this,"render",arguments);if(l.shouldRecordRange(i,e.id))this._range=e.getPercentRange();var a=this.getTargetInfo().cartesians;var o=d.map(a,function(e){return l.generateCoordId(e.model)});d.each(a,function(t){var i=t.model;l.register(n,{coordId:l.generateCoordId(i),allCoordIds:o,coordinateSystem:i.coordinateSystem,dataZoomId:e.id,throttleRate:e.get("throttle",!0),panGetRange:h(this._onPan,this,t),zoomGetRange:h(this._onZoom,this,t)})},this)},dispose:function(){l.unregister(this.api,this.dataZoomModel.id);p.superApply(this,"dispose",arguments);this._range=null},_onPan:function(e,t,n,a){return this._range=i([n,a],this._range,t,e)},_onZoom:function(e,t,n,i,o){var s=this.dataZoomModel;if(s.option.zoomLock)return this._range;else return this._range=a(1/n,[i,o],this._range,t,e,s)}});e.exports=p},function(e,t,n){function i(e){var t=e.getZr();return t[f]||(t[f]={})}function a(e,t,n){var i=new h(e.getZr());i.enable();i.on("pan",u(s,n));i.on("zoom",u(r,n));return i}function o(e){l.each(e,function(t,n){if(!t.count){t.controller.off("pan").off("zoom");delete e[n]}})}function s(e,t,n){d(e,function(i){return i.panGetRange(e.controller,t,n)})}function r(e,t,n,i){d(e,function(a){return a.zoomGetRange(e.controller,t,n,i)})}function d(e,t){var n=[];l.each(e.dataZoomInfos,function(e){var i=t(e);i&&n.push({dataZoomId:e.dataZoomId,start:i[0],end:i[1]})});e.dispatchAction(n)}function c(e,t){e.dispatchAction({type:"dataZoom",batch:t})}var l=n(4);var h=n(174);var p=n(308);var u=l.curry;var f="\0_ec_dataZoom_roams";var _={register:function(e,t){var n=i(e);var s=t.dataZoomId;var r=t.coordId;l.each(n,function(e,n){var i=e.dataZoomInfos;if(i[s]&&l.indexOf(t.allCoordIds,r)<0){delete i[s];e.count--}});o(n);var d=n[r];if(!d){d=n[r]={coordId:r,dataZoomInfos:{},count:0};d.controller=a(e,t,d);d.dispatchAction=l.curry(c,e)}var h=t.coordinateSystem.getRect().clone();d.controller.rectProvider=function(){return h};p.createOrUpdate(d,"dispatchAction",t.throttleRate,"fixRate");!d.dataZoomInfos[s]&&d.count++;d.dataZoomInfos[s]=t},unregister:function(e,t){var n=i(e);l.each(n,function(e){var n=e.dataZoomInfos;if(n[t]){delete n[t];e.count--}});o(n)},shouldRecordRange:function(e,t){if(e&&"dataZoom"===e.type&&e.batch)for(var n=0,i=e.batch.length;n<i;n++)if(e.batch[n].dataZoomId===t)return!1;return!0},generateCoordId:function(e){return e.type+"\0_"+e.id}};e.exports=_},function(e,t,n){function i(e,t,n){n.getAxisProxy(e.name,t).reset(n)}function a(e,t,n){n.getAxisProxy(e.name,t).filterData(n)}var o=n(1);o.registerProcessor(function(e,t){e.eachComponent("dataZoom",function(e){e.eachTargetAxis(i);e.eachTargetAxis(a)});e.eachComponent("dataZoom",function(e){var t=e.findRepresentativeAxisProxy();var n=t.getDataPercentWindow();var i=t.getDataValueWindow();e.setRawRange({start:n[0],end:n[1],startValue:i[0],endValue:i[1]})})})},function(e,t,n){var i=n(4);var a=n(319);var o=n(1);o.registerAction("dataZoom",function(e,t){var n=a.createLinkedNodesFinder(i.bind(t.eachComponent,t,"dataZoom"),a.eachAxisDim,function(e,t){return e.get(t.axisIndex)});var o=[];t.eachComponent({mainType:"dataZoom",query:e},function(e,t){o.push.apply(o,n(e).nodes)});i.each(o,function(t,n){t.setRawRange({start:e.start,end:e.end,startValue:e.startValue,endValue:e.endValue})})})},function(e,t,n){n(331);n(342)},function(e,t,n){n(1).registerPreprocessor(n(332));n(333);n(334);n(335);n(338);n(341)},function(e,t,n){function i(e,t){return e&&e.hasOwnProperty&&e.hasOwnProperty(t)}var a=n(4);var o=a.each;e.exports=function(e){var t=e&&e.visualMap;if(!a.isArray(t))t=t?[t]:[];o(t,function(e){if(e){if(i(e,"splitList")&&!i(e,"pieces")){e.pieces=e.splitList;delete e.splitList}var t=e.pieces;if(t&&a.isArray(t))o(t,function(e){if(a.isObject(e)){if(i(e,"start")&&!i(e,"min"))e.min=e.start;if(i(e,"end")&&!i(e,"max"))e.max=e.end}})}})}},function(e,t,n){n(19).registerSubTypeDefaulter("visualMap",function(e){return!e.categories&&(!(e.pieces?e.pieces.length>0:e.splitNumber>0)||e.calculable)?"continuous":"piecewise"})},function(e,t,n){function i(e,t){e.eachTargetSeries(function(t){var n=t.getData();r.applyVisual(e.stateList,e.targetVisuals,n,e.getValueState,e,e.getDataDimension(n))})}function a(e){e.eachSeries(function(t){var n=t.getData();var i=[];e.eachComponent("visualMap",function(e){if(e.isTargetSeries(t)){var a={};i.push(a);a.stops=e.getStops(t,o);a.dimension=e.getDataDimension(n)}});t.getData().setVisual("visualMeta",i)})}function o(e,t,n){function i(e){return r[e]}function a(e,t){r[e]=t}var o=e.targetVisuals[n];var s=d.prepareVisualTypes(o);var r={};for(var c=0,l=s.length;c<l;c++){var h=s[c];var p=o["colorAlpha"===h?"__alphaForOpacity":h];p&&p.applyVisual(t,i,a)}return r.color}var s=n(1);var r=n(306);var d=n(192);s.registerVisual(s.PRIORITY.VISUAL.COMPONENT,function(e){e.eachComponent("visualMap",function(t){i(t,e)});a(e)})},function(e,t,n){function i(e,t,n){var i=e.targetVisuals[t].color;if(!i)return n.slice();var a=i.option.visual.length;if(a<=1||n[0]===n[1])return n.slice();var o=(n[1]-n[0])/(a-1);var s=n[0];var r=[];for(var d=0;d<a&&s<n[1];d++){r.push(s);s+=o}r.push(n[1]);return r}function a(e,t,n,a){var o=i(e,t,n);s.each(o,function(e){var n={value:e,valueState:t};var i=0;for(var o=0;o<a.length;o++){i|="inRange"===a[o].valueState;if(e<a[o].value){a.splice(o,0,n);return}i&&(a[o].valueState="inRange")}a.push(n)})}var o=n(336);var s=n(4);var r=n(7);var d=[20,140];var c=o.extend({type:"visualMap.continuous",defaultOption:{align:"auto",calculable:!1,range:null,realtime:!0,itemHeight:null,itemWidth:null,hoverLink:!0,hoverLinkDataSize:null,hoverLinkOnHandle:!0},optionUpdated:function(e,t){c.superApply(this,"optionUpdated",arguments);this.resetTargetSeries();this.resetExtent();this.resetVisual(function(e){e.mappingMethod="linear";e.dataExtent=this.getExtent()});this._resetRange()},resetItemSize:function(){c.superApply(this,"resetItemSize",arguments);var e=this.itemSize;"horizontal"===this._orient&&e.reverse();(null==e[0]||isNaN(e[0]))&&(e[0]=d[0]);(null==e[1]||isNaN(e[1]))&&(e[1]=d[1])},_resetRange:function(){var e=this.getExtent();var t=this.option.range;if(!t||t.auto){e.auto=1;this.option.range=e}else if(s.isArray(t)){if(t[0]>t[1])t.reverse();t[0]=Math.max(t[0],e[0]);t[1]=Math.min(t[1],e[1])}},completeVisualOption:function(){o.prototype.completeVisualOption.apply(this,arguments);s.each(this.stateList,function(e){
var t=this.option.controller[e].symbolSize;if(t&&t[0]!==t[1])t[0]=0},this)},setSelected:function(e){this.option.range=e.slice();this._resetRange()},getSelected:function(){var e=this.getExtent();var t=r.asc((this.get("range")||[]).slice());t[0]>e[1]&&(t[0]=e[1]);t[1]>e[1]&&(t[1]=e[1]);t[0]<e[0]&&(t[0]=e[0]);t[1]<e[0]&&(t[1]=e[0]);return t},getValueState:function(e){var t=this.option.range;var n=this.getExtent();return(t[0]<=n[0]||t[0]<=e)&&(t[1]>=n[1]||e<=t[1])?"inRange":"outOfRange"},findTargetDataIndices:function(e){var t=[];this.eachTargetSeries(function(n){var i=[];var a=n.getData();a.each(this.getDataDimension(a),function(t,n){e[0]<=t&&t<=e[1]&&i.push(n)},!0,this);t.push({seriesId:n.id,dataIndex:i})},this);return t},getStops:function(e,t){var n=[];a(this,"outOfRange",this.getExtent(),n);a(this,"inRange",this.option.range.slice(),n);s.each(n,function(e){e.color=t(this,e.value,e.valueState)},this);return n}});e.exports=c},function(e,t,n){var i=n(1);var a=n(4);var o=n(2);var s=n(337);var r=n(192);var d=n(306);var c=r.mapVisual;var l=n(5);var h=r.eachVisual;var p=n(7);var u=a.isArray;var f=a.each;var _=p.asc;var m=p.linearMap;var g=a.noop;var b=["#f6efa6","#d88273","#bf444c"];var x=i.extendComponentModel({type:"visualMap",dependencies:["series"],stateList:["inRange","outOfRange"],replacableOptionKeys:["inRange","outOfRange","target","controller","color"],dataBound:[-(1/0),1/0],layoutMode:{type:"box",ignoreSize:!0},defaultOption:{show:!0,zlevel:0,z:4,seriesIndex:null,min:0,max:200,dimension:null,inRange:null,outOfRange:null,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,color:null,formatter:null,text:null,textStyle:{color:"#333"}},init:function(e,t,n){this._dataExtent;this.targetVisuals={};this.controllerVisuals={};this.textStyleModel;this.itemSize;this.mergeDefaultAndTheme(e,n)},optionUpdated:function(e,t){var n=this.option;if(!o.canvasSupported)n.realtime=!1;!t&&d.replaceVisualOption(n,e,this.replacableOptionKeys);this.textStyleModel=this.getModel("textStyle");this.resetItemSize();this.completeVisualOption()},resetVisual:function(e){var t=this.stateList;e=a.bind(e,this);this.controllerVisuals=d.createVisualMappings(this.option.controller,t,e);this.targetVisuals=d.createVisualMappings(this.option.target,t,e)},resetTargetSeries:function(){var e=this.option;var t=null==e.seriesIndex;e.seriesIndex=t?[]:l.normalizeToArray(e.seriesIndex);t&&this.ecModel.eachSeries(function(t,n){e.seriesIndex.push(n)})},eachTargetSeries:function(e,t){a.each(this.option.seriesIndex,function(n){e.call(t,this.ecModel.getSeriesByIndex(n))},this)},isTargetSeries:function(e){var t=!1;this.eachTargetSeries(function(n){n===e&&(t=!0)});return t},formatValueText:function(e,t,n){function i(e){return e===r[0]?"min":e===r[1]?"max":(+e).toFixed(s)}var o=this.option;var s=o.precision;var r=this.dataBound;var d=o.formatter;var c;var l;n=n||["<",">"];if(a.isArray(e)){e=e.slice();c=!0}l=t?e:c?[i(e[0]),i(e[1])]:i(e);if(a.isString(d))return d.replace("{value}",c?l[0]:l).replace("{value2}",c?l[1]:l);else if(a.isFunction(d))return c?d(e[0],e[1]):d(e);if(c)if(e[0]===r[0])return n[0]+" "+l[1];else if(e[1]===r[1])return n[1]+" "+l[0];else return l[0]+" - "+l[1];else return l},resetExtent:function(){var e=this.option;var t=_([e.min,e.max]);this._dataExtent=t},getDataDimension:function(e){var t=this.option.dimension;return null!=t?t:e.dimensions.length-1},getExtent:function(){return this._dataExtent.slice()},completeVisualOption:function(){function e(e){if(u(i.color)&&!e.inRange)e.inRange={color:i.color.slice().reverse()};e.inRange=e.inRange||{color:b};f(this.stateList,function(t){var n=e[t];if(a.isString(n)){var i=s.get(n,"active",p);if(i){e[t]={};e[t][n]=i}else delete e[t]}},this)}function t(e,t,n){var i=e[t];var a=e[n];if(i&&!a){a=e[n]={};f(i,function(e,t){if(r.isValidType(t)){var n=s.get(t,"inactive",p);if(null!=n){a[t]=n;if("color"===t&&!a.hasOwnProperty("opacity")&&!a.hasOwnProperty("colorAlpha"))a.opacity=[0,0]}}})}}function n(e){var t=(e.inRange||{}).symbol||(e.outOfRange||{}).symbol;var n=(e.inRange||{}).symbolSize||(e.outOfRange||{}).symbolSize;var i=this.get("inactiveColor");f(this.stateList,function(o){var s=this.itemSize;var r=e[o];if(!r)r=e[o]={color:p?i:[i]};if(null==r.symbol)r.symbol=t&&a.clone(t)||(p?"roundRect":["roundRect"]);if(null==r.symbolSize)r.symbolSize=n&&a.clone(n)||(p?s[0]:[s[0],s[0]]);r.symbol=c(r.symbol,function(e){return"none"===e||"square"===e?"roundRect":e});var d=r.symbolSize;if(null!=d){var l=-(1/0);h(d,function(e){e>l&&(l=e)});r.symbolSize=c(d,function(e){return m(e,[0,l],[0,s[0]],!0)})}},this)}var i=this.option;var o={inRange:i.inRange,outOfRange:i.outOfRange};var d=i.target||(i.target={});var l=i.controller||(i.controller={});a.merge(d,o);a.merge(l,o);var p=this.isCategory();e.call(this,d);e.call(this,l);t.call(this,d,"inRange","outOfRange");n.call(this,l)},resetItemSize:function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},isCategory:function(){return!!this.option.categories},setSelected:g,getValueState:g});e.exports=x},function(e,t,n){var i=n(4);var a={get:function(e,t,n){var a=i.clone((o[e]||{})[t]);return n?i.isArray(a)?a[a.length-1]:a:a}};var o={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}};e.exports=a},function(e,t,n){function i(e,t,n,i){return new c.Polygon({shape:{points:e},draggable:!!n,cursor:t,drift:n,ondragend:i})}function a(e,t){return 0===e?[[0,0],[t,0],[t,-t]]:[[0,0],[t,0],[t,t]]}function o(e,t,n,i){return e?[[0,-b(t,x(n,0))],[C,0],[0,b(t,x(i-n,0))]]:[[0,0],[5,-5],[5,5]]}function s(e,t,n){var i=v/2;var a=e.get("hoverLinkDataSize");if(a)i=m(a,t,n,!0)/2;return i}function r(e){return!e.get("realtime")&&e.get("hoverLinkOnHandle")}var d=n(339);var c=n(43);var l=n(4);var h=n(7);var p=n(324);var u=n(79);var f=n(340);var _=n(5);var m=h.linearMap;var g=l.each;var b=Math.min;var x=Math.max;var v=12;var C=6;var w=d.extend({type:"visualMap.continuous",init:function(){w.superApply(this,"init",arguments);this._shapes={};this._dataInterval=[];this._handleEnds=[];this._orient;this._useHandle;this._hoverLinkDataIndices=[];this._dragging;this._hovering},doRender:function(e,t,n,i){if(!i||"selectDataRange"!==i.type||i.from!==this.uid)this._buildView()},_buildView:function(){this.group.removeAll();var e=this.visualMapModel;var t=this.group;this._orient=e.get("orient");this._useHandle=e.get("calculable");this._resetInterval();this._renderBar(t);var n=e.get("text");this._renderEndsText(t,n,0);this._renderEndsText(t,n,1);this._updateView(!0);this.renderBackground(t);this._updateView();this._enableHoverLinkToSeries();this._enableHoverLinkFromSeries();this.positionGroup(t)},_renderEndsText:function(e,t,n){if(t){var i=t[1-n];i=null!=i?i+"":"";var a=this.visualMapModel;var o=a.get("textGap");var s=a.itemSize;var r=this._shapes.barGroup;var d=this._applyTransform([s[0]/2,0===n?-o:s[1]+o],r);var l=this._applyTransform(0===n?"bottom":"top",r);var h=this._orient;var p=this.visualMapModel.textStyleModel;this.group.add(new c.Text({style:{x:d[0],y:d[1],textVerticalAlign:"horizontal"===h?"middle":l,textAlign:"horizontal"===h?l:"center",text:i,textFont:p.getFont(),fill:p.getTextColor()}}))}},_renderBar:function(e){var t=this.visualMapModel;var n=this._shapes;var a=t.itemSize;var o=this._orient;var s=this._useHandle;var r=f.getItemAlign(t,this.api,a);var d=n.barGroup=this._createBarGroup(r);d.add(n.outOfRange=i());d.add(n.inRange=i(null,s?"move":null,l.bind(this._dragHandle,this,"all",!1),l.bind(this._dragHandle,this,"all",!0)));var c=t.textStyleModel.getTextRect("国");var h=x(c.width,c.height);if(s){n.handleThumbs=[];n.handleLabels=[];n.handleLabelPoints=[];this._createHandle(d,0,a,h,o,r);this._createHandle(d,1,a,h,o,r)}this._createIndicator(d,a,h,o);e.add(d)},_createHandle:function(e,t,n,o,s){var r=l.bind(this._dragHandle,this,t,!1);var d=l.bind(this._dragHandle,this,t,!0);var h=i(a(t,o),"move",r,d);h.position[0]=n[0];e.add(h);var p=this.visualMapModel.textStyleModel;var u=new c.Text({draggable:!0,drift:r,ondragend:d,style:{x:0,y:0,text:"",textFont:p.getFont(),fill:p.getTextColor()}});this.group.add(u);var f=["horizontal"===s?o/2:1.5*o,"horizontal"===s?0===t?-(1.5*o):1.5*o:0===t?-o/2:o/2];var _=this._shapes;_.handleThumbs[t]=h;_.handleLabelPoints[t]=f;_.handleLabels[t]=u},_createIndicator:function(e,t,n,a){var o=i([[0,0]],"move");o.position[0]=t[0];o.attr({invisible:!0,silent:!0});e.add(o);var s=this.visualMapModel.textStyleModel;var r=new c.Text({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textFont:s.getFont(),fill:s.getTextColor()}});this.group.add(r);var d=["horizontal"===a?n/2:C+3,0];var l=this._shapes;l.indicator=o;l.indicatorLabel=r;l.indicatorLabelPoint=d},_dragHandle:function(e,t,n,i){if(this._useHandle){this._dragging=!t;if(!t){var a=this._applyTransform([n,i],this._shapes.barGroup,!0);this._updateInterval(e,a[1]);this._updateView()}if(t===!this.visualMapModel.get("realtime"))this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()});if(t)!this._hovering&&this._clearHoverLinkToSeries();else if(r(this.visualMapModel))this._doHoverLinkToSeries(this._handleEnds[e],!1)}},_resetInterval:function(){var e=this.visualMapModel;var t=this._dataInterval=e.getSelected();var n=e.getExtent();var i=[0,e.itemSize[1]];this._handleEnds=[m(t[0],n,i,!0),m(t[1],n,i,!0)]},_updateInterval:function(e,t){t=t||0;var n=this.visualMapModel;var i=this._handleEnds;p(t,i,[0,n.itemSize[1]],"all"===e?"rigid":"push",e);var a=n.getExtent();
var o=[0,n.itemSize[1]];this._dataInterval=[m(i[0],o,a,!0),m(i[1],o,a,!0)]},_updateView:function(e){var t=this.visualMapModel;var n=t.getExtent();var i=this._shapes;var a=[0,t.itemSize[1]];var o=e?a:this._handleEnds;var s=this._createBarVisual(this._dataInterval,n,o,"inRange");var r=this._createBarVisual(n,n,a,"outOfRange");i.inRange.setStyle({fill:s.barColor,opacity:s.opacity}).setShape("points",s.barPoints);i.outOfRange.setStyle({fill:r.barColor,opacity:r.opacity}).setShape("points",r.barPoints);this._updateHandle(o,s)},_createBarVisual:function(e,t,n,i){var a={forceState:i,convertOpacityToAlpha:!0};var o=this._makeColorGradient(e,a);var s=[this.getControllerVisual(e[0],"symbolSize",a),this.getControllerVisual(e[1],"symbolSize",a)];var r=this._createBarPoints(n,s);return{barColor:new u(0,0,0,1,o),barPoints:r,handlesColor:[o[0].color,o[o.length-1].color]}},_makeColorGradient:function(e,t){var n=100;var i=[];var a=(e[1]-e[0])/n;i.push({color:this.getControllerVisual(e[0],"color",t),offset:0});for(var o=1;o<n;o++){var s=e[0]+a*o;if(s>e[1])break;i.push({color:this.getControllerVisual(s,"color",t),offset:o/n})}i.push({color:this.getControllerVisual(e[1],"color",t),offset:1});return i},_createBarPoints:function(e,t){var n=this.visualMapModel.itemSize;return[[n[0]-t[0],e[0]],[n[0],e[0]],[n[0],e[1]],[n[0]-t[1],e[1]]]},_createBarGroup:function(e){var t=this._orient;var n=this.visualMapModel.get("inverse");return new c.Group("horizontal"===t&&!n?{scale:"bottom"===e?[1,1]:[-1,1],rotation:Math.PI/2}:"horizontal"===t&&n?{scale:"bottom"===e?[-1,1]:[1,1],rotation:-Math.PI/2}:"vertical"===t&&!n?{scale:"left"===e?[1,-1]:[-1,-1]}:{scale:"left"===e?[1,1]:[-1,1]})},_updateHandle:function(e,t){if(this._useHandle){var n=this._shapes;var i=this.visualMapModel;var a=n.handleThumbs;var o=n.handleLabels;g([0,1],function(s){var r=a[s];r.setStyle("fill",t.handlesColor[s]);r.position[1]=e[s];var d=c.applyTransform(n.handleLabelPoints[s],c.getTransform(r,this.group));o[s].setStyle({x:d[0],y:d[1],text:i.formatValueText(this._dataInterval[s]),textVerticalAlign:"middle",textAlign:this._applyTransform("horizontal"===this._orient?0===s?"bottom":"top":"left",n.barGroup)})},this)}},_showIndicator:function(e,t,n,i){var a=this.visualMapModel;var s=a.getExtent();var r=a.itemSize;var d=[0,r[1]];var l=m(e,s,d,!0);var h=this._shapes;var p=h.indicator;if(p){p.position[1]=l;p.attr("invisible",!1);p.setShape("points",o(!!n,i,l,r[1]));var u={convertOpacityToAlpha:!0};var f=this.getControllerVisual(e,"color",u);p.setStyle("fill",f);var _=c.applyTransform(h.indicatorLabelPoint,c.getTransform(p,this.group));var g=h.indicatorLabel;g.attr("invisible",!1);var b=this._applyTransform("left",h.barGroup);var x=this._orient;g.setStyle({text:(n?n:"")+a.formatValueText(t),textVerticalAlign:"horizontal"===x?b:"middle",textAlign:"horizontal"===x?"center":b,x:_[0],y:_[1]})}},_enableHoverLinkToSeries:function(){var e=this;this._shapes.barGroup.on("mousemove",function(t){e._hovering=!0;if(!e._dragging){var n=e.visualMapModel.itemSize;var i=e._applyTransform([t.offsetX,t.offsetY],e._shapes.barGroup,!0,!0);i[1]=b(x(0,i[1]),n[1]);e._doHoverLinkToSeries(i[1],0<=i[0]&&i[0]<=n[0])}}).on("mouseout",function(){e._hovering=!1;!e._dragging&&e._clearHoverLinkToSeries()})},_enableHoverLinkFromSeries:function(){var e=this.api.getZr();if(this.visualMapModel.option.hoverLink){e.on("mouseover",this._hoverLinkFromSeriesMouseOver,this);e.on("mouseout",this._hideIndicator,this)}else this._clearHoverLinkFromSeries()},_doHoverLinkToSeries:function(e,t){var n=this.visualMapModel;var i=n.itemSize;if(n.option.hoverLink){var a=[0,i[1]];var o=n.getExtent();e=b(x(a[0],e),a[1]);var d=s(n,o,a);var c=[e-d,e+d];var l=m(e,a,o,!0);var h=[m(c[0],a,o,!0),m(c[1],a,o,!0)];c[0]<a[0]&&(h[0]=-(1/0));c[1]>a[1]&&(h[1]=1/0);if(t)if(h[0]===-(1/0))this._showIndicator(l,h[1],"< ",d);else if(h[1]===1/0)this._showIndicator(l,h[0],"> ",d);else this._showIndicator(l,l,"≈ ",d);var p=this._hoverLinkDataIndices;var u=[];if(t||r(n))u=this._hoverLinkDataIndices=n.findTargetDataIndices(h);var f=_.compressBatches(p,u);this._dispatchHighDown("downplay",f[0]);this._dispatchHighDown("highlight",f[1])}},_hoverLinkFromSeriesMouseOver:function(e){var t=e.target;if(t&&null!=t.dataIndex){var n=t.dataModel||this.ecModel.getSeriesByIndex(t.seriesIndex);var i=n.getData(t.dataType);var a=i.getDimension(this.visualMapModel.getDataDimension(i));var o=i.get(a,t.dataIndex,!0);if(!isNaN(o))this._showIndicator(o,o)}},_hideIndicator:function(){var e=this._shapes;e.indicator&&e.indicator.attr("invisible",!0);e.indicatorLabel&&e.indicatorLabel.attr("invisible",!0)},_clearHoverLinkToSeries:function(){this._hideIndicator();var e=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",e);e.length=0},_clearHoverLinkFromSeries:function(){this._hideIndicator();var e=this.api.getZr();e.off("mouseover",this._hoverLinkFromSeriesMouseOver);e.off("mouseout",this._hideIndicator)},_applyTransform:function(e,t,n,i){var a=c.getTransform(t,i?null:this.group);return c[l.isArray(e)?"applyTransform":"transformDirection"](e,a,n)},_dispatchHighDown:function(e,t){t&&t.length&&this.api.dispatchAction({type:e,batch:t})},dispose:function(){this._clearHoverLinkFromSeries();this._clearHoverLinkToSeries()},remove:function(){this._clearHoverLinkFromSeries();this._clearHoverLinkToSeries()}});e.exports=w},function(e,t,n){var i=n(4);var a=n(43);var o=n(6);var s=n(21);var r=n(1);var d=n(192);e.exports=r.extendComponentView({type:"visualMap",autoPositionValues:{left:1,right:1,top:1,bottom:1},init:function(e,t){this.ecModel=e;this.api=t;this.visualMapModel},render:function(e,t,n,i){this.visualMapModel=e;if(e.get("show")!==!1)this.doRender.apply(this,arguments);else this.group.removeAll()},renderBackground:function(e){var t=this.visualMapModel;var n=o.normalizeCssArray(t.get("padding")||0);var i=e.getBoundingRect();e.add(new a.Rect({z2:-1,silent:!0,shape:{x:i.x-n[3],y:i.y-n[0],width:i.width+n[3]+n[1],height:i.height+n[0]+n[2]},style:{fill:t.get("backgroundColor"),stroke:t.get("borderColor"),lineWidth:t.get("borderWidth")}}))},getControllerVisual:function(e,t,n){function a(e){return c[e]}function o(e,t){c[e]=t}n=n||{};var s=n.forceState;var r=this.visualMapModel;var c={};if("symbol"===t)c.symbol=r.get("itemSymbol");if("color"===t){var l=r.get("contentColor");c.color=l}var h=r.controllerVisuals[s||r.getValueState(e)];var p=d.prepareVisualTypes(h);i.each(p,function(i){var s=h[i];if(n.convertOpacityToAlpha&&"opacity"===i){i="colorAlpha";s=h.__alphaForOpacity}if(d.dependsOn(i,t))s&&s.applyVisual(e,a,o)});return c[t]},positionGroup:function(e){var t=this.visualMapModel;var n=this.api;s.positionGroup(e,t.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})},doRender:i.noop})},function(e,t,n){var i=n(21);var a={getItemAlign:function(e,t,n){var a=e.option;var o=a.align;if(null!=o&&"auto"!==o)return o;var s={width:t.getWidth(),height:t.getHeight()};var r="horizontal"===a.orient?1:0;var d=[["left","right","width"],["top","bottom","height"]];var c=d[r];var l=[0,null,10];var h={};for(var p=0;p<3;p++){h[d[1-r][p]]=l[p];h[c[p]]=2===p?n[0]:a[c[p]]}var u=[["x","width",3],["y","height",0]][r];var f=i.getLayoutRect(h,s,a.padding);return c[(f.margin[u[2]]||0)+f[u[0]]+.5*f[u[1]]<.5*s[u[1]]?0:1]}};e.exports=a},function(e,t,n){var i=n(1);var a={type:"selectDataRange",event:"dataRangeSelected",update:"update"};i.registerAction(a,function(e,t){t.eachComponent({mainType:"visualMap",query:e},function(t){t.setSelected(e.selected)})})},function(e,t,n){n(1).registerPreprocessor(n(332));n(333);n(334);n(343);n(344);n(341)},function(e,t,n){function i(e,t){var n=e.inverse;if("vertical"===e.orient?!n:n)t.reverse()}function a(e){function t(e,n,i){i=i||0;return e.interval[i]<n.interval[i]||e.interval[i]===n.interval[i]&&(+e.close[i]>n.close[i]||t(e,n,1))}e.sort(function(e,n){return t(e,n)?-1:1});var n=-(1/0);for(var i=0;i<e.length;i++){var a=e[i].interval;var o=e[i].close;for(var s=0;s<2;s++){if(a[s]<n){a[s]=n;o[s]=1-s}n=a[s]}}}var o=n(336);var s=n(4);var r=n(192);var d=o.extend({type:"visualMap.piecewise",defaultOption:{selected:null,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieceList:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0},optionUpdated:function(e,t){d.superApply(this,"optionUpdated",arguments);this._pieceList=[];this.resetTargetSeries();this.resetExtent();var n=this._mode=this._determineMode();c[this._mode].call(this);this._resetSelected(e,t);var i=this.option.categories;this.resetVisual(function(e,t){if("categories"===n){e.mappingMethod="category";e.categories=s.clone(i)}else{e.dataExtent=this.getExtent();e.mappingMethod="piecewise";e.pieceList=s.map(this._pieceList,function(e){var e=s.clone(e);if("inRange"!==t)e.visual=null;return e})}})},_resetSelected:function(e,t){var n=this.option;var i=this._pieceList;var a=(t?n:e).selected||{};n.selected=a;s.each(i,function(e,t){var n=this.getSelectedMapKey(e);if(!(n in a))a[n]=!0},this);if("single"===n.selectedMode){var o=!1;s.each(i,function(e,t){var n=this.getSelectedMapKey(e);if(a[n])o?a[n]=!1:o=!0},this)}},getSelectedMapKey:function(e){return"categories"===this._mode?e.value+"":e.index+""},getPieceList:function(){return this._pieceList},_determineMode:function(){var e=this.option;return e.pieces&&e.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},setSelected:function(e){this.option.selected=s.clone(e)},getValueState:function(e){var t=r.findPieceIndex(e,this._pieceList);return null!=t?this.option.selected[this.getSelectedMapKey(this._pieceList[t])]?"inRange":"outOfRange":"outOfRange"},findTargetDataIndices:function(e){var t=[];this.eachTargetSeries(function(n){var i=[];var a=n.getData();a.each(this.getDataDimension(a),function(t,n){var a=r.findPieceIndex(t,this._pieceList);a===e&&i.push(n)},!0,this);t.push({seriesId:n.id,dataIndex:i})},this);return t},getRepresentValue:function(e){var t;if(this.isCategory())t=e.value;else if(null!=e.value)t=e.value;else{var n=e.interval||[];
t=(n[0]+n[1])/2}return t},getStops:function(e,t){function n(e){i.push(e);e.color=t(a,a.getRepresentValue(e),e.valueState)}var i=[];var a=this;var o=-(1/0);s.each(this._pieceList,function(e){var t=e.interval;if(t){t[0]>o&&n({interval:[o,t[0]],valueState:"outOfRange"});n({interval:t.slice(),valueState:this.getValueState((t[0]+t[1])/2)});o=t[1]}},this);return i}});var c={splitNumber:function(){var e=this.option;var t=this._pieceList;var n=e.precision;var i=this.getExtent();var o=e.splitNumber;o=Math.max(parseInt(o,10),1);e.splitNumber=o;var r=(i[1]-i[0])/o;for(;+r.toFixed(n)!==r&&n<5;)n++;e.precision=n;r=+r.toFixed(n);for(var d=0,c=i[0];d<o;d++,c+=r){var l=d===o-1?i[1]:c+r;t.push({index:d,interval:[c,l],close:[1,1]})}a(t);s.each(t,function(e){e.text=this.formatValueText(e.interval)},this)},categories:function(){var e=this.option;s.each(e.categories,function(e){this._pieceList.push({text:this.formatValueText(e,!0),value:e})},this);i(e,this._pieceList)},pieces:function(){var e=this.option;var t=this._pieceList;s.each(e.pieces,function(e,n){if(!s.isObject(e))e={value:e};var i={text:"",index:n};if(null!=e.label)i.text=e.label;if(e.hasOwnProperty("value")){var a=i.value=e.value;i.interval=[a,a];i.close=[1,1]}else{var o=i.interval=[];var d=i.close=[0,0];var c=[1,0,1];var l=[-(1/0),1/0];var h=[];for(var p=0;p<2;p++){var u=[["gte","gt","min"],["lte","lt","max"]][p];for(var f=0;f<3&&null==o[p];f++){o[p]=e[u[f]];d[p]=c[f];h[p]=2===f}null==o[p]&&(o[p]=l[p])}h[0]&&o[1]===1/0&&(d[0]=0);h[1]&&o[0]===-(1/0)&&(d[1]=0);if(!0)if(o[0]>o[1])console.warn("Piece "+n+"is illegal: "+o+" lower bound should not greater then uppper bound.");if(o[0]===o[1]&&d[0]&&d[1])i.value=o[0]}i.visual=r.retrieveVisuals(e);t.push(i)},this);i(e,t);a(t);s.each(t,function(e){var t=e.close;var n=[["<","≤"][t[1]],[">","≥"][t[0]]];e.text=e.text||this.formatValueText(null!=e.value?e.value:e.interval,!1,n)},this)}};e.exports=d},function(e,t,n){var i=n(339);var a=n(4);var o=n(43);var s=n(106);var r=n(21);var d=n(340);var c=i.extend({type:"visualMap.piecewise",doRender:function(){function e(e){var s=e.piece;var r=new o.Group;r.onclick=a.bind(this._onItemClick,this,s);this._enableHoverLink(r,e.indexInModelPieceList);var p=n.getRepresentValue(s);this._createItemSymbol(r,p,[0,0,h[0],h[1]]);if(u){var f=this.visualMapModel.getValueState(p);r.add(new o.Text({style:{x:"right"===l?-i:h[0]+i,y:h[1]/2,text:s.text,textVerticalAlign:"middle",textAlign:l,textFont:d,fill:c,opacity:"outOfRange"===f?.5:1}}))}t.add(r)}var t=this.group;t.removeAll();var n=this.visualMapModel;var i=n.get("textGap");var s=n.textStyleModel;var d=s.getFont();var c=s.getTextColor();var l=this._getItemAlign();var h=n.itemSize;var p=this._getViewData();var u=!p.endsText;var f=!u;f&&this._renderEndsText(t,p.endsText[0],h);a.each(p.viewPieceList,e,this);f&&this._renderEndsText(t,p.endsText[1],h);r.box(n.get("orient"),t,n.get("itemGap"));this.renderBackground(t);this.positionGroup(t)},_enableHoverLink:function(e,t){function n(e){var n=this.visualMapModel;n.option.hoverLink&&this.api.dispatchAction({type:e,batch:n.findTargetDataIndices(t)})}e.on("mouseover",a.bind(n,this,"highlight")).on("mouseout",a.bind(n,this,"downplay"))},_getItemAlign:function(){var e=this.visualMapModel;var t=e.option;if("vertical"===t.orient)return d.getItemAlign(e,this.api,e.itemSize);else{var n=t.align;if(!n||"auto"===n)n="left";return n}},_renderEndsText:function(e,t,n){if(t){var i=new o.Group;var a=this.visualMapModel.textStyleModel;i.add(new o.Text({style:{x:n[0]/2,y:n[1]/2,textVerticalAlign:"middle",textAlign:"center",text:t,textFont:a.getFont(),fill:a.getTextColor()}}));e.add(i)}},_getViewData:function(){var e=this.visualMapModel;var t=a.map(e.getPieceList(),function(e,t){return{piece:e,indexInModelPieceList:t}});var n=e.get("text");var i=e.get("orient");var o=e.get("inverse");if("horizontal"===i?o:!o)t.reverse();else if(n)n=n.slice().reverse();return{viewPieceList:t,endsText:n}},_createItemSymbol:function(e,t,n){e.add(s.createSymbol(this.getControllerVisual(t,"symbol"),n[0],n[1],n[2],n[3],this.getControllerVisual(t,"color")))},_onItemClick:function(e){var t=this.visualMapModel;var n=t.option;var i=a.clone(n.selected);var o=t.getSelectedMapKey(e);if("single"===n.selectedMode){i[o]=!0;a.each(i,function(e,t){i[t]=t===o})}else i[o]=!i[o];this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:i})}});e.exports=c},function(e,t,n){n(346);n(348);n(1).registerPreprocessor(function(e){e.markPoint=e.markPoint||{}})},function(e,t,n){e.exports=n(347).extend({type:"markPoint",defaultOption:{zlevel:0,z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{normal:{show:!0,position:"inside"},emphasis:{show:!0}},itemStyle:{normal:{borderWidth:2}}}})},function(e,t,n){function i(e){a.defaultEmphasis(e.label,a.LABEL_OPTIONS)}var a=n(5);var o=n(4);var s=n(2);var r=n(6);var d=r.addCommas;var c=r.encodeHTML;var l=n(1).extendComponentModel({type:"marker",dependencies:["series","grid","polar","geo"],init:function(e,t,n,i){if(!0)if("marker"===this.type)throw new Error("Marker component is abstract component. Use markLine, markPoint, markArea instead.");this.mergeDefaultAndTheme(e,n);this.mergeOption(e,n,i.createdBySelf,!0)},ifEnableAnimation:function(){if(s.node)return!1;var e=this.__hostSeries;return this.getShallow("animation")&&e&&e.ifEnableAnimation()},mergeOption:function(e,t,n,a){var s=this.constructor;var r=this.mainType+"Model";if(!n)t.eachSeries(function(e){var n=e.get(this.mainType);var d=e[r];if(n&&n.data){if(!d){if(a)i(n);o.each(n.data,function(e){if(e instanceof Array){i(e[0]);i(e[1])}else i(e)});var c={mainType:this.mainType,seriesIndex:e.seriesIndex,name:e.name,createdBySelf:!0};d=new s(n,this,t,c);d.__hostSeries=e}else d.mergeOption(n,t,!0);e[r]=d}else e[r]=null},this)},formatTooltip:function(e){var t=this.getData();var n=this.getRawValue(e);var i=o.isArray(n)?o.map(n,d).join(", "):d(n);var a=t.getName(e);var s=this.name;if(null!=n||a)s+="<br />";if(a){s+=c(a);if(null!=n)s+=" : "}if(null!=n)s+=i;return s},getData:function(){return this._data},setData:function(e){this._data=e}});o.mixin(l,a.dataFormatMixin);e.exports=l},function(e,t,n){function i(e,t,n){var i=t.coordinateSystem;e.each(function(a){var o=e.getItemModel(a);var s;var d=r.parsePercent(o.get("x"),n.getWidth());var c=r.parsePercent(o.get("y"),n.getHeight());if(!isNaN(d)&&!isNaN(c))s=[d,c];else if(t.getMarkerPosition)s=t.getMarkerPosition(e.getValues(e.dimensions,a));else if(i){var l=e.get(i.dimensions[0],a);var h=e.get(i.dimensions[1],a);s=i.dataToPoint([l,h])}if(!isNaN(d))s[0]=d;if(!isNaN(c))s[1]=c;e.setItemLayout(a,s)})}function a(e,t,n){var i;if(e)i=s.map(e&&e.dimensions,function(e){var n=t.getData().getDimensionInfo(t.coordDimToDataDim(e)[0])||{};n.name=e;return n});else i=[{name:"value",type:"float"}];var a=new d(i,n);var o=s.map(n.get("data"),s.curry(c.dataTransform,t));if(e)o=s.filter(o,s.curry(c.dataFilter,e));a.initData(o,null,e?c.dimValueGetter:function(e){return e.value});return a}var o=n(104);var s=n(4);var r=n(7);var d=n(97);var c=n(349);n(350).extend({type:"markPoint",updateLayout:function(e,t,n){t.eachSeries(function(e){var t=e.markPointModel;if(t){i(t.getData(),e,n);this.markerGroupMap[e.name].updateLayout(t)}},this)},renderSeries:function(e,t,n,s){var r=e.coordinateSystem;var d=e.name;var c=e.getData();var l=this.markerGroupMap;var h=l[d];if(!h)h=l[d]=new o;var p=a(r,e,t);t.setData(p);i(t.getData(),e,s);p.each(function(e){var n=p.getItemModel(e);var i=n.getShallow("symbolSize");if("function"==typeof i)i=i(t.getRawValue(e),t.getDataParams(e));p.setItemVisual(e,{symbolSize:i,color:n.get("itemStyle.normal.color")||c.getVisual("color"),symbol:n.getShallow("symbol")})});h.updateData(p);this.group.add(h.group);p.eachItemGraphicEl(function(e){e.traverse(function(e){e.dataModel=t})});h.__keep=!0;h.group.silent=t.get("silent")||e.get("silent")}})},function(e,t,n){function i(e){return!(isNaN(parseFloat(e.x))&&isNaN(parseFloat(e.y)))}function a(e){return!isNaN(parseFloat(e.x))&&!isNaN(parseFloat(e.y))}function o(e,t,n){var i=-1;do{i=Math.max(d.getPrecision(e.get(t,n)),i);e=e.stackedOn}while(e);return i}function s(e,t,n,i,a,s){var r=[];var d=m(t,i,e);var c=t.indexOfNearest(i,d,!0);r[a]=t.get(n,c,!0);r[s]=t.get(i,c,!0);var l=o(t,i,c);if(l>=0)r[s]=+r[s].toFixed(l);return r}var r=n(4);var d=n(7);var c=r.indexOf;var l=r.curry;var h={min:l(s,"min"),max:l(s,"max"),average:l(s,"average")};var p=function(e,t){var n=e.getData();var i=e.coordinateSystem;if(t&&!a(t)&&!r.isArray(t.coord)&&i){var o=i.dimensions;var s=u(t,n,i,e);t=r.clone(t);if(t.type&&h[t.type]&&s.baseAxis&&s.valueAxis){var d=c(o,s.baseAxis.dim);var l=c(o,s.valueAxis.dim);t.coord=h[t.type](n,s.baseDataDim,s.valueDataDim,d,l);t.value=t.coord[l]}else{var p=[null!=t.xAxis?t.xAxis:t.radiusAxis,null!=t.yAxis?t.yAxis:t.angleAxis];for(var f=0;f<2;f++)if(h[p[f]]){var _=e.coordDimToDataDim(o[f])[0];p[f]=m(n,_,p[f])}t.coord=p}}return t};var u=function(e,t,n,i){var a={};if(null!=e.valueIndex||null!=e.valueDim){a.valueDataDim=null!=e.valueIndex?t.getDimension(e.valueIndex):e.valueDim;a.valueAxis=n.getAxis(i.dataDimToCoordDim(a.valueDataDim));a.baseAxis=n.getOtherAxis(a.valueAxis);a.baseDataDim=i.coordDimToDataDim(a.baseAxis.dim)[0]}else{a.baseAxis=i.getBaseAxis();a.valueAxis=n.getOtherAxis(a.baseAxis);a.baseDataDim=i.coordDimToDataDim(a.baseAxis.dim)[0];a.valueDataDim=i.coordDimToDataDim(a.valueAxis.dim)[0]}return a};var f=function(e,t){return e&&e.containData&&t.coord&&!i(t)?e.containData(t.coord):!0};var _=function(e,t,n,i){if(i<2)return e.coord&&e.coord[i];else return e.value};var m=function(e,t,n){if("average"===n){var i=0;var a=0;e.each(t,function(e,t){if(!isNaN(e)){i+=e;a++}},!0);return i/a}else return e.getDataExtent(t,!0)["max"===n?1:0]};e.exports={dataTransform:p,dataFilter:f,dimValueGetter:_,getAxisInfo:u,numCalculate:m}},function(e,t,n){e.exports=n(1).extendComponentView({type:"marker",init:function(){this.markerGroupMap={}},render:function(e,t,n){var i=this.markerGroupMap;
for(var a in i)i[a].__keep=!1;var o=this.type+"Model";t.eachSeries(function(e){var i=e[o];i&&this.renderSeries(e,i,t,n)},this);for(var a in i)if(!i[a].__keep)this.group.remove(i[a].group)},renderSeries:function(){}})},function(e,t,n){n(352);n(353);n(1).registerPreprocessor(function(e){e.markLine=e.markLine||{}})},function(e,t,n){e.exports=n(347).extend({type:"markLine",defaultOption:{zlevel:0,z:5,symbol:["circle","arrow"],symbolSize:[8,16],precision:2,tooltip:{trigger:"item"},label:{normal:{show:!0,position:"end"},emphasis:{show:!0}},lineStyle:{normal:{type:"dashed"},emphasis:{width:3}},animationEasing:"linear"}})},function(e,t,n){function i(e){return!isNaN(e)&&!isFinite(e)}function a(e,t,n,a){var o=1-e;var s=a.dimensions[e];return i(t[o])&&i(n[o])&&t[e]===n[e]&&a.getAxis(s).containData(t[e])}function o(e,t){if("cartesian2d"===e.type){var n=t[0].coord;var i=t[1].coord;if(n&&i&&(a(1,n,i,e)||a(0,n,i,e)))return!0}return h.dataFilter(e,t[0])&&h.dataFilter(e,t[1])}function s(e,t,n,a,o){var s=a.coordinateSystem;var r=e.getItemModel(t);var d;var c=l.parsePercent(r.get("x"),o.getWidth());var h=l.parsePercent(r.get("y"),o.getHeight());if(!isNaN(c)&&!isNaN(h))d=[c,h];else{if(a.getMarkerPosition)d=a.getMarkerPosition(e.getValues(e.dimensions,t));else{var p=s.dimensions;var u=e.get(p[0],t);var f=e.get(p[1],t);d=s.dataToPoint([u,f])}if("cartesian2d"===s.type){var _=s.getAxis("x");var m=s.getAxis("y");var p=s.dimensions;if(i(e.get(p[0],t)))d[0]=_.toGlobalCoord(_.getExtent()[n?0:1]);else if(i(e.get(p[1],t)))d[1]=m.toGlobalCoord(m.getExtent()[n?0:1])}if(!isNaN(c))d[0]=c;if(!isNaN(h))d[1]=h}e.setItemLayout(t,d)}function r(e,t,n){var i;if(e)i=d.map(e&&e.dimensions,function(e){var n=t.getData().getDimensionInfo(t.coordDimToDataDim(e)[0])||{};n.name=e;return n});else i=[{name:"value",type:"float"}];var a=new c(i,n);var s=new c(i,n);var r=new c([],n);var l=d.map(n.get("data"),d.curry(u,t,e,n));if(e)l=d.filter(l,d.curry(o,e));var p=e?h.dimValueGetter:function(e){return e.value};a.initData(d.map(l,function(e){return e[0]}),null,p);s.initData(d.map(l,function(e){return e[1]}),null,p);r.initData(d.map(l,function(e){return e[2]}));r.hasItemOption=!0;return{from:a,to:s,line:r}}var d=n(4);var c=n(97);var l=n(7);var h=n(349);var p=n(199);var u=function(e,t,n,i){var a=e.getData();var o=i.type;if(!d.isArray(i)&&("min"===o||"max"===o||"average"===o||null!=i.xAxis||null!=i.yAxis)){var s;var r;var c;if(null!=i.yAxis||null!=i.xAxis){r=null!=i.yAxis?"y":"x";s=t.getAxis(r);c=d.retrieve(i.yAxis,i.xAxis)}else{var l=h.getAxisInfo(i,a,t,e);r=l.valueDataDim;s=l.valueAxis;c=h.numCalculate(a,r,o)}var p="x"===r?0:1;var u=1-p;var f=d.clone(i);var _={};f.type=null;f.coord=[];_.coord=[];f.coord[u]=-(1/0);_.coord[u]=1/0;var m=n.get("precision");if(m>=0)c=+c.toFixed(m);f.coord[p]=_.coord[p]=c;i=[f,_,{type:o,valueIndex:i.valueIndex,value:c}]}i=[h.dataTransform(e,i[0]),h.dataTransform(e,i[1]),d.extend({},i[2])];i[2].type=i[2].type||"";d.merge(i[2],i[0]);d.merge(i[2],i[1]);return i};n(350).extend({type:"markLine",updateLayout:function(e,t,n){t.eachSeries(function(e){var t=e.markLineModel;if(t){var i=t.getData();var a=t.__from;var o=t.__to;a.each(function(t){s(a,t,!0,e,n);s(o,t,!1,e,n)});i.each(function(e){i.setItemLayout(e,[a.getItemLayout(e),o.getItemLayout(e)])});this.markerGroupMap[e.name].updateLayout()}},this)},renderSeries:function(e,t,n,i){function a(t,n,a){var o=t.getItemModel(n);s(t,n,a,e,i);t.setItemVisual(n,{symbolSize:o.get("symbolSize")||x[a?0:1],symbol:o.get("symbol",!0)||b[a?0:1],color:o.get("itemStyle.normal.color")||l.getVisual("color")})}var o=e.coordinateSystem;var c=e.name;var l=e.getData();var h=this.markerGroupMap;var u=h[c];if(!u)u=h[c]=new p;this.group.add(u.group);var f=r(o,e,t);var _=f.from;var m=f.to;var g=f.line;t.__from=_;t.__to=m;t.setData(g);var b=t.get("symbol");var x=t.get("symbolSize");if(!d.isArray(b))b=[b,b];if("number"==typeof x)x=[x,x];f.from.each(function(e){a(_,e,!0);a(m,e,!1)});g.each(function(e){var t=g.getItemModel(e).get("lineStyle.normal.color");g.setItemVisual(e,{color:t||_.getItemVisual(e,"color")});g.setItemLayout(e,[_.getItemLayout(e),m.getItemLayout(e)]);g.setItemVisual(e,{fromSymbolSize:_.getItemVisual(e,"symbolSize"),fromSymbol:_.getItemVisual(e,"symbol"),toSymbolSize:m.getItemVisual(e,"symbolSize"),toSymbol:m.getItemVisual(e,"symbol")})});u.updateData(g);f.line.eachItemGraphicEl(function(e,n){e.traverse(function(e){e.dataModel=t})});u.__keep=!0;u.group.silent=t.get("silent")||e.get("silent")}})},function(e,t,n){n(355);n(356);n(1).registerPreprocessor(function(e){e.markArea=e.markArea||{}})},function(e,t,n){e.exports=n(347).extend({type:"markArea",defaultOption:{zlevel:0,z:1,tooltip:{trigger:"item"},animation:!1,label:{normal:{show:!0,position:"top"},emphasis:{show:!0,position:"top"}},itemStyle:{normal:{borderWidth:0}}}})},function(e,t,n){function i(e){return!isNaN(e)&&!isFinite(e)}function a(e,t,n,a){var o=1-e;return i(t[o])&&i(n[o])}function o(e,t){var n=t.coord[0];var i=t.coord[1];if("cartesian2d"===e.type)if(n&&i&&(a(1,n,i,e)||a(0,n,i,e)))return!0;return u.dataFilter(e,{coord:n,x:t.x0,y:t.y0})||u.dataFilter(e,{coord:i,x:t.x1,y:t.y1})}function s(e,t,n,a,o){var s=a.coordinateSystem;var r=e.getItemModel(t);var d;var c=l.parsePercent(r.get(n[0]),o.getWidth());var h=l.parsePercent(r.get(n[1]),o.getHeight());if(!isNaN(c)&&!isNaN(h))d=[c,h];else{if(a.getMarkerPosition)d=a.getMarkerPosition(e.getValues(n,t));else{var p=e.get(n[0],t);var u=e.get(n[1],t);d=s.dataToPoint([p,u],!0)}if("cartesian2d"===s.type){var f=s.getAxis("x");var _=s.getAxis("y");var p=e.get(n[0],t);var u=e.get(n[1],t);if(i(p))d[0]=f.toGlobalCoord(f.getExtent()["x0"===n[0]?0:1]);else if(i(u))d[1]=_.toGlobalCoord(_.getExtent()["y0"===n[1]?0:1])}if(!isNaN(c))d[0]=c;if(!isNaN(h))d[1]=h}return d}function r(e,t,n){var i;var a;var s=["x0","y0","x1","y1"];if(e){i=d.map(e&&e.dimensions,function(e){var n=t.getData().getDimensionInfo(t.coordDimToDataDim(e)[0])||{};n.name=e;return n});a=new c(d.map(s,function(e,t){return{name:e,type:i[t%2].type}}),n)}else{i=[{name:"value",type:"float"}];a=new c(i,n)}var r=d.map(n.get("data"),d.curry(f,t,e,n));if(e)r=d.filter(r,d.curry(o,e));var l=e?function(e,t,n,i){return e.coord[Math.floor(i/2)][i%2]}:function(e){return e.value};a.initData(r,null,l);a.hasItemOption=!0;return a}var d=n(4);var c=n(97);var l=n(7);var h=n(43);var p=n(39);var u=n(349);var f=function(e,t,n,i){var a=u.dataTransform(e,i[0]);var o=u.dataTransform(e,i[1]);var s=d.retrieve;var r=a.coord;var c=o.coord;r[0]=s(r[0],-(1/0));r[1]=s(r[1],-(1/0));c[0]=s(c[0],1/0);c[1]=s(c[1],1/0);var l=d.mergeAll([{},a,o]);l.coord=[a.coord,o.coord];l.x0=a.x;l.y0=a.y;l.x1=o.x;l.y1=o.y;return l};var _=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]];n(350).extend({type:"markArea",updateLayout:function(e,t,n){t.eachSeries(function(e){var t=e.markAreaModel;if(t){var i=t.getData();i.each(function(t){var a=d.map(_,function(a){return s(i,t,a,e,n)});i.setItemLayout(t,a);var o=i.getItemGraphicEl(t);o.setShape("points",a)})}},this)},renderSeries:function(e,t,n,i){var a=e.coordinateSystem;var o=e.name;var c=e.getData();var l=this.markerGroupMap;var u=l[o];if(!u)u=l[o]={group:new h.Group};this.group.add(u.group);u.__keep=!0;var f=r(a,e,t);t.setData(f);f.each(function(t){f.setItemLayout(t,d.map(_,function(n){return s(f,t,n,e,i)}));f.setItemVisual(t,{color:c.getVisual("color")})});f.diff(u.__data).add(function(e){var t=new h.Polygon({shape:{points:f.getItemLayout(e)}});f.setItemGraphicEl(e,t);u.group.add(t)}).update(function(e,n){var i=u.__data.getItemGraphicEl(n);h.updateProps(i,{shape:{points:f.getItemLayout(e)}},t,e);u.group.add(i);f.setItemGraphicEl(e,i)}).remove(function(e){var t=u.__data.getItemGraphicEl(e);u.group.remove(t)}).execute();f.eachItemGraphicEl(function(e,n){var i=f.getItemModel(n);var a=i.getModel("label.normal");var o=i.getModel("label.emphasis");var s=f.getItemVisual(n,"color");e.useStyle(d.defaults(i.getModel("itemStyle.normal").getItemStyle(),{fill:p.modifyAlpha(s,.4),stroke:s}));e.hoverStyle=i.getModel("itemStyle.normal").getItemStyle();var r=f.getName(n)||"";var c=s||e.style.fill;h.setText(e.style,a,c);e.style.text=d.retrieve(t.getFormattedLabel(n,"normal"),r);h.setText(e.hoverStyle,o,c);e.hoverStyle.text=d.retrieve(t.getFormattedLabel(n,"emphasis"),r);h.setHoverStyle(e,{});e.dataModel=t});u.__data=f;u.group.silent=t.get("silent")||e.get("silent")}})},function(e,t,n){var i=n(1);i.registerPreprocessor(n(358));n(359);n(360);n(361);n(363)},function(e,t,n){function i(e){var t=e.type;var n={number:"value",time:"time"};if(n[t]){e.axisType=n[t];delete e.type}a(e);if(o(e,"controlPosition")){var i=e.controlStyle||(e.controlStyle={});if(!o(i,"position"))i.position=e.controlPosition;if("none"===i.position&&!o(i,"show")){i.show=!1;delete i.position}delete e.controlPosition}s.each(e.data||[],function(e){if(s.isObject(e)&&!s.isArray(e)){if(!o(e,"value")&&o(e,"name"))e.value=e.name;a(e)}})}function a(e){var t=e.itemStyle||(e.itemStyle={});var n=t.emphasis||(t.emphasis={});var i=e.label||e.label||{};var a=i.normal||(i.normal={});var r={normal:1,emphasis:1};s.each(i,function(e,t){if(!r[t]&&!o(a,t))a[t]=e});if(n.label&&!o(i,"emphasis")){i.emphasis=n.label;delete n.label}}function o(e,t){return e.hasOwnProperty(t)}var s=n(4);e.exports=function(e){var t=e&&e.timeline;if(!s.isArray(t))t=t?[t]:[];s.each(t,function(e){if(e)i(e)})}},function(e,t,n){n(19).registerSubTypeDefaulter("timeline",function(){return"slider"})},function(e,t,n){var i=n(1);i.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(e,t){var n=t.getComponent("timeline");if(n&&null!=e.currentIndex){n.setCurrentIndex(e.currentIndex);if(!n.get("loop",!0)&&n.isIndexMax())n.setPlayState(!1)}t.resetOption("timeline")});i.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(e,t){var n=t.getComponent("timeline");if(n&&null!=e.playState)n.setPlayState(e.playState)})},function(e,t,n){var i=n(362);var a=n(4);var o=n(5);var s=i.extend({type:"timeline.slider",
defaultOption:{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"emptyCircle",symbolSize:10,lineStyle:{show:!0,width:2,color:"#304654"},label:{position:"auto",normal:{show:!0,interval:"auto",rotate:0,textStyle:{color:"#304654"}},emphasis:{show:!0,textStyle:{color:"#c23531"}}},itemStyle:{normal:{color:"#304654",borderWidth:1},emphasis:{color:"#c23531"}},checkpointStyle:{symbol:"circle",symbolSize:13,color:"#c23531",borderWidth:5,borderColor:"rgba(194,53,49, 0.5)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:22,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"path://M18.6,50.8l22.5-22.5c0.2-0.2,0.3-0.4,0.3-0.7c0-0.3-0.1-0.5-0.3-0.7L18.7,4.4c-0.1-0.1-0.2-0.3-0.2-0.5 c0-0.4,0.3-0.8,0.8-0.8c0.2,0,0.5,0.1,0.6,0.3l23.5,23.5l0,0c0.2,0.2,0.3,0.4,0.3,0.7c0,0.3-0.1,0.5-0.3,0.7l-0.1,0.1L19.7,52 c-0.1,0.1-0.3,0.2-0.5,0.2c-0.4,0-0.8-0.3-0.8-0.8C18.4,51.2,18.5,51,18.6,50.8z",prevIcon:"path://M43,52.8L20.4,30.3c-0.2-0.2-0.3-0.4-0.3-0.7c0-0.3,0.1-0.5,0.3-0.7L42.9,6.4c0.1-0.1,0.2-0.3,0.2-0.5 c0-0.4-0.3-0.8-0.8-0.8c-0.2,0-0.5,0.1-0.6,0.3L18.3,28.8l0,0c-0.2,0.2-0.3,0.4-0.3,0.7c0,0.3,0.1,0.5,0.3,0.7l0.1,0.1L41.9,54 c0.1,0.1,0.3,0.2,0.5,0.2c0.4,0,0.8-0.3,0.8-0.8C43.2,53.2,43.1,53,43,52.8z",normal:{color:"#304654",borderColor:"#304654",borderWidth:1},emphasis:{color:"#c23531",borderColor:"#c23531",borderWidth:2}},data:[]}});a.mixin(s,o.dataFormatMixin);e.exports=s},function(e,t,n){var i=n(19);var a=n(97);var o=n(4);var s=n(5);var r=i.extend({type:"timeline",layoutMode:"box",defaultOption:{zlevel:0,z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{normal:{},emphasis:{}},label:{normal:{textStyle:{color:"#000"}},emphasis:{}},data:[]},init:function(e,t,n){this._data;this._names;this.mergeDefaultAndTheme(e,n);this._initData()},mergeOption:function(e){r.superApply(this,"mergeOption",arguments);this._initData()},setCurrentIndex:function(e){if(null==e)e=this.option.currentIndex;var t=this._data.count();if(this.option.loop)e=(e%t+t)%t;else{e>=t&&(e=t-1);e<0&&(e=0)}this.option.currentIndex=e},getCurrentIndex:function(){return this.option.currentIndex},isIndexMax:function(){return this.getCurrentIndex()>=this._data.count()-1},setPlayState:function(e){this.option.autoPlay=!!e},getPlayState:function(){return!!this.option.autoPlay},_initData:function(){var e=this.option;var t=e.data||[];var n=e.axisType;var i=this._names=[];if("category"===n){var r=[];o.each(t,function(e,t){var n=s.getDataItemValue(e);var a;if(o.isObject(e)){a=o.clone(e);a.value=t}else a=t;r.push(a);if(!o.isString(n)&&(null==n||isNaN(n)))n="";i.push(n+"")});t=r}var d={category:"ordinal",time:"time"}[n]||"number";var c=this._data=new a([{name:"value",type:d}],this);c.initData(t,i)},getData:function(){return this._data},getCategories:function(){if("category"===this.get("axisType"))return this._names.slice()}});e.exports=r},function(e,t,n){function i(e,t){return c.getLayoutRect(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()},e.get("padding"))}function a(e,t,n,i){var a=d.makePath(e.get(t).replace(/^path:\/\//,""),r.clone(i||{}),new f(n[0],n[1],n[2],n[3]),"center");return a}function o(e,t,n,i,a,o){var s=e.get("symbol");var d=t.get("color");var c=e.get("symbolSize");var l=c/2;var h=t.getItemStyle(["color","symbol","symbolSize"]);if(!a){a=p.createSymbol(s,-l,-l,c,c,d);n.add(a);o&&o.onCreate(a)}else{a.setStyle(h);a.setColor(d);n.add(a);o&&o.onUpdate(a)}i=r.merge({rectHover:!0,style:h,z2:100},i,!0);a.attr(i);return a}function s(e,t,n,i,a){if(!e.dragging){var o=i.getModel("checkpointStyle");var s=n.dataToCoord(i.getData().get(["value"],t));if(a||!o.get("animation",!0))e.attr({position:[s,0]});else{e.stopAnimation(!0);e.animateTo({position:[s,0]},o.get("animationDuration",!0),o.get("animationEasing",!0))}}}var r=n(4);var d=n(43);var c=n(21);var l=n(364);var h=n(365);var p=n(106);var u=n(114);var f=n(9);var _=n(11);var m=n(7);var g=n(6);var b=g.encodeHTML;var x=r.bind;var v=r.each;var C=Math.PI;e.exports=l.extend({type:"timeline.slider",init:function(e,t){this.api=t;this._axis;this._viewRect;this._timer;this._currentPointer;this._mainGroup;this._labelGroup},render:function(e,t,n,i){this.model=e;this.api=n;this.ecModel=t;this.group.removeAll();if(e.get("show",!0)){var a=this._layout(e,n);var o=this._createGroup("mainGroup");var s=this._createGroup("labelGroup");var r=this._axis=this._createAxis(a,e);e.formatTooltip=function(e){return b(r.scale.getLabel(e))};v(["AxisLine","AxisTick","Control","CurrentPointer"],function(t){this["_render"+t](a,o,r,e)},this);this._renderAxisLabel(a,s,r,e);this._position(a,e)}this._doPlayStop()},remove:function(){this._clearTimer();this.group.removeAll()},dispose:function(){this._clearTimer()},_layout:function(e,t){var n=e.get("label.normal.position");var a=e.get("orient");var o=i(e,t);if(null==n||"auto"===n)n="horizontal"===a?o.y+o.height/2<t.getHeight()/2?"-":"+":o.x+o.width/2<t.getWidth()/2?"+":"-";else if(isNaN(n))n={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[a][n];var s={horizontal:"center",vertical:n>=0||"+"===n?"left":"right"};var r={horizontal:n>=0||"+"===n?"top":"bottom",vertical:"middle"};var d={horizontal:0,vertical:C/2};var c="vertical"===a?o.height:o.width;var l=e.getModel("controlStyle");var h=l.get("show");var p=h?l.get("itemSize"):0;var u=h?l.get("itemGap"):0;var f=p+u;var _=e.get("label.normal.rotate")||0;_=_*C/180;var m;var g;var b;var x;var v=l.get("position",!0);var h=l.get("show",!0);var w=h&&l.get("showPlayBtn",!0);var I=h&&l.get("showPrevBtn",!0);var y=h&&l.get("showNextBtn",!0);var $=0;var A=c;if("left"===v||"bottom"===v){w&&(m=[0,0],$+=f);I&&(g=[$,0],$+=f);y&&(b=[A-p,0],A-=f)}else{w&&(m=[A-p,0],A-=f);I&&(g=[0,0],$+=f);y&&(b=[A-p,0],A-=f)}x=[$,A];if(e.get("inverse"))x.reverse();return{viewRect:o,mainLength:c,orient:a,rotation:d[a],labelRotation:_,labelPosOpt:n,labelAlign:s[a],labelBaseline:r[a],playPosition:m,prevBtnPosition:g,nextBtnPosition:b,axisExtent:x,controlSize:p,controlGap:u}},_position:function(e,t){function n(e){var t=e.position;e.origin=[h[0][0]-t[0],h[1][0]-t[1]]}function i(e){return[[e.x,e.x+e.width],[e.y,e.y+e.height]]}function a(e,t,n,i,a){e[i]+=n[i][a]-t[i][a]}var o=this._mainGroup;var s=this._labelGroup;var r=e.viewRect;if("vertical"===e.orient){var d=_.create();var c=r.x;var l=r.y+r.height;_.translate(d,d,[-c,-l]);_.rotate(d,d,-C/2);_.translate(d,d,[c,l]);r=r.clone();r.applyTransform(d)}var h=i(r);var p=i(o.getBoundingRect());var u=i(s.getBoundingRect());var f=o.position;var m=s.position;m[0]=f[0]=h[0][0];var g=e.labelPosOpt;if(isNaN(g)){var b="+"===g?0:1;a(f,p,h,1,b);a(m,u,h,1,1-b)}else{var b=g>=0?0:1;a(f,p,h,1,b);m[1]=f[1]+g}o.attr("position",f);s.attr("position",m);o.rotation=s.rotation=e.rotation;n(o);n(s)},_createAxis:function(e,t){var n=t.getData();var i=t.get("axisType");var a=u.createScaleByModel(t,i);var o=n.getDataExtent("value");a.setExtent(o[0],o[1]);this._customizeScale(a,n);a.niceTicks();var s=new h("value",a,e.axisExtent,i);s.model=t;return s},_customizeScale:function(e,t){e.getTicks=function(){return t.mapArray(["value"],function(e){return e})};e.getTicksLabels=function(){return r.map(this.getTicks(),e.getLabel,e)}},_createGroup:function(e){var t=this["_"+e]=new d.Group;this.group.add(t);return t},_renderAxisLine:function(e,t,n,i){var a=n.getExtent();if(i.get("lineStyle.show"))t.add(new d.Line({shape:{x1:a[0],y1:0,x2:a[1],y2:0},style:r.extend({lineCap:"round"},i.getModel("lineStyle").getLineStyle()),silent:!0,z2:1}))},_renderAxisTick:function(e,t,n,i){var a=i.getData();var s=n.scale.getTicks();v(s,function(e,s){var r=n.dataToCoord(e);var c=a.getItemModel(s);var l=c.getModel("itemStyle.normal");var h=c.getModel("itemStyle.emphasis");var p={position:[r,0],onclick:x(this._changeTimeline,this,s)};var u=o(c,l,t,p);d.setHoverStyle(u,h.getItemStyle());if(c.get("tooltip")){u.dataIndex=s;u.dataModel=i}else u.dataIndex=u.dataModel=null},this)},_renderAxisLabel:function(e,t,n,i){var a=i.getModel("label.normal");if(a.get("show")){var o=i.getData();var s=n.scale.getTicks();var r=u.getFormattedLabels(n,a.get("formatter"));var c=n.getLabelInterval();v(s,function(i,a){if(!n.isLabelIgnored(a,c)){var s=o.getItemModel(a);var l=s.getModel("label.normal.textStyle");var h=s.getModel("label.emphasis.textStyle");var p=n.dataToCoord(i);var u=new d.Text({style:{text:r[a],textAlign:e.labelAlign,textVerticalAlign:e.labelBaseline,textFont:l.getFont(),fill:l.getTextColor()},position:[p,0],rotation:e.labelRotation-e.rotation,onclick:x(this._changeTimeline,this,a),silent:!1});t.add(u);d.setHoverStyle(u,h.getItemStyle())}},this)}},_renderControl:function(e,t,n,i){function o(e,n,o,p){if(e){var u={position:e,origin:[s/2,0],rotation:p?-r:0,rectHover:!0,style:c,onclick:o};var f=a(i,n,h,u);t.add(f);d.setHoverStyle(f,l)}}var s=e.controlSize;var r=e.rotation;var c=i.getModel("controlStyle.normal").getItemStyle();var l=i.getModel("controlStyle.emphasis").getItemStyle();var h=[0,-s/2,s,s];var p=i.getPlayState();
var u=i.get("inverse",!0);o(e.nextBtnPosition,"controlStyle.nextIcon",x(this._changeTimeline,this,u?"-":"+"));o(e.prevBtnPosition,"controlStyle.prevIcon",x(this._changeTimeline,this,u?"+":"-"));o(e.playPosition,"controlStyle."+(p?"stopIcon":"playIcon"),x(this._handlePlayClick,this,!p),!0)},_renderCurrentPointer:function(e,t,n,i){var a=i.getData();var r=i.getCurrentIndex();var d=a.getItemModel(r).getModel("checkpointStyle");var c=this;var l={onCreate:function(e){e.draggable=!0;e.drift=x(c._handlePointerDrag,c);e.ondragend=x(c._handlePointerDragend,c);s(e,r,n,i,!0)},onUpdate:function(e){s(e,r,n,i)}};this._currentPointer=o(d,d,this._mainGroup,{},this._currentPointer,l)},_handlePlayClick:function(e){this._clearTimer();this.api.dispatchAction({type:"timelinePlayChange",playState:e,from:this.uid})},_handlePointerDrag:function(e,t,n){this._clearTimer();this._pointerChangeTimeline([n.offsetX,n.offsetY])},_handlePointerDragend:function(e){this._pointerChangeTimeline([e.offsetX,e.offsetY],!0)},_pointerChangeTimeline:function(e,t){var n=this._toAxisCoord(e)[0];var i=this._axis;var a=m.asc(i.getExtent().slice());n>a[1]&&(n=a[1]);n<a[0]&&(n=a[0]);this._currentPointer.position[0]=n;this._currentPointer.dirty();var o=this._findNearestTick(n);var s=this.model;if(t||o!==s.getCurrentIndex()&&s.get("realtime"))this._changeTimeline(o)},_doPlayStop:function(){function e(){var e=this.model;this._changeTimeline(e.getCurrentIndex()+(e.get("rewind",!0)?-1:1))}this._clearTimer();if(this.model.getPlayState())this._timer=setTimeout(x(e,this),this.model.get("playInterval"))},_toAxisCoord:function(e){var t=this._mainGroup.getLocalTransform();return d.applyTransform(e,t,!0)},_findNearestTick:function(e){var t=this.model.getData();var n=1/0;var i;var a=this._axis;t.each(["value"],function(t,o){var s=a.dataToCoord(t);var r=Math.abs(s-e);if(r<n){n=r;i=o}});return i},_clearTimer:function(){if(this._timer){clearTimeout(this._timer);this._timer=null}},_changeTimeline:function(e){var t=this.model.getCurrentIndex();if("+"===e)e=t+1;else if("-"===e)e=t-1;this.api.dispatchAction({type:"timelineChange",currentIndex:e,from:this.uid})}})},function(e,t,n){var i=n(29);e.exports=i.extend({type:"timeline"})},function(e,t,n){var i=n(4);var a=n(123);var o=n(114);var s=function(e,t,n,i){a.call(this,e,t,n);this.type=i||"value";this._autoLabelInterval;this.model=null};s.prototype={constructor:s,getLabelInterval:function(){var e=this.model;var t=e.getModel("label.normal");var n=t.get("interval");if(null!=n&&"auto"!=n)return n;var n=this._autoLabelInterval;if(!n)n=this._autoLabelInterval=o.getAxisLabelInterval(i.map(this.scale.getTicks(),this.dataToCoord,this),o.getFormattedLabels(this,t.get("formatter")),t.getModel("textStyle").getFont(),"horizontal"===e.get("orient"));return n},isLabelIgnored:function(e){if("category"===this.type){var t=this.getLabelInterval();return"function"==typeof t&&!t(e,this.scale.getLabel(e))||e%(t+1)}}};i.inherits(s,a);e.exports=s},function(e,t,n){n(367);n(368);n(370);n(371);n(372);n(373);n(378)},function(e,t,n){var i=n(314);var a=n(4);var o=n(1).extendComponentModel({type:"toolbox",layoutMode:{type:"box",ignoreSize:!0},mergeDefaultAndTheme:function(e){o.superApply(this,"mergeDefaultAndTheme",arguments);a.each(this.option.feature,function(e,t){var n=i.get(t);n&&a.merge(e,n.defaultOption)})},defaultOption:{show:!0,z:6,zlevel:0,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{normal:{borderColor:"#666",color:"none"},emphasis:{borderColor:"#3E98C5"}}}});e.exports=o},function(e,t,n){(function(t){function i(e){return 0===e.indexOf("my")}var a=n(314);var o=n(4);var s=n(43);var r=n(12);var d=n(98);var c=n(277);var l=n(8);e.exports=n(1).extendComponentView({type:"toolbox",render:function(e,t,n,h){function p(o,s){var d=b[o];var c=b[s];var l=m[d];var p=new r(l,e,e.ecModel);var f;if(d&&!c){if(i(d))f={model:p,onclick:p.option.onclick,featureName:d};else{var _=a.get(d);if(!_)return;f=new _(p,t,n)}g[d]=f}else{f=g[c];if(!f)return;f.model=p;f.ecModel=t;f.api=n}if(d||!c)if(p.get("show")&&!f.unusable){u(p,f,d);p.setIconStatus=function(e,t){var n=this.option;var i=this.iconPaths;n.iconStatus=n.iconStatus||{};n.iconStatus[e]=t;i[e]&&i[e].trigger(t)};if(f.render)f.render(p,t,n,h)}else f.remove&&f.remove(t,n);else f.dispose&&f.dispose(t,n)}function u(i,a,r){var d=i.getModel("iconStyle");var c=a.getIcons?a.getIcons():i.get("icon");var l=i.get("title")||{};if("string"==typeof c){var h=c;var p=l;c={};l={};c[r]=h;l[r]=p}var u=i.iconPaths={};o.each(c,function(r,c){var h=d.getModel("normal").getItemStyle();var p=d.getModel("emphasis").getItemStyle();var m={x:-_/2,y:-_/2,width:_,height:_};var g=0===r.indexOf("image://")?(m.image=r.slice(8),new s.Image({style:m})):s.makePath(r.replace("path://",""),{style:h,hoverStyle:p,rectHover:!0},m,"center");s.setHoverStyle(g);if(e.get("showTitle")){g.__title=l[c];g.on("mouseover",function(){g.setStyle({text:l[c],textPosition:p.textPosition||"bottom",textFill:p.fill||p.stroke||"#000",textAlign:p.textAlign||"center"})}).on("mouseout",function(){g.setStyle({textFill:null})})}g.trigger(i.get("iconStatus."+c)||"normal");f.add(g);g.on("click",o.bind(a.onclick,a,t,n,c));u[c]=g})}var f=this.group;f.removeAll();if(e.get("show")){var _=+e.get("itemSize");var m=e.get("feature")||{};var g=this._features||(this._features={});var b=[];o.each(m,function(e,t){b.push(t)});new d(this._featureNames||[],b).add(p).update(p).remove(o.curry(p,null)).execute();this._featureNames=b;c.layout(f,e,n);c.addBackground(f,e);f.eachChild(function(e){var t=e.__title;var i=e.hoverStyle;if(i&&t){var a=l.getBoundingRect(t,i.font);var o=e.position[0]+f.position[0];var s=e.position[1]+f.position[1]+_;var r=!1;if(s+a.height>n.getHeight()){i.textPosition="top";r=!0}var d=r?-5-a.height:_+8;if(o+a.width/2>n.getWidth()){i.textPosition=["100%",d];i.textAlign="right"}else if(o-a.width/2<0){i.textPosition=[0,d];i.textAlign="left"}}})}},updateView:function(e,t,n,i){o.each(this._features,function(e){e.updateView&&e.updateView(e.model,t,n,i)})},updateLayout:function(e,t,n,i){o.each(this._features,function(e){e.updateLayout&&e.updateLayout(e.model,t,n,i)})},remove:function(e,t){o.each(this._features,function(n){n.remove&&n.remove(e,t)});this.group.removeAll()},dispose:function(e,t){o.each(this._features,function(n){n.dispose&&n.dispose(e,t)})}})}).call(t,n(369))},function(e,t){function n(){if(l&&h){l=!1;if(h.length)c=h.concat(c);else p=-1;if(c.length)i()}}function i(){if(!l){var e=r(n);l=!0;var t=c.length;for(;t;){h=c;c=[];for(;++p<t;)if(h)h[p].run();p=-1;t=c.length}h=null;l=!1;d(e)}}function a(e,t){this.fun=e;this.array=t}function o(){}var s=e.exports={};var r;var d;!function(){try{r=setTimeout}catch(e){r=function(){throw new Error("setTimeout is not defined")}}try{d=clearTimeout}catch(e){d=function(){throw new Error("clearTimeout is not defined")}}}();var c=[];var l=!1;var h;var p=-1;s.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new a(e,t));if(1===c.length&&!l)r(i,0)};a.prototype.run=function(){this.fun.apply(null,this.array)};s.title="browser";s.browser=!0;s.env={};s.argv=[];s.version="";s.versions={};s.on=o;s.addListener=o;s.once=o;s.off=o;s.removeListener=o;s.removeAllListeners=o;s.emit=o;s.binding=function(e){throw new Error("process.binding is not supported")};s.cwd=function(){return"/"};s.chdir=function(e){throw new Error("process.chdir is not supported")};s.umask=function(){return 0}},function(e,t,n){function i(e){this.model=e}var a=n(2);i.defaultOption={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:"保存为图片",type:"png",name:"",excludeComponents:["toolbox"],pixelRatio:1,lang:["右键另存为图片"]};i.prototype.unusable=!a.canvasSupported;var o=i.prototype;o.onclick=function(e,t){var n=this.model;var i=n.get("name")||e.get("title.0.text")||"echarts";var a=document.createElement("a");var o=n.get("type",!0)||"png";a.download=i+"."+o;a.target="_blank";var s=t.getConnectedDataURL({type:o,backgroundColor:n.get("backgroundColor",!0)||e.get("backgroundColor")||"#fff",excludeComponents:n.get("excludeComponents"),pixelRatio:n.get("pixelRatio")});a.href=s;if("function"==typeof MouseEvent){var r=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1});a.dispatchEvent(r)}else{var d=n.get("lang");var c='<body style="margin:0;"><img src="'+s+'" style="max-width:100%;" title="'+(d&&d[0]||"")+'" /></body>';var l=window.open();l.document.write(c)}};n(314).register("saveAsImage",i);e.exports=i},function(e,t,n){"use strict";function i(e){this.model=e}var a=n(4);i.defaultOption={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z",tiled:"M2.3,2.2h22.8V25H2.3V2.2z M35,2.2h22.8V25H35V2.2zM2.3,35h22.8v22.8H2.3V35z M35,35h22.8v22.8H35V35z"},title:{line:"切换为折线图",bar:"切换为柱状图",stack:"切换为堆叠",tiled:"切换为平铺"},option:{},seriesIndex:{}};var o=i.prototype;o.getIcons=function(){var e=this.model;var t=e.get("icon");var n={};a.each(e.get("type"),function(e){if(t[e])n[e]=t[e]});return n};var s={line:function(e,t,n,i){if("bar"===e)return a.merge({id:t,type:"line",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},i.get("option.line")||{},!0)},bar:function(e,t,n,i){if("line"===e)return a.merge({id:t,type:"bar",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},i.get("option.bar")||{},!0);
},stack:function(e,t,n,i){if("line"===e||"bar"===e)return a.merge({id:t,stack:"__ec_magicType_stack__"},i.get("option.stack")||{},!0)},tiled:function(e,t,n,i){if("line"===e||"bar"===e)return a.merge({id:t,stack:""},i.get("option.tiled")||{},!0)}};var r=[["line","bar"],["stack","tiled"]];o.onclick=function(e,t,n){var i=this.model;var o=i.get("seriesIndex."+n);if(s[n]){var d={series:[]};var c=function(t){var o=t.subType;var r=t.id;var c=s[n](o,r,t,i);if(c){a.defaults(c,t.option);d.series.push(c)}var l=t.coordinateSystem;if(l&&"cartesian2d"===l.type&&("line"===n||"bar"===n)){var h=l.getAxesByScale("ordinal")[0];if(h){var p=h.dim;var u=p+"Axis";var f=e.queryComponents({mainType:u,index:t.get(name+"Index"),id:t.get(name+"Id")})[0];var _=f.componentIndex;d[u]=d[u]||[];for(var m=0;m<=_;m++)d[u][_]=d[u][_]||{};d[u][_].boundaryGap="bar"===n?!0:!1}}};a.each(r,function(e){if(a.indexOf(e,n)>=0)a.each(e,function(e){i.setIconStatus(e,"normal")})});i.setIconStatus(n,"emphasis");e.eachComponent({mainType:"series",query:null==o?null:{seriesIndex:o}},c);t.dispatchAction({type:"changeMagicType",currentType:n,newOption:d})}};var d=n(1);d.registerAction({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(e,t){t.mergeOption(e.newOption)});n(314).register("magicType",i);e.exports=i},function(e,t,n){function i(e){var t={};var n=[];var i=[];e.eachRawSeries(function(e){var a=e.coordinateSystem;if(a&&("cartesian2d"===a.type||"polar"===a.type)){var o=a.getBaseAxis();if("category"===o.type){var s=o.dim+"_"+o.index;if(!t[s]){t[s]={categoryAxis:o,valueAxis:a.getOtherAxis(o),series:[]};i.push({axisDim:o.dim,axisIndex:o.index})}t[s].series.push(e)}else n.push(e)}else n.push(e)});return{seriesGroupByCategoryAxis:t,other:n,meta:i}}function a(e){var t=[];f.each(e,function(e,n){var i=e.categoryAxis;var a=e.valueAxis;var o=a.dim;var s=[" "].concat(f.map(e.series,function(e){return e.name}));var r=[i.model.getCategories()];f.each(e.series,function(e){r.push(e.getRawData().mapArray(o,function(e){return e}))});var d=[s.join(g)];for(var c=0;c<r[0].length;c++){var l=[];for(var h=0;h<r.length;h++)l.push(r[h][c]);d.push(l.join(g))}t.push(d.join("\n"))});return t.join("\n\n"+m+"\n\n")}function o(e){return f.map(e,function(e){var t=e.getRawData();var n=[e.name];var i=[];t.each(t.dimensions,function(){var e=arguments.length;var a=arguments[e-1];var o=t.getName(a);for(var s=0;s<e-1;s++)i[s]=arguments[s];n.push((o?o+g:"")+i.join(g))});return n.join("\n")}).join("\n\n"+m+"\n\n")}function s(e){var t=i(e);return{value:f.filter([a(t.seriesGroupByCategoryAxis),o(t.other)],function(e){return e.replace(/[\n\t\s]/g,"")}).join("\n\n"+m+"\n\n"),meta:t.meta}}function r(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function d(e){var t=e.slice(0,e.indexOf("\n"));if(t.indexOf(g)>=0)return!0}function c(e){var t=e.split(/\n+/g);var n=r(t.shift()).split(b);var i=[];var a=f.map(n,function(e){return{name:e,data:[]}});for(var o=0;o<t.length;o++){var s=r(t[o]).split(b);i.push(s.shift());for(var d=0;d<s.length;d++)a[d]&&(a[d].data[o]=s[d])}return{series:a,categories:i}}function l(e){var t=e.split(/\n+/g);var n=r(t.shift());var i=[];for(var a=0;a<t.length;a++){var o=r(t[a]).split(b);var s="";var d;var c=!1;if(isNaN(o[0])){c=!0;s=o[0];o=o.slice(1);i[a]={name:s,value:[]};d=i[a].value}else d=i[a]=[];for(var l=0;l<o.length;l++)d.push(+o[l]);if(1===d.length)c?i[a].value=d[0]:i[a]=d[0]}return{name:n,data:i}}function h(e,t){var n=e.split(new RegExp("\n*"+m+"\n*","g"));var i={series:[]};f.each(n,function(e,n){if(d(e)){var a=c(e);var o=t[n];var s=o.axisDim+"Axis";if(o){i[s]=i[s]||[];i[s][o.axisIndex]={data:a.categories};i.series=i.series.concat(a.series)}}else{var a=l(e);i.series.push(a)}});return i}function p(e){this._dom=null;this.model=e}function u(e,t){return f.map(e,function(e,n){var i=t&&t[n];if(f.isObject(i)&&!f.isArray(i)){if(f.isObject(e)&&!f.isArray(e))e=e.value;return f.defaults({value:e},i)}else return e})}var f=n(4);var _=n(87);var m=new Array(60).join("-");var g="\t";var b=new RegExp("["+g+"]+","g");p.defaultOption={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:"数据视图",lang:["数据视图","关闭","刷新"],backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};p.prototype.onclick=function(e,t){function n(){i.removeChild(o);y._dom=null}var i=t.getDom();var a=this.model;if(this._dom)i.removeChild(this._dom);var o=document.createElement("div");o.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;";o.style.backgroundColor=a.get("backgroundColor")||"#fff";var r=document.createElement("h4");var d=a.get("lang")||[];r.innerHTML=d[0]||a.get("title");r.style.cssText="margin: 10px 20px;";r.style.color=a.get("textColor");var c=document.createElement("div");var l=document.createElement("textarea");c.style.cssText="display:block;width:100%;overflow:hidden;";var p=a.get("optionToContent");var u=a.get("contentToOption");var m=s(e);if("function"==typeof p){var b=p(t.getOption());if("string"==typeof b)c.innerHTML=b;else if(f.isDom(b))c.appendChild(b)}else{c.appendChild(l);l.readOnly=a.get("readOnly");l.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;";l.style.color=a.get("textColor");l.style.borderColor=a.get("textareaBorderColor");l.style.backgroundColor=a.get("textareaColor");l.value=m.value}var x=m.meta;var v=document.createElement("div");v.style.cssText="position:absolute;bottom:0;left:0;right:0;";var C="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px";var w=document.createElement("div");var I=document.createElement("div");C+=";background-color:"+a.get("buttonColor");C+=";color:"+a.get("buttonTextColor");var y=this;_.addEventListener(w,"click",n);_.addEventListener(I,"click",function(){var e;try{if("function"==typeof u)e=u(c,t.getOption());else e=h(l.value,x)}catch(i){n();throw new Error("Data view format error "+i)}if(e)t.dispatchAction({type:"changeDataView",newOption:e});n()});w.innerHTML=d[1];I.innerHTML=d[2];I.style.cssText=C;w.style.cssText=C;!a.get("readOnly")&&v.appendChild(I);v.appendChild(w);_.addEventListener(l,"keydown",function(e){if(9===(e.keyCode||e.which)){var t=this.value;var n=this.selectionStart;var i=this.selectionEnd;this.value=t.substring(0,n)+g+t.substring(i);this.selectionStart=this.selectionEnd=n+1;_.stop(e)}});o.appendChild(r);o.appendChild(c);o.appendChild(v);c.style.height=i.clientHeight-80+"px";i.appendChild(o);this._dom=o};p.prototype.remove=function(e,t){this._dom&&t.getDom().removeChild(this._dom)};p.prototype.dispose=function(e,t){this.remove(e,t)};n(314).register("dataView",p);n(1).registerAction({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(e,t){var n=[];f.each(e.newOption.series,function(e){var i=t.getSeriesByName(e.name)[0];if(!i)n.push(f.extend({type:"scatter"},e));else{var a=i.get("data");n.push({name:e.name,data:u(e.data,a)})}});t.mergeOption(f.defaults({series:n},e.newOption))});e.exports=p},function(e,t,n){"use strict";function i(e,t,n){(this._brushController=new d(n.getZr())).on("brush",r.bind(this._onBrush,this)).mount();this._isZoomActive}function a(e){var t={};r.each(["xAxisIndex","yAxisIndex"],function(n){t[n]=e[n];null==t[n]&&(t[n]="all");(t[n]===!1||"none"===t[n])&&(t[n]=[])});return t}function o(e,t){e.setIconStatus("back",l.count(t)>1?"emphasis":"normal")}function s(e,t,n,i){var o=n._isZoomActive;if(i&&"takeGlobalCursor"===i.type)o="dataZoomSelect"===i.key?i.dataZoomSelectActive:!1;n._isZoomActive=o;e.setIconStatus("zoom",o?"emphasis":"normal");var s=c.makeCoordInfoList(a(e.option),t);var r=s.xAxisHas&&!s.yAxisHas?"lineX":!s.xAxisHas&&s.yAxisHas?"lineY":"rect";n._brushController.setPanels(c.makePanelOpts(s)).enableBrush(o?{brushType:r,brushStyle:{lineWidth:0,fill:"rgba(0,0,0,0.2)"}}:!1)}var r=n(4);var d=n(233);var c=n(309);var l=n(374);var h=r.each;n(375);var p="\0_ec_\0toolbox-dataZoom_";i.defaultOption={show:!0,icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:{zoom:"区域缩放",back:"区域缩放还原"}};var u=i.prototype;u.render=function(e,t,n,i){this.model=e;this.ecModel=t;this.api=n;s(e,t,this,i);o(e,t)};u.onclick=function(e,t,n){f[n].call(this)};u.remove=function(e,t){this._brushController.unmount()};u.dispose=function(e,t){this._brushController.dispose()};var f={zoom:function(){var e=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:e})},back:function(){this._dispatchZoomAction(l.pop(this.ecModel))}};u._onBrush=function(e,t){function n(e,t,n){var a=i(e,n[e],s);if(a)o[a.id]={dataZoomId:a.id,startValue:t[0],endValue:t[1]}}function i(e,t,n){var i;n.eachComponent({mainType:"dataZoom",subType:"select"},function(a,o){var s=a.get(e+"Index");if(null!=s&&n.getComponent(e,s)===t)i=a});return i}if(t.isEnd&&e.length){var o={};var s=this.ecModel;this._brushController.updateCovers([]);var r=c.makeCoordInfoList(a(this.model.option),s);var d=[];c.parseOutputRanges(e,r,s,d);var h=e[0];var p=d[0];var u=h.coordRange;var f=h.brushType;if(p&&u)if("rect"===f){n("xAxis",u[0],p);n("yAxis",u[1],p)}else{var _={lineX:"xAxis",lineY:"yAxis"};n(_[f],u,p)}l.push(s,o);this._dispatchZoomAction(o)}};u._dispatchZoomAction=function(e){var t=[];h(e,function(e,n){t.push(r.clone(e))});t.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:t})};n(314).register("dataZoom",i);n(1).registerPreprocessor(function(e){function t(e,t){if(t){var a=e+"Index";var o=t[a];if(null!=o&&"all"!=o&&!r.isArray(o))o=o===!1||"none"===o?[]:[o];n(e,function(t,n){if(null==o||"all"==o||r.indexOf(o,n)!==-1){var s={type:"select",$fromToolbox:!0,id:p+e+n};s[a]=n;i.push(s)}})}}function n(t,n){var i=e[t];if(!r.isArray(i))i=i?[i]:[];h(i,n)}if(e){var i=e.dataZoom||(e.dataZoom=[]);
if(!r.isArray(i))e.dataZoom=i=[i];var a=e.toolbox;if(a){if(r.isArray(a))a=a[0];if(a&&a.feature){var o=a.feature.dataZoom;t("xAxis",o);t("yAxis",o)}}}});e.exports=i},function(e,t,n){function i(e){var t=e[s];if(!t)t=e[s]=[{}];return t}var a=n(4);var o=a.each;var s="\0_ec_hist_store";var r={push:function(e,t){var n=i(e);o(t,function(t,i){var a=n.length-1;for(;a>=0;a--){var o=n[a];if(o[i])break}if(a<0){var s=e.queryComponents({mainType:"dataZoom",subType:"select",id:i})[0];if(s){var r=s.getPercentRange();n[0][i]={dataZoomId:i,start:r[0],end:r[1]}}}});n.push(t)},pop:function(e){var t=i(e);var n=t[t.length-1];t.length>1&&t.pop();var a={};o(n,function(e,n){for(var i=t.length-1;i>=0;i--){var e=t[i][n];if(e){a[n]=e;break}}});return a},clear:function(e){e[s]=null},count:function(e){return i(e).length}};e.exports=r},function(e,t,n){n(317);n(318);n(321);n(376);n(377);n(328);n(329)},function(e,t,n){var i=n(318);e.exports=i.extend({type:"dataZoom.select"})},function(e,t,n){e.exports=n(321).extend({type:"dataZoom.select"})},function(e,t,n){"use strict";function i(e){this.model=e}var a=n(374);i.defaultOption={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:"还原"};var o=i.prototype;o.onclick=function(e,t,n){a.clear(e);t.dispatchAction({type:"restore",from:this.uid})};n(314).register("restore",i);n(1).registerAction({type:"restore",event:"restore",update:"prepareAndUpdate"},function(e,t){t.resetOption("recreate")});e.exports=i},function(e,t,n){n(380);n(81).registerPainter("vml",n(382))},function(e,t,n){if(!n(2).canvasSupported){var i=n(10);var a=n(9);var o=n(49).CMD;var s=n(39);var r=n(8);var d=n(48);var c=n(46);var l=n(62);var h=n(64);var p=n(45);var u=n(61);var f=n(381);var _=Math.round;var m=Math.sqrt;var g=Math.abs;var b=Math.cos;var x=Math.sin;var v=Math.max;var C=i.applyTransform;var w=",";var I="progid:DXImageTransform.Microsoft";var y=21600;var $=y/2;var A=1e5;var E=1e3;var T=function(e){e.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px;";e.coordsize=y+","+y;e.coordorigin="0,0"};var N=function(e){return String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;")};var S=function(e,t,n){return"rgb("+[e,t,n].join(",")+")"};var k=function(e,t){if(t&&e&&t.parentNode!==e)e.appendChild(t)};var D=function(e,t){if(t&&e&&t.parentNode===e)e.removeChild(t)};var U=function(e,t,n){return(parseFloat(e)||0)*A+(parseFloat(t)||0)*E+n};var z=function(e,t){if("string"==typeof e)if(e.lastIndexOf("%")>=0)return parseFloat(e)/100*t;else return parseFloat(e);return e};var P=function(e,t,n){var i=s.parse(t);n=+n;if(isNaN(n))n=1;if(i){e.color=S(i[0],i[1],i[2]);e.opacity=n*i[3]}};var L=function(e){var t=s.parse(e);return[S(t[0],t[1],t[2]),t[3]]};var O=function(e,t,n){var i=t.fill;if(null!=i)if(i instanceof u){var a;var o=0;var s=[0,0];var r=0;var d=1;var c=n.getBoundingRect();var l=c.width;var h=c.height;if("linear"===i.type){a="gradient";var p=n.transform;var f=[i.x*l,i.y*h];var _=[i.x2*l,i.y2*h];if(p){C(f,f,p);C(_,_,p)}var m=_[0]-f[0];var g=_[1]-f[1];o=180*Math.atan2(m,g)/Math.PI;if(o<0)o+=360;if(o<1e-6)o=0}else{a="gradientradial";var f=[i.x*l,i.y*h];var p=n.transform;var b=n.scale;var x=l;var w=h;s=[(f[0]-c.x)/x,(f[1]-c.y)/w];if(p)C(f,f,p);x/=b[0]*y;w/=b[1]*y;var I=v(x,w);r=0/I;d=2*i.r/I-r}var $=i.colorStops.slice();$.sort(function(e,t){return e.offset-t.offset});var A=$.length;var E=[];var T=[];for(var N=0;N<A;N++){var S=$[N];var k=L(S.color);T.push(S.offset*d+r+" "+k[0]);if(0===N||N===A-1)E.push(k)}if(A>=2){var D=E[0][0];var U=E[1][0];var z=E[0][1]*t.opacity;var O=E[1][1]*t.opacity;e.type=a;e.method="none";e.focus="100%";e.angle=o;e.color=D;e.color2=U;e.colors=T.join(",");e.opacity=O;e.opacity2=z}if("radial"===a)e.focusposition=s.join(",")}else P(e,i,t.opacity)};var M=function(e,t){if(null!=t.lineDash)e.dashstyle=t.lineDash.join(" ");if(null!=t.stroke&&!(t.stroke instanceof u))P(e,t.stroke,t.opacity)};var B=function(e,t,n,i){var a="fill"==t;var o=e.getElementsByTagName(t)[0];if(null!=n[t]&&"none"!==n[t]&&(a||!a&&n.lineWidth)){e[a?"filled":"stroked"]="true";if(n[t]instanceof u)D(e,o);if(!o)o=f.createNode(t);a?O(o,n,i):M(o,n);k(e,o)}else{e[a?"filled":"stroked"]="false";D(e,o)}};var R=[[],[],[]];var j=function(e,t){var n=o.M;var i=o.C;var a=o.L;var s=o.A;var r=o.Q;var d=[];var c;var l;var h;var p;var u;var f;for(p=0;p<e.length;){h=e[p++];l="";c=0;switch(h){case n:l=" m ";c=1;u=e[p++];f=e[p++];R[0][0]=u;R[0][1]=f;break;case a:l=" l ";c=1;u=e[p++];f=e[p++];R[0][0]=u;R[0][1]=f;break;case r:case i:l=" c ";c=3;var g=e[p++];var v=e[p++];var I=e[p++];var A=e[p++];var E;var T;if(h===r){E=I;T=A;I=(I+2*g)/3;A=(A+2*v)/3;g=(u+2*g)/3;v=(f+2*v)/3}else{E=e[p++];T=e[p++]}R[0][0]=g;R[0][1]=v;R[1][0]=I;R[1][1]=A;R[2][0]=E;R[2][1]=T;u=E;f=T;break;case s:var N=0;var S=0;var k=1;var D=1;var U=0;if(t){N=t[4];S=t[5];k=m(t[0]*t[0]+t[1]*t[1]);D=m(t[2]*t[2]+t[3]*t[3]);U=Math.atan2(-t[1]/D,t[0]/k)}var z=e[p++];var P=e[p++];var L=e[p++];var O=e[p++];var M=e[p++]+U;var B=e[p++]+M+U;p++;var j=e[p++];var F=z+b(M)*L;var H=P+x(M)*O;var g=z+b(B)*L;var v=P+x(B)*O;var V=j?" wa ":" at ";if(Math.abs(F-g)<1e-10)if(Math.abs(B-M)>.01){if(j)F+=270/y}else if(Math.abs(H-P)<1e-10)if(j&&F<z||!j&&F>z)v-=270/y;else v+=270/y;else if(j&&H<P||!j&&H>P)g+=270/y;else g-=270/y;d.push(V,_(((z-L)*k+N)*y-$),w,_(((P-O)*D+S)*y-$),w,_(((z+L)*k+N)*y-$),w,_(((P+O)*D+S)*y-$),w,_((F*k+N)*y-$),w,_((H*D+S)*y-$),w,_((g*k+N)*y-$),w,_((v*D+S)*y-$));u=g;f=v;break;case o.R:var G=R[0];var J=R[1];G[0]=e[p++];G[1]=e[p++];J[0]=G[0]+e[p++];J[1]=G[1]+e[p++];if(t){C(G,G,t);C(J,J,t)}G[0]=_(G[0]*y-$);J[0]=_(J[0]*y-$);G[1]=_(G[1]*y-$);J[1]=_(J[1]*y-$);d.push(" m ",G[0],w,G[1]," l ",J[0],w,G[1]," l ",J[0],w,J[1]," l ",G[0],w,J[1]);break;case o.Z:d.push(" x ")}if(c>0){d.push(l);for(var W=0;W<c;W++){var q=R[W];t&&C(q,q,t);d.push(_(q[0]*y-$),w,_(q[1]*y-$),W<c-1?w:"")}}}return d.join("")};p.prototype.brushVML=function(e){var t=this.style;var n=this._vmlEl;if(!n){n=f.createNode("shape");T(n);this._vmlEl=n}B(n,"fill",t,this);B(n,"stroke",t,this);var i=this.transform;var a=null!=i;var o=n.getElementsByTagName("stroke")[0];if(o){var s=t.lineWidth;if(a&&!t.strokeNoScale){var r=i[0]*i[3]-i[1]*i[2];s*=m(g(r))}o.weight=s+"px"}var d=this.path;if(this.__dirtyPath){d.beginPath();this.buildPath(d,this.shape);d.toStatic();this.__dirtyPath=!1}n.path=j(d.data,this.transform);n.style.zIndex=U(this.zlevel,this.z,this.z2);k(e,n);if(t.text)this.drawRectText(e,this.getBoundingRect());else this.removeRectText(e)};p.prototype.onRemove=function(e){D(e,this._vmlEl);this.removeRectText(e)};p.prototype.onAdd=function(e){k(e,this._vmlEl);this.appendRectText(e)};var F=function(e){return"object"==typeof e&&e.tagName&&"IMG"===e.tagName.toUpperCase()};l.prototype.brushVML=function(e){var t=this.style;var n=t.image;var i;var a;if(F(n)){var o=n.src;if(o===this._imageSrc){i=this._imageWidth;a=this._imageHeight}else{var s=n.runtimeStyle;var r=s.width;var d=s.height;s.width="auto";s.height="auto";i=n.width;a=n.height;s.width=r;s.height=d;this._imageSrc=o;this._imageWidth=i;this._imageHeight=a}n=o}else if(n===this._imageSrc){i=this._imageWidth;a=this._imageHeight}if(n){var c=t.x||0;var l=t.y||0;var h=t.width;var p=t.height;var u=t.sWidth;var g=t.sHeight;var b=t.sx||0;var x=t.sy||0;var y=u&&g;var $=this._vmlEl;if(!$){$=f.doc.createElement("div");T($);this._vmlEl=$}var A=$.style;var E=!1;var N;var S=1;var D=1;if(this.transform){N=this.transform;S=m(N[0]*N[0]+N[1]*N[1]);D=m(N[2]*N[2]+N[3]*N[3]);E=N[1]||N[2]}if(E){var z=[c,l];var P=[c+h,l];var L=[c,l+p];var O=[c+h,l+p];C(z,z,N);C(P,P,N);C(L,L,N);C(O,O,N);var M=v(z[0],P[0],L[0],O[0]);var B=v(z[1],P[1],L[1],O[1]);var R=[];R.push("M11=",N[0]/S,w,"M12=",N[2]/D,w,"M21=",N[1]/S,w,"M22=",N[3]/D,w,"Dx=",_(c*S+N[4]),w,"Dy=",_(l*D+N[5]));A.padding="0 "+_(M)+"px "+_(B)+"px 0";A.filter=I+".Matrix("+R.join("")+", SizingMethod=clip)"}else{if(N){c=c*S+N[4];l=l*D+N[5]}A.filter="";A.left=_(c)+"px";A.top=_(l)+"px"}var j=this._imageEl;var H=this._cropEl;if(!j){j=f.doc.createElement("div");this._imageEl=j}var V=j.style;if(y){if(!i||!a){var G=new Image;var J=this;G.onload=function(){G.onload=null;i=G.width;a=G.height;V.width=_(S*i*h/u)+"px";V.height=_(D*a*p/g)+"px";J._imageWidth=i;J._imageHeight=a;J._imageSrc=n};G.src=n}else{V.width=_(S*i*h/u)+"px";V.height=_(D*a*p/g)+"px"}if(!H){H=f.doc.createElement("div");H.style.overflow="hidden";this._cropEl=H}var W=H.style;W.width=_((h+b*h/u)*S);W.height=_((p+x*p/g)*D);W.filter=I+".Matrix(Dx="+-b*h/u*S+",Dy="+-x*p/g*D+")";if(!H.parentNode)$.appendChild(H);if(j.parentNode!=H)H.appendChild(j)}else{V.width=_(S*h)+"px";V.height=_(D*p)+"px";$.appendChild(j);if(H&&H.parentNode){$.removeChild(H);this._cropEl=null}}var q="";var Y=t.opacity;if(Y<1)q+=".Alpha(opacity="+_(100*Y)+") ";q+=I+".AlphaImageLoader(src="+n+", SizingMethod=scale)";V.filter=q;$.style.zIndex=U(this.zlevel,this.z,this.z2);k(e,$);if(t.text)this.drawRectText(e,this.getBoundingRect())}};l.prototype.onRemove=function(e){D(e,this._vmlEl);this._vmlEl=null;this._cropEl=null;this._imageEl=null;this.removeRectText(e)};l.prototype.onAdd=function(e){k(e,this._vmlEl);this.appendRectText(e)};var H="normal";var V={};var G=0;var J=100;var W=document.createElement("div");var q=function(e){var t=V[e];if(!t){if(G>J){G=0;V={}}var n=W.style;var i;try{n.font=e;i=n.fontFamily.split(",")[0]}catch(a){}t={style:n.fontStyle||H,variant:n.fontVariant||H,weight:n.fontWeight||H,size:0|parseFloat(n.fontSize||12),family:i||"Microsoft YaHei"};V[e]=t;G++}return t};var Y;r.measureText=function(e,t){var n=f.doc;if(!Y){Y=n.createElement("div");Y.style.cssText="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;";f.doc.body.appendChild(Y)}try{Y.style.font=t}catch(i){}Y.innerHTML="";Y.appendChild(n.createTextNode(e));return{width:Y.offsetWidth}};var Q=new a;var K=function(e,t,n,i){var a=this.style;var o=a.text;if(o){var s;var d;var c=a.textAlign;var l=q(a.textFont);var h=l.style+" "+l.variant+" "+l.weight+" "+l.size+'px "'+l.family+'"';
var p=a.textBaseline;var u=a.textVerticalAlign;n=n||r.getBoundingRect(o,h,c,p);var m=this.transform;if(m&&!i){Q.copy(t);Q.applyTransform(m);t=Q}if(!i){var g=a.textPosition;var b=a.textDistance;if(g instanceof Array){s=t.x+z(g[0],t.width);d=t.y+z(g[1],t.height);c=c||"left";p=p||"top"}else{var x=r.adjustTextPositionOnRect(g,t,n,b);s=x.x;d=x.y;c=c||x.textAlign;p=p||x.textBaseline}}else{s=t.x;d=t.y}if(u){switch(u){case"middle":d-=n.height/2;break;case"bottom":d-=n.height}p="top"}var v=l.size;switch(p){case"hanging":case"top":d+=v/1.75;break;case"middle":break;default:d-=v/2.25}switch(c){case"left":break;case"center":s-=n.width/2;break;case"right":s-=n.width}var I=f.createNode;var y=this._textVmlEl;var $;var A;var E;if(!y){y=I("line");$=I("path");A=I("textpath");E=I("skew");A.style["v-text-align"]="left";T(y);$.textpathok=!0;A.on=!0;y.from="0 0";y.to="1000 0.05";k(y,E);k(y,$);k(y,A);this._textVmlEl=y}else{E=y.firstChild;$=E.nextSibling;A=$.nextSibling}var S=[s,d];var D=y.style;if(m&&i){C(S,S,m);E.on=!0;E.matrix=m[0].toFixed(3)+w+m[2].toFixed(3)+w+m[1].toFixed(3)+w+m[3].toFixed(3)+",0,0";E.offset=(_(S[0])||0)+","+(_(S[1])||0);E.origin="0 0";D.left="0px";D.top="0px"}else{E.on=!1;D.left=_(s)+"px";D.top=_(d)+"px"}A.string=N(o);try{A.style.font=h}catch(P){}B(y,"fill",{fill:i?a.fill:a.textFill,opacity:a.opacity},this);B(y,"stroke",{stroke:i?a.stroke:a.textStroke,opacity:a.opacity,lineDash:a.lineDash},this);y.style.zIndex=U(this.zlevel,this.z,this.z2);k(e,y)}};var X=function(e){D(e,this._textVmlEl);this._textVmlEl=null};var Z=function(e){k(e,this._textVmlEl)};var ee=[d,c,l,p,h];for(var te=0;te<ee.length;te++){var ne=ee[te].prototype;ne.drawRectText=K;ne.removeRectText=X;ne.appendRectText=Z}h.prototype.brushVML=function(e){var t=this.style;if(t.text)this.drawRectText(e,{x:t.x||0,y:t.y||0,width:0,height:0},this.getBoundingRect(),!0);else this.removeRectText(e)};h.prototype.onRemove=function(e){this.removeRectText(e)};h.prototype.onAdd=function(e){this.appendRectText(e)}}},function(e,t,n){if(!n(2).canvasSupported){var i="urn:schemas-microsoft-com:vml";var a;var o=window;var s=o.document;var r=!1;try{!s.namespaces.zrvml&&s.namespaces.add("zrvml",i);a=function(e){return s.createElement("<zrvml:"+e+' class="zrvml">')}}catch(d){a=function(e){return s.createElement("<"+e+' xmlns="'+i+'" class="zrvml">')}}var c=function(){if(!r){r=!0;var e=s.styleSheets;if(e.length<31)s.createStyleSheet().addRule(".zrvml","behavior:url(#default#VML)");else e[0].addRule(".zrvml","behavior:url(#default#VML)")}};e.exports={doc:s,initVML:c,createNode:a}}},function(e,t,n){function i(e){return parseInt(e,10)}function a(e,t){r.initVML();this.root=e;this.storage=t;var n=document.createElement("div");var i=document.createElement("div");n.style.cssText="display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;";i.style.cssText="position:absolute;left:0;top:0;";e.appendChild(n);this._vmlRoot=i;this._vmlViewport=n;this.resize();var a=t.delFromMap;var o=t.addToMap;t.delFromMap=function(e){var n=t.get(e);a.call(t,e);if(n)n.onRemove&&n.onRemove(i)};t.addToMap=function(e){e.onAdd&&e.onAdd(i);o.call(t,e)};this._firstPaint=!0}function o(e){return function(){s('In IE8.0 VML mode painter not support method "'+e+'"')}}var s=n(40);var r=n(381);a.prototype={constructor:a,getViewportRoot:function(){return this._vmlViewport},refresh:function(){var e=this.storage.getDisplayList(!0,!0);this._paintList(e)},_paintList:function(e){var t=this._vmlRoot;for(var n=0;n<e.length;n++){var i=e[n];if(i.invisible||i.ignore){if(!i.__alreadyNotVisible)i.onRemove(t);i.__alreadyNotVisible=!0}else{if(i.__alreadyNotVisible)i.onAdd(t);i.__alreadyNotVisible=!1;if(i.__dirty){i.beforeBrush&&i.beforeBrush();(i.brushVML||i.brush).call(i,t);i.afterBrush&&i.afterBrush()}}i.__dirty=!1}if(this._firstPaint){this._vmlViewport.appendChild(t);this._firstPaint=!1}},resize:function(){var e=this._getWidth();var t=this._getHeight();if(this._width!=e&&this._height!=t){this._width=e;this._height=t;var n=this._vmlViewport.style;n.width=e+"px";n.height=t+"px"}},dispose:function(){this.root.innerHTML="";this._vmlRoot=this._vmlViewport=this.storage=null},getWidth:function(){return this._width},getHeight:function(){return this._height},clear:function(){this.root.removeChild(this.vmlViewport)},_getWidth:function(){var e=this.root;var t=e.currentStyle;return(e.clientWidth||i(t.width))-i(t.paddingLeft)-i(t.paddingRight)|0},_getHeight:function(){var e=this.root;var t=e.currentStyle;return(e.clientHeight||i(t.height))-i(t.paddingTop)-i(t.paddingBottom)|0}};var d=["getLayer","insertLayer","eachLayer","eachBuildinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"];for(var c=0;c<d.length;c++){var l=d[c];a.prototype[l]=o(l)}e.exports=a}])});